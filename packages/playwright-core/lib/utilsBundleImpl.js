var Ch=Object.create;var li=Object.defineProperty;var Oh=Object.getOwnPropertyDescriptor;var Ih=Object.getOwnPropertyNames;var Th=Object.getPrototypeOf,Ah=Object.prototype.hasOwnProperty;var x=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Rh=(t,e)=>{for(var r in e)li(t,r,{get:e[r],enumerable:!0})},yo=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Ih(e))!Ah.call(t,n)&&n!==r&&li(t,n,{get:()=>e[n],enumerable:!(i=Oh(e,n))||i.enumerable});return t};var Te=(t,e,r)=>(r=t!=null?Ch(Th(t)):{},yo(e||!t||!t.__esModule?li(r,"default",{value:t,enumerable:!0}):r,t)),Bh=t=>yo(li({},"__esModule",{value:!0}),t);var So=x((Xg,Eo)=>{var wo={};Eo.exports=wo;var bo={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(bo).forEach(function(t){var e=bo[t],r=wo[t]=[];r.open="\x1B["+e[0]+"m",r.close="\x1B["+e[1]+"m"})});var Co=x((Qg,ko)=>{"use strict";ko.exports=function(t,e){e=e||process.argv;var r=e.indexOf("--"),i=/^-{1,2}/.test(t)?"":"--",n=e.indexOf(i+t);return n!==-1&&(r===-1?!0:n<r)}});var Io=x((Jg,Oo)=>{"use strict";var Lh=require("os"),rt=Co(),$e=process.env,Kt=void 0;rt("no-color")||rt("no-colors")||rt("color=false")?Kt=!1:(rt("color")||rt("colors")||rt("color=true")||rt("color=always"))&&(Kt=!0);"FORCE_COLOR"in $e&&(Kt=$e.FORCE_COLOR.length===0||parseInt($e.FORCE_COLOR,10)!==0);function Nh(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function Ph(t){if(Kt===!1)return 0;if(rt("color=16m")||rt("color=full")||rt("color=truecolor"))return 3;if(rt("color=256"))return 2;if(t&&!t.isTTY&&Kt!==!0)return 0;var e=Kt?1:0;if(process.platform==="win32"){var r=Lh.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in $e)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(n){return n in $e})||$e.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in $e)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test($e.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in $e){var i=parseInt(($e.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch($e.TERM_PROGRAM){case"iTerm.app":return i>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test($e.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test($e.TERM)||"COLORTERM"in $e?1:($e.TERM==="dumb",e)}function Qi(t){var e=Ph(t);return Nh(e)}Oo.exports={supportsColor:Qi,stdout:Qi(process.stdout),stderr:Qi(process.stderr)}});var Ao=x((e_,To)=>{To.exports=function(e,r){var i="";e=e||"Run the trap, drop the bass",e=e.split("");var n={a:["@","\u0104","\u023A","\u0245","\u0394","\u039B","\u0414"],b:["\xDF","\u0181","\u0243","\u026E","\u03B2","\u0E3F"],c:["\xA9","\u023B","\u03FE"],d:["\xD0","\u018A","\u0500","\u0501","\u0502","\u0503"],e:["\xCB","\u0115","\u018E","\u0258","\u03A3","\u03BE","\u04BC","\u0A6C"],f:["\u04FA"],g:["\u0262"],h:["\u0126","\u0195","\u04A2","\u04BA","\u04C7","\u050A"],i:["\u0F0F"],j:["\u0134"],k:["\u0138","\u04A0","\u04C3","\u051E"],l:["\u0139"],m:["\u028D","\u04CD","\u04CE","\u0520","\u0521","\u0D69"],n:["\xD1","\u014B","\u019D","\u0376","\u03A0","\u048A"],o:["\xD8","\xF5","\xF8","\u01FE","\u0298","\u047A","\u05DD","\u06DD","\u0E4F"],p:["\u01F7","\u048E"],q:["\u09CD"],r:["\xAE","\u01A6","\u0210","\u024C","\u0280","\u042F"],s:["\xA7","\u03DE","\u03DF","\u03E8"],t:["\u0141","\u0166","\u0373"],u:["\u01B1","\u054D"],v:["\u05D8"],w:["\u0428","\u0460","\u047C","\u0D70"],x:["\u04B2","\u04FE","\u04FC","\u04FD"],y:["\xA5","\u04B0","\u04CB"],z:["\u01B5","\u0240"]};return e.forEach(function(s){s=s.toLowerCase();var o=n[s]||[" "],a=Math.floor(Math.random()*o.length);typeof n[s]!="undefined"?i+=n[s][a]:i+=s}),i}});var Bo=x((t_,Ro)=>{Ro.exports=function(e,r){e=e||"   he is here   ";var i={up:["\u030D","\u030E","\u0304","\u0305","\u033F","\u0311","\u0306","\u0310","\u0352","\u0357","\u0351","\u0307","\u0308","\u030A","\u0342","\u0313","\u0308","\u034A","\u034B","\u034C","\u0303","\u0302","\u030C","\u0350","\u0300","\u0301","\u030B","\u030F","\u0312","\u0313","\u0314","\u033D","\u0309","\u0363","\u0364","\u0365","\u0366","\u0367","\u0368","\u0369","\u036A","\u036B","\u036C","\u036D","\u036E","\u036F","\u033E","\u035B","\u0346","\u031A"],down:["\u0316","\u0317","\u0318","\u0319","\u031C","\u031D","\u031E","\u031F","\u0320","\u0324","\u0325","\u0326","\u0329","\u032A","\u032B","\u032C","\u032D","\u032E","\u032F","\u0330","\u0331","\u0332","\u0333","\u0339","\u033A","\u033B","\u033C","\u0345","\u0347","\u0348","\u0349","\u034D","\u034E","\u0353","\u0354","\u0355","\u0356","\u0359","\u035A","\u0323"],mid:["\u0315","\u031B","\u0300","\u0301","\u0358","\u0321","\u0322","\u0327","\u0328","\u0334","\u0335","\u0336","\u035C","\u035D","\u035E","\u035F","\u0360","\u0362","\u0338","\u0337","\u0361"," \u0489"]},n=[].concat(i.up,i.down,i.mid);function s(l){var c=Math.floor(Math.random()*l);return c}function o(l){var c=!1;return n.filter(function(u){c=u===l}),c}function a(l,c){var u="",f,h;c=c||{},c.up=typeof c.up!="undefined"?c.up:!0,c.mid=typeof c.mid!="undefined"?c.mid:!0,c.down=typeof c.down!="undefined"?c.down:!0,c.size=typeof c.size!="undefined"?c.size:"maxi",l=l.split("");for(h in l)if(!o(h)){switch(u=u+l[h],f={up:0,down:0,mid:0},c.size){case"mini":f.up=s(8),f.mid=s(2),f.down=s(8);break;case"maxi":f.up=s(16)+3,f.mid=s(4)+1,f.down=s(64)+3;break;default:f.up=s(8)+1,f.mid=s(6)/2,f.down=s(8)+1;break}var p=["up","mid","down"];for(var d in p)for(var m=p[d],v=0;v<=f[m];v++)c[m]&&(u=u+i[m][s(i[m].length)])}return u}return a(e,r)}});var No=x((r_,Lo)=>{Lo.exports=function(t){return function(e,r,i){if(e===" ")return e;switch(r%3){case 0:return t.red(e);case 1:return t.white(e);case 2:return t.blue(e)}}}});var Fo=x((i_,Po)=>{Po.exports=function(t){return function(e,r,i){return r%2===0?e:t.inverse(e)}}});var Uo=x((n_,Mo)=>{Mo.exports=function(t){var e=["red","yellow","green","blue","magenta"];return function(r,i,n){return r===" "?r:t[e[i++%e.length]](r)}}});var jo=x((s_,Do)=>{Do.exports=function(t){var e=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(r,i,n){return r===" "?r:t[e[Math.round(Math.random()*(e.length-2))]](r)}}});var zo=x((a_,Go)=>{var le={};Go.exports=le;le.themes={};var Fh=require("util"),Rt=le.styles=So(),Ho=Object.defineProperties,Mh=new RegExp(/[\r\n]+/g);le.supportsColor=Io().supportsColor;typeof le.enabled=="undefined"&&(le.enabled=le.supportsColor()!==!1);le.enable=function(){le.enabled=!0};le.disable=function(){le.enabled=!1};le.stripColors=le.strip=function(t){return(""+t).replace(/\x1B\[\d+m/g,"")};var o_=le.stylize=function(e,r){if(!le.enabled)return e+"";var i=Rt[r];return!i&&r in le?le[r](e):i.open+e+i.close},Uh=/[|\\{}()[\]^$+*?.]/g,Dh=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(Uh,"\\$&")};function Vo(t){var e=function r(){return qh.apply(r,arguments)};return e._styles=t,e.__proto__=jh,e}var $o=function(){var t={};return Rt.grey=Rt.gray,Object.keys(Rt).forEach(function(e){Rt[e].closeRe=new RegExp(Dh(Rt[e].close),"g"),t[e]={get:function(){return Vo(this._styles.concat(e))}}}),t}(),jh=Ho(function(){},$o);function qh(){var t=Array.prototype.slice.call(arguments),e=t.map(function(o){return o!=null&&o.constructor===String?o:Fh.inspect(o)}).join(" ");if(!le.enabled||!e)return e;for(var r=e.indexOf(`
`)!=-1,i=this._styles,n=i.length;n--;){var s=Rt[i[n]];e=s.open+e.replace(s.closeRe,s.open)+s.close,r&&(e=e.replace(Mh,function(o){return s.close+o+s.open}))}return e}le.setTheme=function(t){if(typeof t=="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}for(var e in t)(function(r){le[r]=function(i){if(typeof t[r]=="object"){var n=i;for(var s in t[r])n=le[t[r][s]](n);return n}return le[t[r]](i)}})(e)};function Hh(){var t={};return Object.keys($o).forEach(function(e){t[e]={get:function(){return Vo([e])}}}),t}var Vh=function(e,r){var i=r.split("");return i=i.map(e),i.join("")};le.trap=Ao();le.zalgo=Bo();le.maps={};le.maps.america=No()(le);le.maps.zebra=Fo()(le);le.maps.rainbow=Uo()(le);le.maps.random=jo()(le);for(qo in le.maps)(function(t){le[t]=function(e){return Vh(le.maps[t],e)}})(qo);var qo;Ho(le,Hh())});var Yo=x((l_,Wo)=>{var $h=zo();Wo.exports=$h});var Ji=x((c_,Ko)=>{var Zt=1e3,Xt=Zt*60,Qt=Xt*60,Bt=Qt*24,Gh=Bt*7,zh=Bt*365.25;Ko.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return Wh(t);if(r==="number"&&isFinite(t))return e.long?Kh(t):Yh(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Wh(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return r*zh;case"weeks":case"week":case"w":return r*Gh;case"days":case"day":case"d":return r*Bt;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Qt;case"minutes":case"minute":case"mins":case"min":case"m":return r*Xt;case"seconds":case"second":case"secs":case"sec":case"s":return r*Zt;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Yh(t){var e=Math.abs(t);return e>=Bt?Math.round(t/Bt)+"d":e>=Qt?Math.round(t/Qt)+"h":e>=Xt?Math.round(t/Xt)+"m":e>=Zt?Math.round(t/Zt)+"s":t+"ms"}function Kh(t){var e=Math.abs(t);return e>=Bt?ci(t,e,Bt,"day"):e>=Qt?ci(t,e,Qt,"hour"):e>=Xt?ci(t,e,Xt,"minute"):e>=Zt?ci(t,e,Zt,"second"):t+" ms"}function ci(t,e,r,i){var n=e>=r*1.5;return Math.round(t/r)+" "+i+(n?"s":"")}});var en=x((u_,Zo)=>{function Zh(t){r.debug=r,r.default=r,r.coerce=l,r.disable=s,r.enable=n,r.enabled=o,r.humanize=Ji(),r.destroy=c,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let f=0;for(let h=0;h<u.length;h++)f=(f<<5)-f+u.charCodeAt(h),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=e;function r(u){let f,h=null,p,d;function m(...v){if(!m.enabled)return;let y=m,O=Number(new Date),w=O-(f||O);y.diff=w,y.prev=f,y.curr=O,f=O,v[0]=r.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let S=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(V,C)=>{if(V==="%%")return"%";S++;let M=r.formatters[C];if(typeof M=="function"){let E=v[S];V=M.call(y,E),v.splice(S,1),S--}return V}),r.formatArgs.call(y,v),(y.log||r.log).apply(y,v)}return m.namespace=u,m.useColors=r.useColors(),m.color=r.selectColor(u),m.extend=i,m.destroy=r.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(p!==r.namespaces&&(p=r.namespaces,d=r.enabled(u)),d),set:v=>{h=v}}),typeof r.init=="function"&&r.init(m),m}function i(u,f){let h=r(this.namespace+(typeof f=="undefined"?":":f)+u);return h.log=this.log,h}function n(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let f,h=(typeof u=="string"?u:"").split(/[\s,]+/),p=h.length;for(f=0;f<p;f++)!h[f]||(u=h[f].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.slice(1)+"$")):r.names.push(new RegExp("^"+u+"$")))}function s(){let u=[...r.names.map(a),...r.skips.map(a).map(f=>"-"+f)].join(",");return r.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let f,h;for(f=0,h=r.skips.length;f<h;f++)if(r.skips[f].test(u))return!1;for(f=0,h=r.names.length;f<h;f++)if(r.names[f].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Zo.exports=Zh});var Xo=x((Ke,ui)=>{Ke.formatArgs=Qh;Ke.save=Jh;Ke.load=ep;Ke.useColors=Xh;Ke.storage=tp();Ke.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Ke.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Xh(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Qh(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+ui.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(r++,n==="%c"&&(i=r))}),t.splice(i,0,e)}Ke.log=console.debug||console.log||(()=>{});function Jh(t){try{t?Ke.storage.setItem("debug",t):Ke.storage.removeItem("debug")}catch{}}function ep(){let t;try{t=Ke.storage.getItem("debug")}catch{}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function tp(){try{return localStorage}catch{}}ui.exports=en()(Ke);var{formatters:rp}=ui.exports;rp.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Jo=x((f_,Qo)=>{"use strict";Qo.exports=(t,e)=>{e=e||process.argv;let r=t.startsWith("-")?"":t.length===1?"-":"--",i=e.indexOf(r+t),n=e.indexOf("--");return i!==-1&&(n===-1?!0:i<n)}});var ta=x((h_,ea)=>{"use strict";var ip=require("os"),it=Jo(),qe=process.env,Jt;it("no-color")||it("no-colors")||it("color=false")?Jt=!1:(it("color")||it("colors")||it("color=true")||it("color=always"))&&(Jt=!0);"FORCE_COLOR"in qe&&(Jt=qe.FORCE_COLOR.length===0||parseInt(qe.FORCE_COLOR,10)!==0);function np(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function sp(t){if(Jt===!1)return 0;if(it("color=16m")||it("color=full")||it("color=truecolor"))return 3;if(it("color=256"))return 2;if(t&&!t.isTTY&&Jt!==!0)return 0;let e=Jt?1:0;if(process.platform==="win32"){let r=ip.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in qe)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(r=>r in qe)||qe.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in qe)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(qe.TEAMCITY_VERSION)?1:0;if(qe.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in qe){let r=parseInt((qe.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(qe.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(qe.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(qe.TERM)||"COLORTERM"in qe?1:(qe.TERM==="dumb",e)}function tn(t){let e=sp(t);return np(e)}ea.exports={supportsColor:tn,stdout:tn(process.stdout),stderr:tn(process.stderr)}});var ia=x((Ue,hi)=>{var op=require("tty"),fi=require("util");Ue.init=pp;Ue.log=up;Ue.formatArgs=lp;Ue.save=fp;Ue.load=hp;Ue.useColors=ap;Ue.destroy=fi.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Ue.colors=[6,2,3,4,5,1];try{let t=ta();t&&(t.stderr||t).level>=2&&(Ue.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Ue.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(n,s)=>s.toUpperCase()),i=process.env[e];return/^(yes|on|true|enabled)$/i.test(i)?i=!0:/^(no|off|false|disabled)$/i.test(i)?i=!1:i==="null"?i=null:i=Number(i),t[r]=i,t},{});function ap(){return"colors"in Ue.inspectOpts?Boolean(Ue.inspectOpts.colors):op.isatty(process.stderr.fd)}function lp(t){let{namespace:e,useColors:r}=this;if(r){let i=this.color,n="\x1B[3"+(i<8?i:"8;5;"+i),s=`  ${n};1m${e} \x1B[0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(n+"m+"+hi.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=cp()+e+" "+t[0]}function cp(){return Ue.inspectOpts.hideDate?"":new Date().toISOString()+" "}function up(...t){return process.stderr.write(fi.format(...t)+`
`)}function fp(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function hp(){return process.env.DEBUG}function pp(t){t.inspectOpts={};let e=Object.keys(Ue.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=Ue.inspectOpts[e[r]]}hi.exports=en()(Ue);var{formatters:ra}=hi.exports;ra.o=function(t){return this.inspectOpts.colors=this.useColors,fi.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};ra.O=function(t){return this.inspectOpts.colors=this.useColors,fi.inspect(t,this.inspectOpts)}});var er=x((p_,rn)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?rn.exports=Xo():rn.exports=ia()});var sa=x(na=>{"use strict";var dp=require("url").parse,mp={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},vp=String.prototype.endsWith||function(t){return t.length<=this.length&&this.indexOf(t,this.length-t.length)!==-1};function gp(t){var e=typeof t=="string"?dp(t):t||{},r=e.protocol,i=e.host,n=e.port;if(typeof i!="string"||!i||typeof r!="string"||(r=r.split(":",1)[0],i=i.replace(/:\d*$/,""),n=parseInt(n)||mp[r]||0,!_p(i,n)))return"";var s=tr("npm_config_"+r+"_proxy")||tr(r+"_proxy")||tr("npm_config_proxy")||tr("all_proxy");return s&&s.indexOf("://")===-1&&(s=r+"://"+s),s}function _p(t,e){var r=(tr("npm_config_no_proxy")||tr("no_proxy")).toLowerCase();return r?r==="*"?!1:r.split(/[,\s]/).every(function(i){if(!i)return!0;var n=i.match(/^(.+):(\d+)$/),s=n?n[1]:i,o=n?parseInt(n[2]):0;return o&&o!==e?!0:/^[.*]/.test(s)?(s.charAt(0)==="*"&&(s=s.slice(1)),!vp.call(t,s)):t!==s}):!0}function tr(t){return process.env[t.toLowerCase()]||process.env[t.toUpperCase()]||""}na.getProxyForUrl=gp});var oa=x(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});function xp(t){return function(e,r){return new Promise((i,n)=>{t.call(this,e,r,(s,o)=>{s?n(s):i(o)})})}}nn.default=xp});var an=x((on,la)=>{"use strict";var aa=on&&on.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},yp=require("events"),bp=aa(er()),wp=aa(oa()),Rr=bp.default("agent-base");function Ep(t){return Boolean(t)&&typeof t.addRequest=="function"}function sn(){let{stack:t}=new Error;return typeof t!="string"?!1:t.split(`
`).some(e=>e.indexOf("(https.js:")!==-1||e.indexOf("node:https:")!==-1)}function pi(t,e){return new pi.Agent(t,e)}(function(t){class e extends yp.EventEmitter{constructor(i,n){super();let s=n;typeof i=="function"?this.callback=i:i&&(s=i),this.timeout=null,s&&typeof s.timeout=="number"&&(this.timeout=s.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:sn()?443:80}set defaultPort(i){this.explicitDefaultPort=i}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:sn()?"https:":"http:"}set protocol(i){this.explicitProtocol=i}callback(i,n,s){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(i,n){let s=Object.assign({},n);typeof s.secureEndpoint!="boolean"&&(s.secureEndpoint=sn()),s.host==null&&(s.host="localhost"),s.port==null&&(s.port=s.secureEndpoint?443:80),s.protocol==null&&(s.protocol=s.secureEndpoint?"https:":"http:"),s.host&&s.path&&delete s.path,delete s.agent,delete s.hostname,delete s._defaultAgent,delete s.defaultPort,delete s.createConnection,i._last=!0,i.shouldKeepAlive=!1;let o=!1,a=null,l=s.timeout||this.timeout,c=p=>{i._hadError||(i.emit("error",p),i._hadError=!0)},u=()=>{a=null,o=!0;let p=new Error(`A "socket" was not created for HTTP request before ${l}ms`);p.code="ETIMEOUT",c(p)},f=p=>{o||(a!==null&&(clearTimeout(a),a=null),c(p))},h=p=>{if(o)return;if(a!=null&&(clearTimeout(a),a=null),Ep(p)){Rr("Callback returned another Agent instance %o",p.constructor.name),p.addRequest(i,s);return}if(p){p.once("free",()=>{this.freeSocket(p,s)}),i.onSocket(p);return}let d=new Error(`no Duplex stream was returned to agent-base for \`${i.method} ${i.path}\``);c(d)};if(typeof this.callback!="function"){c(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(Rr("Converting legacy callback function to promise"),this.promisifiedCallback=wp.default(this.callback)):this.promisifiedCallback=this.callback),typeof l=="number"&&l>0&&(a=setTimeout(u,l)),"port"in s&&typeof s.port!="number"&&(s.port=Number(s.port));try{Rr("Resolving socket for %o request: %o",s.protocol,`${i.method} ${i.path}`),Promise.resolve(this.promisifiedCallback(i,s)).then(h,f)}catch(p){Promise.reject(p).catch(f)}}freeSocket(i,n){Rr("Freeing socket %o %o",i.constructor.name,n),i.destroy()}destroy(){Rr("Destroying agent %o",this.constructor.name)}}t.Agent=e,t.prototype=t.Agent.prototype})(pi||(pi={}));la.exports=pi});var ca=x(Lr=>{"use strict";var Sp=Lr&&Lr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Lr,"__esModule",{value:!0});var kp=Sp(er()),Br=kp.default("https-proxy-agent:parse-proxy-response");function Cp(t){return new Promise((e,r)=>{let i=0,n=[];function s(){let f=t.read();f?u(f):t.once("readable",s)}function o(){t.removeListener("end",l),t.removeListener("error",c),t.removeListener("close",a),t.removeListener("readable",s)}function a(f){Br("onclose had error %o",f)}function l(){Br("onend")}function c(f){o(),Br("onerror %o",f),r(f)}function u(f){n.push(f),i+=f.length;let h=Buffer.concat(n,i);if(h.indexOf(`\r
\r
`)===-1){Br("have not received end of HTTP headers yet..."),s();return}let d=h.toString("ascii",0,h.indexOf(`\r
`)),m=+d.split(" ")[1];Br("got proxy server response: %o",d),e({statusCode:m,buffered:h})}t.on("error",c),t.on("close",a),t.on("end",l),s()})}Lr.default=Cp});var pa=x(Lt=>{"use strict";var Op=Lt&&Lt.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(f){o(f)}}function l(u){try{c(i.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):n(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})},rr=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Lt,"__esModule",{value:!0});var ua=rr(require("net")),fa=rr(require("tls")),Ip=rr(require("url")),Tp=rr(require("assert")),Ap=rr(er()),Rp=an(),Bp=rr(ca()),Nr=Ap.default("https-proxy-agent:agent"),ha=class extends Rp.Agent{constructor(e){let r;if(typeof e=="string"?r=Ip.default.parse(e):r=e,!r)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");Nr("creating new HttpsProxyAgent instance: %o",r);super(r);let i=Object.assign({},r);this.secureProxy=r.secureProxy||Pp(i.protocol),i.host=i.hostname||i.host,typeof i.port=="string"&&(i.port=parseInt(i.port,10)),!i.port&&i.host&&(i.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in i)&&(i.ALPNProtocols=["http 1.1"]),i.host&&i.path&&(delete i.path,delete i.pathname),this.proxy=i}callback(e,r){return Op(this,void 0,void 0,function*(){let{proxy:i,secureProxy:n}=this,s;n?(Nr("Creating `tls.Socket`: %o",i),s=fa.default.connect(i)):(Nr("Creating `net.Socket`: %o",i),s=ua.default.connect(i));let o=Object.assign({},i.headers),l=`CONNECT ${`${r.host}:${r.port}`} HTTP/1.1\r
`;i.auth&&(o["Proxy-Authorization"]=`Basic ${Buffer.from(i.auth).toString("base64")}`);let{host:c,port:u,secureEndpoint:f}=r;Np(u,f)||(c+=`:${u}`),o.Host=c,o.Connection="close";for(let v of Object.keys(o))l+=`${v}: ${o[v]}\r
`;let h=Bp.default(s);s.write(`${l}\r
`);let{statusCode:p,buffered:d}=yield h;if(p===200){if(e.once("socket",Lp),r.secureEndpoint){let v=r.servername||r.host;if(!v)throw new Error('Could not determine "servername"');return Nr("Upgrading socket connection to TLS"),fa.default.connect(Object.assign(Object.assign({},Fp(r,"host","hostname","path","port")),{socket:s,servername:v}))}return s}s.destroy();let m=new ua.default.Socket;return m.readable=!0,e.once("socket",v=>{Nr("replaying proxy buffer for failed request"),Tp.default(v.listenerCount("data")>0),v.push(d),v.push(null)}),m})}};Lt.default=ha;function Lp(t){t.resume()}function Np(t,e){return Boolean(!e&&t===80||e&&t===443)}function Pp(t){return typeof t=="string"?/^https:?$/i.test(t):!1}function Fp(t,...e){let r={},i;for(i in t)e.includes(i)||(r[i]=t[i]);return r}});var ma=x((un,da)=>{"use strict";var Mp=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},ln=Mp(pa());function cn(t){return new ln.default(t)}(function(t){t.HttpsProxyAgent=ln.default,t.prototype=ln.default.prototype})(cn||(cn={}));da.exports=cn});var _a=x((__,di)=>{var ga=ga||function(t){return Buffer.from(t).toString("base64")};function Up(t){var e=this,r=Math.round,i=Math.floor,n=new Array(64),s=new Array(64),o=new Array(64),a=new Array(64),l,c,u,f,h=new Array(65535),p=new Array(65535),d=new Array(64),m=new Array(64),v=[],y=0,O=7,w=new Array(64),S=new Array(64),b=new Array(64),V=new Array(256),C=new Array(2048),M,E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],B=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],ee=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],D=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function z(_){for(var U=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var Z=i((U[Y]*_+50)/100);Z<1?Z=1:Z>255&&(Z=255),n[E[Y]]=Z}for(var X=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var se=i((X[he]*_+50)/100);se<1?se=1:se>255&&(se=255),s[E[he]]=se}for(var pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ee=0,ke=0;ke<8;ke++)for(var G=0;G<8;G++)o[Ee]=1/(n[E[Ee]]*pe[ke]*pe[G]*8),a[Ee]=1/(s[E[Ee]]*pe[ke]*pe[G]*8),Ee++}function N(_,U){for(var Y=0,Z=0,X=new Array,he=1;he<=16;he++){for(var se=1;se<=_[he];se++)X[U[Z]]=[],X[U[Z]][0]=Y,X[U[Z]][1]=he,Z++,Y++;Y*=2}return X}function Ce(){l=N(I,R),c=N(ee,A),u=N($,B),f=N(F,D)}function ce(){for(var _=1,U=2,Y=1;Y<=15;Y++){for(var Z=_;Z<U;Z++)p[32767+Z]=Y,h[32767+Z]=[],h[32767+Z][1]=Y,h[32767+Z][0]=Z;for(var X=-(U-1);X<=-_;X++)p[32767+X]=Y,h[32767+X]=[],h[32767+X][1]=Y,h[32767+X][0]=U-1+X;_<<=1,U<<=1}}function re(){for(var _=0;_<256;_++)C[_]=19595*_,C[_+256>>0]=38470*_,C[_+512>>0]=7471*_+32768,C[_+768>>0]=-11059*_,C[_+1024>>0]=-21709*_,C[_+1280>>0]=32768*_+8421375,C[_+1536>>0]=-27439*_,C[_+1792>>0]=-5329*_}function ie(_){for(var U=_[0],Y=_[1]-1;Y>=0;)U&1<<Y&&(y|=1<<O),Y--,O--,O<0&&(y==255?(g(255),g(0)):g(y),O=7,y=0)}function g(_){v.push(_)}function H(_){g(_>>8&255),g(_&255)}function ge(_,U){var Y,Z,X,he,se,pe,Ee,ke,G=0,L,j=8,oe=64;for(L=0;L<j;++L){Y=_[G],Z=_[G+1],X=_[G+2],he=_[G+3],se=_[G+4],pe=_[G+5],Ee=_[G+6],ke=_[G+7];var me=Y+ke,Q=Y-ke,ye=Z+Ee,de=Z-Ee,W=X+pe,be=X-pe,Me=he+se,Ae=he-se,We=me+Me,Tt=me-Me,At=ye+W,Yt=ye-W;_[G]=We+At,_[G+4]=We-At;var ii=(Yt+Tt)*.707106781;_[G+2]=Tt+ii,_[G+6]=Tt-ii,We=Ae+be,At=be+de,Yt=de+Q;var Sr=(We-Yt)*.382683433,kr=.5411961*We+Sr,ni=1.306562965*Yt+Sr,Cr=At*.707106781,Or=Q+Cr,Ir=Q-Cr;_[G+5]=Ir+kr,_[G+3]=Ir-kr,_[G+1]=Or+ni,_[G+7]=Or-ni,G+=8}for(G=0,L=0;L<j;++L){Y=_[G],Z=_[G+8],X=_[G+16],he=_[G+24],se=_[G+32],pe=_[G+40],Ee=_[G+48],ke=_[G+56];var Tr=Y+ke,Zi=Y-ke,ao=Z+Ee,lo=Z-Ee,co=X+pe,uo=X-pe,fo=he+se,kh=he-se,Ar=Tr+fo,Xi=Tr-fo,si=ao+co,oi=ao-co;_[G]=Ar+si,_[G+32]=Ar-si;var ho=(oi+Xi)*.707106781;_[G+16]=Xi+ho,_[G+48]=Xi-ho,Ar=kh+uo,si=uo+lo,oi=lo+Zi;var po=(Ar-oi)*.382683433,mo=.5411961*Ar+po,vo=1.306562965*oi+po,go=si*.707106781,_o=Zi+go,xo=Zi-go;_[G+40]=xo+mo,_[G+24]=xo-mo,_[G+8]=_o+vo,_[G+56]=_o-vo,G++}var ai;for(L=0;L<oe;++L)ai=_[L]*U[L],d[L]=ai>0?ai+.5|0:ai-.5|0;return d}function _e(){H(65504),H(16),g(74),g(70),g(73),g(70),g(0),g(1),g(1),g(0),H(1),H(1),g(0),g(0)}function ue(_){if(!!_){H(65505),_[0]===69&&_[1]===120&&_[2]===105&&_[3]===102?H(_.length+2):(H(_.length+5+2),g(69),g(120),g(105),g(102),g(0));for(var U=0;U<_.length;U++)g(_[U])}}function fe(_,U){H(65472),H(17),g(8),H(U),H(_),g(3),g(1),g(17),g(0),g(2),g(17),g(1),g(3),g(17),g(1)}function ae(){H(65499),H(132),g(0);for(var _=0;_<64;_++)g(n[_]);g(1);for(var U=0;U<64;U++)g(s[U])}function P(){H(65476),H(418),g(0);for(var _=0;_<16;_++)g(I[_+1]);for(var U=0;U<=11;U++)g(R[U]);g(16);for(var Y=0;Y<16;Y++)g($[Y+1]);for(var Z=0;Z<=161;Z++)g(B[Z]);g(1);for(var X=0;X<16;X++)g(ee[X+1]);for(var he=0;he<=11;he++)g(A[he]);g(17);for(var se=0;se<16;se++)g(F[se+1]);for(var pe=0;pe<=161;pe++)g(D[pe])}function T(){H(65498),H(12),g(3),g(1),g(0),g(2),g(17),g(3),g(17),g(0),g(63),g(0)}function xe(_,U,Y,Z,X){for(var he=X[0],se=X[240],pe,Ee=16,ke=63,G=64,L=ge(_,U),j=0;j<G;++j)m[E[j]]=L[j];var oe=m[0]-Y;Y=m[0],oe==0?ie(Z[0]):(pe=32767+oe,ie(Z[p[pe]]),ie(h[pe]));for(var me=63;me>0&&m[me]==0;me--);if(me==0)return ie(he),Y;for(var Q=1,ye;Q<=me;){for(var de=Q;m[Q]==0&&Q<=me;++Q);var W=Q-de;if(W>=Ee){ye=W>>4;for(var be=1;be<=ye;++be)ie(se);W=W&15}pe=32767+m[Q],ie(X[(W<<4)+p[pe]]),ie(h[pe]),Q++}return me!=ke&&ie(he),Y}function K(){for(var _=String.fromCharCode,U=0;U<256;U++)V[U]=_(U)}this.encode=function(_,U){var Y=new Date().getTime();U&&ne(U),v=new Array,y=0,O=7,H(65496),_e(),ue(_.exifBuffer),ae(),fe(_.width,_.height),P(),T();var Z=0,X=0,he=0;y=0,O=7,this.encode.displayName="_encode_";for(var se=_.data,pe=_.width,Ee=_.height,ke=pe*4,G=pe*3,L,j=0,oe,me,Q,ye,de,W,be,Me;j<Ee;){for(L=0;L<ke;){for(ye=ke*j+L,de=ye,W=-1,be=0,Me=0;Me<64;Me++)be=Me>>3,W=(Me&7)*4,de=ye+be*ke+W,j+be>=Ee&&(de-=ke*(j+1+be-Ee)),L+W>=ke&&(de-=L+W-ke+4),oe=se[de++],me=se[de++],Q=se[de++],w[Me]=(C[oe]+C[me+256>>0]+C[Q+512>>0]>>16)-128,S[Me]=(C[oe+768>>0]+C[me+1024>>0]+C[Q+1280>>0]>>16)-128,b[Me]=(C[oe+1280>>0]+C[me+1536>>0]+C[Q+1792>>0]>>16)-128;Z=xe(w,o,Z,l,u),X=xe(S,a,X,c,f),he=xe(b,a,he,c,f),L+=32}j+=8}if(O>=0){var Ae=[];Ae[1]=O+1,Ae[0]=(1<<O+1)-1,ie(Ae)}if(H(65497),typeof di=="undefined")return new Uint8Array(v);return Buffer.from(v);var We,Tt};function ne(_){if(_<=0&&(_=1),_>100&&(_=100),M!=_){var U=0;_<50?U=Math.floor(5e3/_):U=Math.floor(200-_*2),z(U),M=_}}function tt(){var _=new Date().getTime();t||(t=50),K(),Ce(),ce(),re(),ne(t);var U=new Date().getTime()-_}tt()}typeof di!="undefined"?di.exports=va:typeof window!="undefined"&&(window["jpeg-js"]=window["jpeg-js"]||{},window["jpeg-js"].encode=va);function va(t,e){typeof e=="undefined"&&(e=50);var r=new Up(e),i=r.encode(t,e);return{data:i,width:t.width,height:t.height}}});var ya=x((x_,hn)=>{var fn=function(){"use strict";var e=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),r=4017,i=799,n=3406,s=2276,o=1567,a=3784,l=5793,c=2896;function u(){}function f(O,w){for(var S=0,b=[],V,C,M=16;M>0&&!O[M-1];)M--;b.push({children:[],index:0});var E=b[0],I;for(V=0;V<M;V++){for(C=0;C<O[V];C++){for(E=b.pop(),E.children[E.index]=w[S];E.index>0;){if(b.length===0)throw new Error("Could not recreate Huffman Table");E=b.pop()}for(E.index++,b.push(E);b.length<=V;)b.push(I={children:[],index:0}),E.children[E.index]=I.children,E=I;S++}V+1<M&&(b.push(I={children:[],index:0}),E.children[E.index]=I.children,E=I)}return b[0].children}function h(O,w,S,b,V,C,M,E,I,R){var $=S.precision,B=S.samplesPerLine,ee=S.scanLines,A=S.mcusPerLine,F=S.progressive,D=S.maxH,z=S.maxV,N=w,Ce=0,ce=0;function re(){if(ce>0)return ce--,Ce>>ce&1;if(Ce=O[w++],Ce==255){var L=O[w++];if(L)throw new Error("unexpected marker: "+(Ce<<8|L).toString(16))}return ce=7,Ce>>>7}function ie(L){for(var j=L,oe;(oe=re())!==null;){if(j=j[oe],typeof j=="number")return j;if(typeof j!="object")throw new Error("invalid huffman sequence")}return null}function g(L){for(var j=0;L>0;){var oe=re();if(oe===null)return;j=j<<1|oe,L--}return j}function H(L){var j=g(L);return j>=1<<L-1?j:j+(-1<<L)+1}function ge(L,j){var oe=ie(L.huffmanTableDC),me=oe===0?0:H(oe);j[0]=L.pred+=me;for(var Q=1;Q<64;){var ye=ie(L.huffmanTableAC),de=ye&15,W=ye>>4;if(de===0){if(W<15)break;Q+=16;continue}Q+=W;var be=e[Q];j[be]=H(de),Q++}}function _e(L,j){var oe=ie(L.huffmanTableDC),me=oe===0?0:H(oe)<<I;j[0]=L.pred+=me}function ue(L,j){j[0]|=re()<<I}var fe=0;function ae(L,j){if(fe>0){fe--;return}for(var oe=C,me=M;oe<=me;){var Q=ie(L.huffmanTableAC),ye=Q&15,de=Q>>4;if(ye===0){if(de<15){fe=g(de)+(1<<de)-1;break}oe+=16;continue}oe+=de;var W=e[oe];j[W]=H(ye)*(1<<I),oe++}}var P=0,T;function xe(L,j){for(var oe=C,me=M,Q=0;oe<=me;){var ye=e[oe],de=j[ye]<0?-1:1;switch(P){case 0:var W=ie(L.huffmanTableAC),be=W&15,Q=W>>4;if(be===0)Q<15?(fe=g(Q)+(1<<Q),P=4):(Q=16,P=1);else{if(be!==1)throw new Error("invalid ACn encoding");T=H(be),P=Q?2:3}continue;case 1:case 2:j[ye]?j[ye]+=(re()<<I)*de:(Q--,Q===0&&(P=P==2?3:0));break;case 3:j[ye]?j[ye]+=(re()<<I)*de:(j[ye]=T<<I,P=0);break;case 4:j[ye]&&(j[ye]+=(re()<<I)*de);break}oe++}P===4&&(fe--,fe===0&&(P=0))}function K(L,j,oe,me,Q){var ye=oe/A|0,de=oe%A,W=ye*L.v+me,be=de*L.h+Q;L.blocks[W]===void 0&&R.tolerantDecoding||j(L,L.blocks[W][be])}function ne(L,j,oe){var me=oe/L.blocksPerLine|0,Q=oe%L.blocksPerLine;L.blocks[me]===void 0&&R.tolerantDecoding||j(L,L.blocks[me][Q])}var tt=b.length,_,U,Y,Z,X,he;F?C===0?he=E===0?_e:ue:he=E===0?ae:xe:he=ge;var se=0,pe,Ee;tt==1?Ee=b[0].blocksPerLine*b[0].blocksPerColumn:Ee=A*S.mcusPerColumn,V||(V=Ee);for(var ke,G;se<Ee;){for(U=0;U<tt;U++)b[U].pred=0;if(fe=0,tt==1)for(_=b[0],X=0;X<V;X++)ne(_,he,se),se++;else for(X=0;X<V;X++){for(U=0;U<tt;U++)for(_=b[U],ke=_.h,G=_.v,Y=0;Y<G;Y++)for(Z=0;Z<ke;Z++)K(_,he,se,Y,Z);if(se++,se===Ee)break}if(se===Ee)do{if(O[w]===255&&O[w+1]!==0)break;w+=1}while(w<O.length-2);if(ce=0,pe=O[w]<<8|O[w+1],pe<65280)throw new Error("marker was not found");if(pe>=65488&&pe<=65495)w+=2;else break}return w-N}function p(O,w){var S=[],b=w.blocksPerLine,V=w.blocksPerColumn,C=b<<3,M=new Int32Array(64),E=new Uint8Array(64);function I(N,Ce,ce){var re=w.quantizationTable,ie,g,H,ge,_e,ue,fe,ae,P,T=ce,xe;for(xe=0;xe<64;xe++)T[xe]=N[xe]*re[xe];for(xe=0;xe<8;++xe){var K=8*xe;if(T[1+K]==0&&T[2+K]==0&&T[3+K]==0&&T[4+K]==0&&T[5+K]==0&&T[6+K]==0&&T[7+K]==0){P=l*T[0+K]+512>>10,T[0+K]=P,T[1+K]=P,T[2+K]=P,T[3+K]=P,T[4+K]=P,T[5+K]=P,T[6+K]=P,T[7+K]=P;continue}ie=l*T[0+K]+128>>8,g=l*T[4+K]+128>>8,H=T[2+K],ge=T[6+K],_e=c*(T[1+K]-T[7+K])+128>>8,ae=c*(T[1+K]+T[7+K])+128>>8,ue=T[3+K]<<4,fe=T[5+K]<<4,P=ie-g+1>>1,ie=ie+g+1>>1,g=P,P=H*a+ge*o+128>>8,H=H*o-ge*a+128>>8,ge=P,P=_e-fe+1>>1,_e=_e+fe+1>>1,fe=P,P=ae+ue+1>>1,ue=ae-ue+1>>1,ae=P,P=ie-ge+1>>1,ie=ie+ge+1>>1,ge=P,P=g-H+1>>1,g=g+H+1>>1,H=P,P=_e*s+ae*n+2048>>12,_e=_e*n-ae*s+2048>>12,ae=P,P=ue*i+fe*r+2048>>12,ue=ue*r-fe*i+2048>>12,fe=P,T[0+K]=ie+ae,T[7+K]=ie-ae,T[1+K]=g+fe,T[6+K]=g-fe,T[2+K]=H+ue,T[5+K]=H-ue,T[3+K]=ge+_e,T[4+K]=ge-_e}for(xe=0;xe<8;++xe){var ne=xe;if(T[8+ne]==0&&T[16+ne]==0&&T[24+ne]==0&&T[32+ne]==0&&T[40+ne]==0&&T[48+ne]==0&&T[56+ne]==0){P=l*ce[xe+0]+8192>>14,T[0+ne]=P,T[8+ne]=P,T[16+ne]=P,T[24+ne]=P,T[32+ne]=P,T[40+ne]=P,T[48+ne]=P,T[56+ne]=P;continue}ie=l*T[0+ne]+2048>>12,g=l*T[32+ne]+2048>>12,H=T[16+ne],ge=T[48+ne],_e=c*(T[8+ne]-T[56+ne])+2048>>12,ae=c*(T[8+ne]+T[56+ne])+2048>>12,ue=T[24+ne],fe=T[40+ne],P=ie-g+1>>1,ie=ie+g+1>>1,g=P,P=H*a+ge*o+2048>>12,H=H*o-ge*a+2048>>12,ge=P,P=_e-fe+1>>1,_e=_e+fe+1>>1,fe=P,P=ae+ue+1>>1,ue=ae-ue+1>>1,ae=P,P=ie-ge+1>>1,ie=ie+ge+1>>1,ge=P,P=g-H+1>>1,g=g+H+1>>1,H=P,P=_e*s+ae*n+2048>>12,_e=_e*n-ae*s+2048>>12,ae=P,P=ue*i+fe*r+2048>>12,ue=ue*r-fe*i+2048>>12,fe=P,T[0+ne]=ie+ae,T[56+ne]=ie-ae,T[8+ne]=g+fe,T[48+ne]=g-fe,T[16+ne]=H+ue,T[40+ne]=H-ue,T[24+ne]=ge+_e,T[32+ne]=ge-_e}for(xe=0;xe<64;++xe){var tt=128+(T[xe]+8>>4);Ce[xe]=tt<0?0:tt>255?255:tt}}y(C*V*8);for(var R,$,B=0;B<V;B++){var ee=B<<3;for(R=0;R<8;R++)S.push(new Uint8Array(C));for(var A=0;A<b;A++){I(w.blocks[B][A],E,M);var F=0,D=A<<3;for($=0;$<8;$++){var z=S[ee+$];for(R=0;R<8;R++)z[D+R]=E[F++]}}}return S}function d(O){return O<0?0:O>255?255:O}u.prototype={load:function(w){var S=new XMLHttpRequest;S.open("GET",w,!0),S.responseType="arraybuffer",S.onload=function(){var b=new Uint8Array(S.response||S.mozResponseArrayBuffer);this.parse(b),this.onload&&this.onload()}.bind(this),S.send(null)},parse:function(w){var S=this.opts.maxResolutionInMP*1e3*1e3,b=0,V=w.length;function C(){var W=w[b]<<8|w[b+1];return b+=2,W}function M(){var W=C(),be=w.subarray(b,b+W-2);return b+=be.length,be}function E(W){var be=0,Me=0,Ae,We;for(We in W.components)W.components.hasOwnProperty(We)&&(Ae=W.components[We],be<Ae.h&&(be=Ae.h),Me<Ae.v&&(Me=Ae.v));var Tt=Math.ceil(W.samplesPerLine/8/be),At=Math.ceil(W.scanLines/8/Me);for(We in W.components)if(W.components.hasOwnProperty(We)){Ae=W.components[We];var Yt=Math.ceil(Math.ceil(W.samplesPerLine/8)*Ae.h/be),ii=Math.ceil(Math.ceil(W.scanLines/8)*Ae.v/Me),Sr=Tt*Ae.h,kr=At*Ae.v,ni=kr*Sr,Cr=[];y(ni*256);for(var Or=0;Or<kr;Or++){for(var Ir=[],Tr=0;Tr<Sr;Tr++)Ir.push(new Int32Array(64));Cr.push(Ir)}Ae.blocksPerLine=Yt,Ae.blocksPerColumn=ii,Ae.blocks=Cr}W.maxH=be,W.maxV=Me,W.mcusPerLine=Tt,W.mcusPerColumn=At}var I=null,R=null,$=null,B,ee,A=[],F=[],D=[],z=[],N=C(),Ce=-1;if(this.comments=[],N!=65496)throw new Error("SOI not found");for(N=C();N!=65497;){var ce,re,ie;switch(N){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var g=M();if(N===65534){var H=String.fromCharCode.apply(null,g);this.comments.push(H)}N===65504&&g[0]===74&&g[1]===70&&g[2]===73&&g[3]===70&&g[4]===0&&(I={version:{major:g[5],minor:g[6]},densityUnits:g[7],xDensity:g[8]<<8|g[9],yDensity:g[10]<<8|g[11],thumbWidth:g[12],thumbHeight:g[13],thumbData:g.subarray(14,14+3*g[12]*g[13])}),N===65505&&g[0]===69&&g[1]===120&&g[2]===105&&g[3]===102&&g[4]===0&&(this.exifBuffer=g.subarray(5,g.length)),N===65518&&g[0]===65&&g[1]===100&&g[2]===111&&g[3]===98&&g[4]===101&&g[5]===0&&(R={version:g[6],flags0:g[7]<<8|g[8],flags1:g[9]<<8|g[10],transformCode:g[11]});break;case 65499:for(var ge=C(),_e=ge+b-2;b<_e;){var ue=w[b++];y(256);var fe=new Int32Array(64);if(ue>>4===0)for(re=0;re<64;re++){var ae=e[re];fe[ae]=w[b++]}else if(ue>>4===1)for(re=0;re<64;re++){var ae=e[re];fe[ae]=C()}else throw new Error("DQT: invalid table spec");A[ue&15]=fe}break;case 65472:case 65473:case 65474:C(),B={},B.extended=N===65473,B.progressive=N===65474,B.precision=w[b++],B.scanLines=C(),B.samplesPerLine=C(),B.components={},B.componentsOrder=[];var P=B.scanLines*B.samplesPerLine;if(P>S){var T=Math.ceil((P-S)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${T}MP`)}var xe=w[b++],K,ne=0,tt=0;for(ce=0;ce<xe;ce++){K=w[b];var _=w[b+1]>>4,U=w[b+1]&15,Y=w[b+2];B.componentsOrder.push(K),B.components[K]={h:_,v:U,quantizationIdx:Y},b+=3}E(B),F.push(B);break;case 65476:var Z=C();for(ce=2;ce<Z;){var X=w[b++],he=new Uint8Array(16),se=0;for(re=0;re<16;re++,b++)se+=he[re]=w[b];y(16+se);var pe=new Uint8Array(se);for(re=0;re<se;re++,b++)pe[re]=w[b];ce+=17+se,(X>>4===0?z:D)[X&15]=f(he,pe)}break;case 65501:C(),ee=C();break;case 65500:C(),C();break;case 65498:var Ee=C(),ke=w[b++],G=[],L;for(ce=0;ce<ke;ce++){L=B.components[w[b++]];var j=w[b++];L.huffmanTableDC=z[j>>4],L.huffmanTableAC=D[j&15],G.push(L)}var oe=w[b++],me=w[b++],Q=w[b++],ye=h(w,b,B,G,ee,oe,me,Q>>4,Q&15,this.opts);b+=ye;break;case 65535:w[b]!==255&&b--;break;default:if(w[b-3]==255&&w[b-2]>=192&&w[b-2]<=254){b-=3;break}else if(N===224||N==225){if(Ce!==-1)throw new Error(`first unknown JPEG marker at offset ${Ce.toString(16)}, second unknown JPEG marker ${N.toString(16)} at offset ${(b-1).toString(16)}`);Ce=b-1;let W=C();if(w[b+W-2]===255){b+=W-2;break}}throw new Error("unknown JPEG marker "+N.toString(16))}N=C()}if(F.length!=1)throw new Error("only single frame JPEGs supported");for(var ce=0;ce<F.length;ce++){var de=F[ce].components;for(var re in de)de[re].quantizationTable=A[de[re].quantizationIdx],delete de[re].quantizationIdx}this.width=B.samplesPerLine,this.height=B.scanLines,this.jfif=I,this.adobe=R,this.components=[];for(var ce=0;ce<B.componentsOrder.length;ce++){var L=B.components[B.componentsOrder[ce]];this.components.push({lines:p(B,L),scaleX:L.h/B.maxH,scaleY:L.v/B.maxV})}},getData:function(w,S){var b=this.width/w,V=this.height/S,C,M,E,I,R,$,B,ee,A,F,D=0,z,N,Ce,ce,re,ie,g,H,ge,_e,ue,fe=w*S*this.components.length;y(fe);var ae=new Uint8Array(fe);switch(this.components.length){case 1:for(C=this.components[0],F=0;F<S;F++)for(R=C.lines[0|F*C.scaleY*V],A=0;A<w;A++)z=R[0|A*C.scaleX*b],ae[D++]=z;break;case 2:for(C=this.components[0],M=this.components[1],F=0;F<S;F++)for(R=C.lines[0|F*C.scaleY*V],$=M.lines[0|F*M.scaleY*V],A=0;A<w;A++)z=R[0|A*C.scaleX*b],ae[D++]=z,z=$[0|A*M.scaleX*b],ae[D++]=z;break;case 3:for(ue=!0,this.adobe&&this.adobe.transformCode?ue=!0:typeof this.opts.colorTransform!="undefined"&&(ue=!!this.opts.colorTransform),C=this.components[0],M=this.components[1],E=this.components[2],F=0;F<S;F++)for(R=C.lines[0|F*C.scaleY*V],$=M.lines[0|F*M.scaleY*V],B=E.lines[0|F*E.scaleY*V],A=0;A<w;A++)ue?(z=R[0|A*C.scaleX*b],N=$[0|A*M.scaleX*b],Ce=B[0|A*E.scaleX*b],H=d(z+1.402*(Ce-128)),ge=d(z-.3441363*(N-128)-.71413636*(Ce-128)),_e=d(z+1.772*(N-128))):(H=R[0|A*C.scaleX*b],ge=$[0|A*M.scaleX*b],_e=B[0|A*E.scaleX*b]),ae[D++]=H,ae[D++]=ge,ae[D++]=_e;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(ue=!1,this.adobe&&this.adobe.transformCode?ue=!0:typeof this.opts.colorTransform!="undefined"&&(ue=!!this.opts.colorTransform),C=this.components[0],M=this.components[1],E=this.components[2],I=this.components[3],F=0;F<S;F++)for(R=C.lines[0|F*C.scaleY*V],$=M.lines[0|F*M.scaleY*V],B=E.lines[0|F*E.scaleY*V],ee=I.lines[0|F*I.scaleY*V],A=0;A<w;A++)ue?(z=R[0|A*C.scaleX*b],N=$[0|A*M.scaleX*b],Ce=B[0|A*E.scaleX*b],ce=ee[0|A*I.scaleX*b],re=255-d(z+1.402*(Ce-128)),ie=255-d(z-.3441363*(N-128)-.71413636*(Ce-128)),g=255-d(z+1.772*(N-128))):(re=R[0|A*C.scaleX*b],ie=$[0|A*M.scaleX*b],g=B[0|A*E.scaleX*b],ce=ee[0|A*I.scaleX*b]),ae[D++]=255-re,ae[D++]=255-ie,ae[D++]=255-g,ae[D++]=255-ce;break;default:throw new Error("Unsupported color mode")}return ae},copyToImageData:function(w,S){var b=w.width,V=w.height,C=w.data,M=this.getData(b,V),E=0,I=0,R,$,B,ee,A,F,D,z,N;switch(this.components.length){case 1:for($=0;$<V;$++)for(R=0;R<b;R++)B=M[E++],C[I++]=B,C[I++]=B,C[I++]=B,S&&(C[I++]=255);break;case 3:for($=0;$<V;$++)for(R=0;R<b;R++)D=M[E++],z=M[E++],N=M[E++],C[I++]=D,C[I++]=z,C[I++]=N,S&&(C[I++]=255);break;case 4:for($=0;$<V;$++)for(R=0;R<b;R++)A=M[E++],F=M[E++],B=M[E++],ee=M[E++],D=255-d(A*(1-ee/255)+ee),z=255-d(F*(1-ee/255)+ee),N=255-d(B*(1-ee/255)+ee),C[I++]=D,C[I++]=z,C[I++]=N,S&&(C[I++]=255);break;default:throw new Error("Unsupported color mode")}}};var m=0,v=0;function y(O=0){var w=m+O;if(w>v){var S=Math.ceil((w-v)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${S}MB`)}m=w}return u.resetMaxMemoryUsage=function(O){m=0,v=O},u.getBytesAllocated=function(){return m},u.requestMemoryAllocation=y,u}();typeof hn!="undefined"?hn.exports=xa:typeof window!="undefined"&&(window["jpeg-js"]=window["jpeg-js"]||{},window["jpeg-js"].decode=xa);function xa(t,e={}){var r={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},i={...r,...e},n=new Uint8Array(t),s=new fn;s.opts=i,fn.resetMaxMemoryUsage(i.maxMemoryUsageInMB*1024*1024),s.parse(n);var o=i.formatAsRGBA?4:3,a=s.width*s.height*o;try{fn.requestMemoryAllocation(a);var l={width:s.width,height:s.height,exifBuffer:s.exifBuffer,data:i.useTArray?new Uint8Array(a):Buffer.alloc(a)};s.comments.length>0&&(l.comments=s.comments)}catch(c){throw c instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+a):c}return s.copyToImageData(l,i.formatAsRGBA),l}});var wa=x((y_,ba)=>{var Dp=_a(),jp=ya();ba.exports={encode:Dp,decode:jp}});var Sa=x((b_,Ea)=>{var mt=require("constants"),qp=process.cwd,mi=null,Hp=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return mi||(mi=qp.call(process)),mi};try{process.cwd()}catch{}typeof process.chdir=="function"&&(pn=process.chdir,process.chdir=function(t){mi=null,pn.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,pn));var pn;Ea.exports=Vp;function Vp(t){mt.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(t),t.lutimes||r(t),t.chown=s(t.chown),t.fchown=s(t.fchown),t.lchown=s(t.lchown),t.chmod=i(t.chmod),t.fchmod=i(t.fchmod),t.lchmod=i(t.lchmod),t.chownSync=o(t.chownSync),t.fchownSync=o(t.fchownSync),t.lchownSync=o(t.lchownSync),t.chmodSync=n(t.chmodSync),t.fchmodSync=n(t.fchmodSync),t.lchmodSync=n(t.lchmodSync),t.stat=a(t.stat),t.fstat=a(t.fstat),t.lstat=a(t.lstat),t.statSync=l(t.statSync),t.fstatSync=l(t.fstatSync),t.lstatSync=l(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(u,f,h){h&&process.nextTick(h)},t.lchmodSync=function(){}),t.chown&&!t.lchown&&(t.lchown=function(u,f,h,p){p&&process.nextTick(p)},t.lchownSync=function(){}),Hp==="win32"&&(t.rename=typeof t.rename!="function"?t.rename:function(u){function f(h,p,d){var m=Date.now(),v=0;u(h,p,function y(O){if(O&&(O.code==="EACCES"||O.code==="EPERM")&&Date.now()-m<6e4){setTimeout(function(){t.stat(p,function(w,S){w&&w.code==="ENOENT"?u(h,p,y):d(O)})},v),v<100&&(v+=10);return}d&&d(O)})}return Object.setPrototypeOf&&Object.setPrototypeOf(f,u),f}(t.rename)),t.read=typeof t.read!="function"?t.read:function(u){function f(h,p,d,m,v,y){var O;if(y&&typeof y=="function"){var w=0;O=function(S,b,V){if(S&&S.code==="EAGAIN"&&w<10)return w++,u.call(t,h,p,d,m,v,O);y.apply(this,arguments)}}return u.call(t,h,p,d,m,v,O)}return Object.setPrototypeOf&&Object.setPrototypeOf(f,u),f}(t.read),t.readSync=typeof t.readSync!="function"?t.readSync:function(u){return function(f,h,p,d,m){for(var v=0;;)try{return u.call(t,f,h,p,d,m)}catch(y){if(y.code==="EAGAIN"&&v<10){v++;continue}throw y}}}(t.readSync);function e(u){u.lchmod=function(f,h,p){u.open(f,mt.O_WRONLY|mt.O_SYMLINK,h,function(d,m){if(d){p&&p(d);return}u.fchmod(m,h,function(v){u.close(m,function(y){p&&p(v||y)})})})},u.lchmodSync=function(f,h){var p=u.openSync(f,mt.O_WRONLY|mt.O_SYMLINK,h),d=!0,m;try{m=u.fchmodSync(p,h),d=!1}finally{if(d)try{u.closeSync(p)}catch{}else u.closeSync(p)}return m}}function r(u){mt.hasOwnProperty("O_SYMLINK")&&u.futimes?(u.lutimes=function(f,h,p,d){u.open(f,mt.O_SYMLINK,function(m,v){if(m){d&&d(m);return}u.futimes(v,h,p,function(y){u.close(v,function(O){d&&d(y||O)})})})},u.lutimesSync=function(f,h,p){var d=u.openSync(f,mt.O_SYMLINK),m,v=!0;try{m=u.futimesSync(d,h,p),v=!1}finally{if(v)try{u.closeSync(d)}catch{}else u.closeSync(d)}return m}):u.futimes&&(u.lutimes=function(f,h,p,d){d&&process.nextTick(d)},u.lutimesSync=function(){})}function i(u){return u&&function(f,h,p){return u.call(t,f,h,function(d){c(d)&&(d=null),p&&p.apply(this,arguments)})}}function n(u){return u&&function(f,h){try{return u.call(t,f,h)}catch(p){if(!c(p))throw p}}}function s(u){return u&&function(f,h,p,d){return u.call(t,f,h,p,function(m){c(m)&&(m=null),d&&d.apply(this,arguments)})}}function o(u){return u&&function(f,h,p){try{return u.call(t,f,h,p)}catch(d){if(!c(d))throw d}}}function a(u){return u&&function(f,h,p){typeof h=="function"&&(p=h,h=null);function d(m,v){v&&(v.uid<0&&(v.uid+=4294967296),v.gid<0&&(v.gid+=4294967296)),p&&p.apply(this,arguments)}return h?u.call(t,f,h,d):u.call(t,f,d)}}function l(u){return u&&function(f,h){var p=h?u.call(t,f,h):u.call(t,f);return p&&(p.uid<0&&(p.uid+=4294967296),p.gid<0&&(p.gid+=4294967296)),p}}function c(u){if(!u||u.code==="ENOSYS")return!0;var f=!process.getuid||process.getuid()!==0;return!!(f&&(u.code==="EINVAL"||u.code==="EPERM"))}}});var Oa=x((w_,Ca)=>{var ka=require("stream").Stream;Ca.exports=$p;function $p(t){return{ReadStream:e,WriteStream:r};function e(i,n){if(!(this instanceof e))return new e(i,n);ka.call(this);var s=this;this.path=i,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,n=n||{};for(var o=Object.keys(n),a=0,l=o.length;a<l;a++){var c=o[a];this[c]=n[c]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}t.open(this.path,this.flags,this.mode,function(u,f){if(u){s.emit("error",u),s.readable=!1;return}s.fd=f,s.emit("open",f),s._read()})}function r(i,n){if(!(this instanceof r))return new r(i,n);ka.call(this),this.path=i,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,n=n||{};for(var s=Object.keys(n),o=0,a=s.length;o<a;o++){var l=s[o];this[l]=n[l]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var Ta=x((E_,Ia)=>{"use strict";Ia.exports=zp;var Gp=Object.getPrototypeOf||function(t){return t.__proto__};function zp(t){if(t===null||typeof t!="object")return t;if(t instanceof Object)var e={__proto__:Gp(t)};else var e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}});var gn=x((S_,vn)=>{var Ie=require("fs"),Wp=Sa(),Yp=Oa(),Kp=Ta(),vi=require("util"),De,_i;typeof Symbol=="function"&&typeof Symbol.for=="function"?(De=Symbol.for("graceful-fs.queue"),_i=Symbol.for("graceful-fs.previous")):(De="___graceful-fs.queue",_i="___graceful-fs.previous");function Zp(){}function Ba(t,e){Object.defineProperty(t,De,{get:function(){return e}})}var Nt=Zp;vi.debuglog?Nt=vi.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(Nt=function(){var t=vi.format.apply(vi,arguments);t="GFS4: "+t.split(/\n/).join(`
GFS4: `),console.error(t)});Ie[De]||(Aa=global[De]||[],Ba(Ie,Aa),Ie.close=function(t){function e(r,i){return t.call(Ie,r,function(n){n||Ra(),typeof i=="function"&&i.apply(this,arguments)})}return Object.defineProperty(e,_i,{value:t}),e}(Ie.close),Ie.closeSync=function(t){function e(r){t.apply(Ie,arguments),Ra()}return Object.defineProperty(e,_i,{value:t}),e}(Ie.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){Nt(Ie[De]),require("assert").equal(Ie[De].length,0)}));var Aa;global[De]||Ba(global,Ie[De]);vn.exports=dn(Kp(Ie));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!Ie.__patched&&(vn.exports=dn(Ie),Ie.__patched=!0);function dn(t){Wp(t),t.gracefulify=dn,t.createReadStream=b,t.createWriteStream=V;var e=t.readFile;t.readFile=r;function r(E,I,R){return typeof I=="function"&&(R=I,I=null),$(E,I,R);function $(B,ee,A,F){return e(B,ee,function(D){D&&(D.code==="EMFILE"||D.code==="ENFILE")?ir([$,[B,ee,A],D,F||Date.now(),Date.now()]):typeof A=="function"&&A.apply(this,arguments)})}}var i=t.writeFile;t.writeFile=n;function n(E,I,R,$){return typeof R=="function"&&($=R,R=null),B(E,I,R,$);function B(ee,A,F,D,z){return i(ee,A,F,function(N){N&&(N.code==="EMFILE"||N.code==="ENFILE")?ir([B,[ee,A,F,D],N,z||Date.now(),Date.now()]):typeof D=="function"&&D.apply(this,arguments)})}}var s=t.appendFile;s&&(t.appendFile=o);function o(E,I,R,$){return typeof R=="function"&&($=R,R=null),B(E,I,R,$);function B(ee,A,F,D,z){return s(ee,A,F,function(N){N&&(N.code==="EMFILE"||N.code==="ENFILE")?ir([B,[ee,A,F,D],N,z||Date.now(),Date.now()]):typeof D=="function"&&D.apply(this,arguments)})}}var a=t.copyFile;a&&(t.copyFile=l);function l(E,I,R,$){return typeof R=="function"&&($=R,R=0),B(E,I,R,$);function B(ee,A,F,D,z){return a(ee,A,F,function(N){N&&(N.code==="EMFILE"||N.code==="ENFILE")?ir([B,[ee,A,F,D],N,z||Date.now(),Date.now()]):typeof D=="function"&&D.apply(this,arguments)})}}var c=t.readdir;t.readdir=f;var u=/^v[0-5]\./;function f(E,I,R){typeof I=="function"&&(R=I,I=null);var $=u.test(process.version)?function(A,F,D,z){return c(A,B(A,F,D,z))}:function(A,F,D,z){return c(A,F,B(A,F,D,z))};return $(E,I,R);function B(ee,A,F,D){return function(z,N){z&&(z.code==="EMFILE"||z.code==="ENFILE")?ir([$,[ee,A,F],z,D||Date.now(),Date.now()]):(N&&N.sort&&N.sort(),typeof F=="function"&&F.call(this,z,N))}}}if(process.version.substr(0,4)==="v0.8"){var h=Yp(t);y=h.ReadStream,w=h.WriteStream}var p=t.ReadStream;p&&(y.prototype=Object.create(p.prototype),y.prototype.open=O);var d=t.WriteStream;d&&(w.prototype=Object.create(d.prototype),w.prototype.open=S),Object.defineProperty(t,"ReadStream",{get:function(){return y},set:function(E){y=E},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return w},set:function(E){w=E},enumerable:!0,configurable:!0});var m=y;Object.defineProperty(t,"FileReadStream",{get:function(){return m},set:function(E){m=E},enumerable:!0,configurable:!0});var v=w;Object.defineProperty(t,"FileWriteStream",{get:function(){return v},set:function(E){v=E},enumerable:!0,configurable:!0});function y(E,I){return this instanceof y?(p.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}function O(){var E=this;M(E.path,E.flags,E.mode,function(I,R){I?(E.autoClose&&E.destroy(),E.emit("error",I)):(E.fd=R,E.emit("open",R),E.read())})}function w(E,I){return this instanceof w?(d.apply(this,arguments),this):w.apply(Object.create(w.prototype),arguments)}function S(){var E=this;M(E.path,E.flags,E.mode,function(I,R){I?(E.destroy(),E.emit("error",I)):(E.fd=R,E.emit("open",R))})}function b(E,I){return new t.ReadStream(E,I)}function V(E,I){return new t.WriteStream(E,I)}var C=t.open;t.open=M;function M(E,I,R,$){return typeof R=="function"&&($=R,R=null),B(E,I,R,$);function B(ee,A,F,D,z){return C(ee,A,F,function(N,Ce){N&&(N.code==="EMFILE"||N.code==="ENFILE")?ir([B,[ee,A,F,D],N,z||Date.now(),Date.now()]):typeof D=="function"&&D.apply(this,arguments)})}}return t}function ir(t){Nt("ENQUEUE",t[0].name,t[1]),Ie[De].push(t),mn()}var gi;function Ra(){for(var t=Date.now(),e=0;e<Ie[De].length;++e)Ie[De][e].length>2&&(Ie[De][e][3]=t,Ie[De][e][4]=t);mn()}function mn(){if(clearTimeout(gi),gi=void 0,Ie[De].length!==0){var t=Ie[De].shift(),e=t[0],r=t[1],i=t[2],n=t[3],s=t[4];if(n===void 0)Nt("RETRY",e.name,r),e.apply(null,r);else if(Date.now()-n>=6e4){Nt("TIMEOUT",e.name,r);var o=r.pop();typeof o=="function"&&o.call(null,i)}else{var a=Date.now()-s,l=Math.max(s-n,1),c=Math.min(l*1.2,100);a>=c?(Nt("RETRY",e.name,r),e.apply(null,r.concat([n]))):Ie[De].push(t)}gi===void 0&&(gi=setTimeout(mn,0))}}});var Na=x((k_,La)=>{function Qe(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}La.exports=Qe;Qe.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts};Qe.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null};Qe.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),r=this._timeouts.shift();else return!1;var i=this,n=setTimeout(function(){i._attempts++,i._operationTimeoutCb&&(i._timeout=setTimeout(function(){i._operationTimeoutCb(i._attempts)},i._operationTimeout),i._options.unref&&i._timeout.unref()),i._fn(i._attempts)},r);return this._options.unref&&n.unref(),!0};Qe.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};Qe.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};Qe.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};Qe.prototype.start=Qe.prototype.try;Qe.prototype.errors=function(){return this._errors};Qe.prototype.attempts=function(){return this._attempts};Qe.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,r=0,i=0;i<this._errors.length;i++){var n=this._errors[i],s=n.message,o=(t[s]||0)+1;t[s]=o,o>=r&&(e=n,r=o)}return e}});var Pa=x(Pt=>{var Xp=Na();Pt.operation=function(t){var e=Pt.timeouts(t);return new Xp(e,{forever:t&&t.forever,unref:t&&t.unref,maxRetryTime:t&&t.maxRetryTime})};Pt.timeouts=function(t){if(t instanceof Array)return[].concat(t);var e={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var r in t)e[r]=t[r];if(e.minTimeout>e.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var i=[],n=0;n<e.retries;n++)i.push(this.createTimeout(n,e));return t&&t.forever&&!i.length&&i.push(this.createTimeout(n,e)),i.sort(function(s,o){return s-o}),i};Pt.createTimeout=function(t,e){var r=e.randomize?Math.random()+1:1,i=Math.round(r*e.minTimeout*Math.pow(e.factor,t));return i=Math.min(i,e.maxTimeout),i};Pt.wrap=function(t,e,r){if(e instanceof Array&&(r=e,e=null),!r){r=[];for(var i in t)typeof t[i]=="function"&&r.push(i)}for(var n=0;n<r.length;n++){var s=r[n],o=t[s];t[s]=function(l){var c=Pt.operation(e),u=Array.prototype.slice.call(arguments,1),f=u.pop();u.push(function(h){c.retry(h)||(h&&(arguments[0]=c.mainError()),f.apply(this,arguments))}),c.attempt(function(){l.apply(t,u)})}.bind(t,o),t[s].options=e}}});var Ma=x((O_,Fa)=>{Fa.exports=Pa()});var Ua=x((I_,xi)=>{xi.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&xi.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&xi.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var Va=x((T_,or)=>{var Oe=global.process,Ft=function(t){return t&&typeof t=="object"&&typeof t.removeListener=="function"&&typeof t.emit=="function"&&typeof t.reallyExit=="function"&&typeof t.listeners=="function"&&typeof t.kill=="function"&&typeof t.pid=="number"&&typeof t.on=="function"};Ft(Oe)?(Da=require("assert"),nr=Ua(),ja=/^win/i.test(Oe.platform),Pr=require("events"),typeof Pr!="function"&&(Pr=Pr.EventEmitter),Oe.__signal_exit_emitter__?Ne=Oe.__signal_exit_emitter__:(Ne=Oe.__signal_exit_emitter__=new Pr,Ne.count=0,Ne.emitted={}),Ne.infinite||(Ne.setMaxListeners(1/0),Ne.infinite=!0),or.exports=function(t,e){if(!Ft(global.process))return function(){};Da.equal(typeof t,"function","a callback must be provided for exit handler"),sr===!1&&_n();var r="exit";e&&e.alwaysLast&&(r="afterexit");var i=function(){Ne.removeListener(r,t),Ne.listeners("exit").length===0&&Ne.listeners("afterexit").length===0&&yi()};return Ne.on(r,t),i},yi=function(){!sr||!Ft(global.process)||(sr=!1,nr.forEach(function(e){try{Oe.removeListener(e,bi[e])}catch{}}),Oe.emit=wi,Oe.reallyExit=xn,Ne.count-=1)},or.exports.unload=yi,Mt=function(e,r,i){Ne.emitted[e]||(Ne.emitted[e]=!0,Ne.emit(e,r,i))},bi={},nr.forEach(function(t){bi[t]=function(){if(!!Ft(global.process)){var r=Oe.listeners(t);r.length===Ne.count&&(yi(),Mt("exit",null,t),Mt("afterexit",null,t),ja&&t==="SIGHUP"&&(t="SIGINT"),Oe.kill(Oe.pid,t))}}}),or.exports.signals=function(){return nr},sr=!1,_n=function(){sr||!Ft(global.process)||(sr=!0,Ne.count+=1,nr=nr.filter(function(e){try{return Oe.on(e,bi[e]),!0}catch{return!1}}),Oe.emit=Ha,Oe.reallyExit=qa)},or.exports.load=_n,xn=Oe.reallyExit,qa=function(e){!Ft(global.process)||(Oe.exitCode=e||0,Mt("exit",Oe.exitCode,null),Mt("afterexit",Oe.exitCode,null),xn.call(Oe,Oe.exitCode))},wi=Oe.emit,Ha=function(e,r){if(e==="exit"&&Ft(global.process)){r!==void 0&&(Oe.exitCode=r);var i=wi.apply(this,arguments);return Mt("exit",Oe.exitCode,null),Mt("afterexit",Oe.exitCode,null),i}else return wi.apply(this,arguments)}):or.exports=function(){return function(){}};var Da,nr,ja,Pr,Ne,yi,Mt,bi,sr,_n,xn,qa,wi,Ha});var Ga=x((A_,yn)=>{"use strict";var $a=Symbol();function Qp(t,e,r){let i=e[$a];if(i)return e.stat(t,(s,o)=>{if(s)return r(s);r(null,o.mtime,i)});let n=new Date(Math.ceil(Date.now()/1e3)*1e3+5);e.utimes(t,n,n,s=>{if(s)return r(s);e.stat(t,(o,a)=>{if(o)return r(o);let l=a.mtime.getTime()%1e3===0?"s":"ms";Object.defineProperty(e,$a,{value:l}),r(null,a.mtime,l)})})}function Jp(t){let e=Date.now();return t==="s"&&(e=Math.ceil(e/1e3)*1e3),new Date(e)}yn.exports.probe=Qp;yn.exports.getMtime=Jp});var Za=x((R_,Mr)=>{"use strict";var ed=require("path"),En=gn(),td=Ma(),rd=Va(),za=Ga(),ct={};function Fr(t,e){return e.lockfilePath||`${t}.lock`}function Sn(t,e,r){if(!e.realpath)return r(null,ed.resolve(t));e.fs.realpath(t,r)}function wn(t,e,r){let i=Fr(t,e);e.fs.mkdir(i,n=>{if(!n)return za.probe(i,e.fs,(s,o,a)=>{if(s)return e.fs.rmdir(i,()=>{}),r(s);r(null,o,a)});if(n.code!=="EEXIST")return r(n);if(e.stale<=0)return r(Object.assign(new Error("Lock file is already being held"),{code:"ELOCKED",file:t}));e.fs.stat(i,(s,o)=>{if(s)return s.code==="ENOENT"?wn(t,{...e,stale:0},r):r(s);if(!Wa(o,e))return r(Object.assign(new Error("Lock file is already being held"),{code:"ELOCKED",file:t}));Ya(t,e,a=>{if(a)return r(a);wn(t,{...e,stale:0},r)})})})}function Wa(t,e){return t.mtime.getTime()<Date.now()-e.stale}function Ya(t,e,r){e.fs.rmdir(Fr(t,e),i=>{if(i&&i.code!=="ENOENT")return r(i);r()})}function Ei(t,e){let r=ct[t];r.updateTimeout||(r.updateDelay=r.updateDelay||e.update,r.updateTimeout=setTimeout(()=>{r.updateTimeout=null,e.fs.stat(r.lockfilePath,(i,n)=>{let s=r.lastUpdate+e.stale<Date.now();if(i)return i.code==="ENOENT"||s?bn(t,r,Object.assign(i,{code:"ECOMPROMISED"})):(r.updateDelay=1e3,Ei(t,e));if(!(r.mtime.getTime()===n.mtime.getTime()))return bn(t,r,Object.assign(new Error("Unable to update lock within the stale threshold"),{code:"ECOMPROMISED"}));let a=za.getMtime(r.mtimePrecision);e.fs.utimes(r.lockfilePath,a,a,l=>{let c=r.lastUpdate+e.stale<Date.now();if(!r.released){if(l)return l.code==="ENOENT"||c?bn(t,r,Object.assign(l,{code:"ECOMPROMISED"})):(r.updateDelay=1e3,Ei(t,e));r.mtime=a,r.lastUpdate=Date.now(),r.updateDelay=null,Ei(t,e)}})})},r.updateDelay),r.updateTimeout.unref&&r.updateTimeout.unref())}function bn(t,e,r){e.released=!0,e.updateTimeout&&clearTimeout(e.updateTimeout),ct[t]===e&&delete ct[t],e.options.onCompromised(r)}function id(t,e,r){e={stale:1e4,update:null,realpath:!0,retries:0,fs:En,onCompromised:i=>{throw i},...e},e.retries=e.retries||0,e.retries=typeof e.retries=="number"?{retries:e.retries}:e.retries,e.stale=Math.max(e.stale||0,2e3),e.update=e.update==null?e.stale/2:e.update||0,e.update=Math.max(Math.min(e.update,e.stale/2),1e3),Sn(t,e,(i,n)=>{if(i)return r(i);let s=td.operation(e.retries);s.attempt(()=>{wn(n,e,(o,a,l)=>{if(s.retry(o))return;if(o)return r(s.mainError());let c=ct[n]={lockfilePath:Fr(n,e),mtime:a,mtimePrecision:l,options:e,lastUpdate:Date.now()};Ei(n,e),r(null,u=>{if(c.released)return u&&u(Object.assign(new Error("Lock is already released"),{code:"ERELEASED"}));Ka(n,{...e,realpath:!1},u)})})})})}function Ka(t,e,r){e={fs:En,realpath:!0,...e},Sn(t,e,(i,n)=>{if(i)return r(i);let s=ct[n];if(!s)return r(Object.assign(new Error("Lock is not acquired/owned by you"),{code:"ENOTACQUIRED"}));s.updateTimeout&&clearTimeout(s.updateTimeout),s.released=!0,delete ct[n],Ya(n,e,r)})}function nd(t,e,r){e={stale:1e4,realpath:!0,fs:En,...e},e.stale=Math.max(e.stale||0,2e3),Sn(t,e,(i,n)=>{if(i)return r(i);e.fs.stat(Fr(n,e),(s,o)=>s?s.code==="ENOENT"?r(null,!1):r(s):r(null,!Wa(o,e)))})}function sd(){return ct}rd(()=>{for(let t in ct){let e=ct[t].options;try{e.fs.rmdirSync(Fr(t,e))}catch{}}});Mr.exports.lock=id;Mr.exports.unlock=Ka;Mr.exports.check=nd;Mr.exports.getLocks=sd});var Qa=x((B_,Xa)=>{"use strict";var od=gn();function ad(t){let e=["mkdir","realpath","stat","rmdir","utimes"],r={...t};return e.forEach(i=>{r[i]=(...n)=>{let s=n.pop(),o;try{o=t[`${i}Sync`](...n)}catch(a){return s(a)}s(null,o)}}),r}function ld(t){return(...e)=>new Promise((r,i)=>{e.push((n,s)=>{n?i(n):r(s)}),t(...e)})}function cd(t){return(...e)=>{let r,i;if(e.push((n,s)=>{r=n,i=s}),t(...e),r)throw r;return i}}function ud(t){if(t={...t},t.fs=ad(t.fs||od),typeof t.retries=="number"&&t.retries>0||t.retries&&typeof t.retries.retries=="number"&&t.retries.retries>0)throw Object.assign(new Error("Cannot use retries with the sync api"),{code:"ESYNC"});return t}Xa.exports={toPromise:ld,toSync:cd,toSyncOptions:ud}});var el=x((L_,vt)=>{"use strict";var ar=Za(),{toPromise:Si,toSync:ki,toSyncOptions:kn}=Qa();async function Ja(t,e){let r=await Si(ar.lock)(t,e);return Si(r)}function fd(t,e){let r=ki(ar.lock)(t,kn(e));return ki(r)}function hd(t,e){return Si(ar.unlock)(t,e)}function pd(t,e){return ki(ar.unlock)(t,kn(e))}function dd(t,e){return Si(ar.check)(t,e)}function md(t,e){return ki(ar.check)(t,kn(e))}vt.exports=Ja;vt.exports.lock=Ja;vt.exports.unlock=hd;vt.exports.lockSync=fd;vt.exports.unlockSync=pd;vt.exports.check=dd;vt.exports.checkSync=md});var rl=x((N_,tl)=>{"use strict";function Ci(){this._types=Object.create(null),this._extensions=Object.create(null);for(let t=0;t<arguments.length;t++)this.define(arguments[t]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Ci.prototype.define=function(t,e){for(let r in t){let i=t[r].map(function(n){return n.toLowerCase()});r=r.toLowerCase();for(let n=0;n<i.length;n++){let s=i[n];if(s[0]!=="*"){if(!e&&s in this._types)throw new Error('Attempt to change mapping for "'+s+'" extension from "'+this._types[s]+'" to "'+r+'". Pass `force=true` to allow this, otherwise remove "'+s+'" from the list of extensions for "'+r+'".');this._types[s]=r}}if(e||!this._extensions[r]){let n=i[0];this._extensions[r]=n[0]!=="*"?n:n.substr(1)}}};Ci.prototype.getType=function(t){t=String(t);let e=t.replace(/^.*[/\\]/,"").toLowerCase(),r=e.replace(/^.*\./,"").toLowerCase(),i=e.length<t.length;return(r.length<e.length-1||!i)&&this._types[r]||null};Ci.prototype.getExtension=function(t){return t=/^\s*([^;\s]*)/.test(t)&&RegExp.$1,t&&this._extensions[t.toLowerCase()]||null};tl.exports=Ci});var nl=x((P_,il)=>{il.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}});var ol=x((F_,sl)=>{sl.exports={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}});var ll=x((M_,al)=>{"use strict";var vd=rl();al.exports=new vd(nl(),ol())});var ul=x((U_,cl)=>{cl.exports=function(t,e){for(var r=[],i=0;i<t.length;i++){var n=e(t[i],i);gd(n)?r.push.apply(r,n):r.push(n)}return r};var gd=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var ml=x((D_,dl)=>{"use strict";dl.exports=hl;function hl(t,e,r){t instanceof RegExp&&(t=fl(t,r)),e instanceof RegExp&&(e=fl(e,r));var i=pl(t,e,r);return i&&{start:i[0],end:i[1],pre:r.slice(0,i[0]),body:r.slice(i[0]+t.length,i[1]),post:r.slice(i[1]+e.length)}}function fl(t,e){var r=e.match(t);return r?r[0]:null}hl.range=pl;function pl(t,e,r){var i,n,s,o,a,l=r.indexOf(t),c=r.indexOf(e,l+1),u=l;if(l>=0&&c>0){if(t===e)return[l,c];for(i=[],s=r.length;u>=0&&!a;)u==l?(i.push(u),l=r.indexOf(t,u+1)):i.length==1?a=[i.pop(),c]:(n=i.pop(),n<s&&(s=n,o=c),c=r.indexOf(e,u+1)),u=l<c&&l>=0?l:c;i.length&&(a=[s,o])}return a}});var El=x((j_,wl)=>{var _d=ul(),vl=ml();wl.exports=bd;var gl="\0SLASH"+Math.random()+"\0",_l="\0OPEN"+Math.random()+"\0",On="\0CLOSE"+Math.random()+"\0",xl="\0COMMA"+Math.random()+"\0",yl="\0PERIOD"+Math.random()+"\0";function Cn(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function xd(t){return t.split("\\\\").join(gl).split("\\{").join(_l).split("\\}").join(On).split("\\,").join(xl).split("\\.").join(yl)}function yd(t){return t.split(gl).join("\\").split(_l).join("{").split(On).join("}").split(xl).join(",").split(yl).join(".")}function bl(t){if(!t)return[""];var e=[],r=vl("{","}",t);if(!r)return t.split(",");var i=r.pre,n=r.body,s=r.post,o=i.split(",");o[o.length-1]+="{"+n+"}";var a=bl(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function bd(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),lr(xd(t),!0).map(yd)):[]}function wd(t){return"{"+t+"}"}function Ed(t){return/^-?0\d/.test(t)}function Sd(t,e){return t<=e}function kd(t,e){return t>=e}function lr(t,e){var r=[],i=vl("{","}",t);if(!i||/\$$/.test(i.pre))return[t];var n=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),o=n||s,a=i.body.indexOf(",")>=0;if(!o&&!a)return i.post.match(/,.*\}/)?(t=i.pre+"{"+i.body+On+i.post,lr(t)):[t];var l;if(o)l=i.body.split(/\.\./);else if(l=bl(i.body),l.length===1&&(l=lr(l[0],!1).map(wd),l.length===1)){var u=i.post.length?lr(i.post,!1):[""];return u.map(function(R){return i.pre+l[0]+R})}var c=i.pre,u=i.post.length?lr(i.post,!1):[""],f;if(o){var h=Cn(l[0]),p=Cn(l[1]),d=Math.max(l[0].length,l[1].length),m=l.length==3?Math.abs(Cn(l[2])):1,v=Sd,y=p<h;y&&(m*=-1,v=kd);var O=l.some(Ed);f=[];for(var w=h;v(w,p);w+=m){var S;if(s)S=String.fromCharCode(w),S==="\\"&&(S="");else if(S=String(w),O){var b=d-S.length;if(b>0){var V=new Array(b+1).join("0");w<0?S="-"+V+S.slice(1):S=V+S}}f.push(S)}}else f=_d(l,function(I){return lr(I,!1)});for(var C=0;C<f.length;C++)for(var M=0;M<u.length;M++){var E=c+f[C]+u[M];(!e||o||E)&&r.push(E)}return r}});var Dr=x((q_,Il)=>{Il.exports=Ze;Ze.Minimatch=je;var Ur=function(){try{return require("path")}catch{}}()||{sep:"/"};Ze.sep=Ur.sep;var An=Ze.GLOBSTAR=je.GLOBSTAR={},Cd=El(),Sl={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},In="[^/]",Tn=In+"*?",Od="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Id="(?:(?!(?:\\/|^)\\.).)*?",kl=Td("().*{}+?[]^$\\!");function Td(t){return t.split("").reduce(function(e,r){return e[r]=!0,e},{})}var Cl=/\/+/;Ze.filter=Ad;function Ad(t,e){return e=e||{},function(r,i,n){return Ze(r,t,e)}}function gt(t,e){e=e||{};var r={};return Object.keys(t).forEach(function(i){r[i]=t[i]}),Object.keys(e).forEach(function(i){r[i]=e[i]}),r}Ze.defaults=function(t){if(!t||typeof t!="object"||!Object.keys(t).length)return Ze;var e=Ze,r=function(n,s,o){return e(n,s,gt(t,o))};return r.Minimatch=function(n,s){return new e.Minimatch(n,gt(t,s))},r.Minimatch.defaults=function(n){return e.defaults(gt(t,n)).Minimatch},r.filter=function(n,s){return e.filter(n,gt(t,s))},r.defaults=function(n){return e.defaults(gt(t,n))},r.makeRe=function(n,s){return e.makeRe(n,gt(t,s))},r.braceExpand=function(n,s){return e.braceExpand(n,gt(t,s))},r.match=function(i,n,s){return e.match(i,n,gt(t,s))},r};je.defaults=function(t){return Ze.defaults(t).Minimatch};function Ze(t,e,r){return Ii(e),r||(r={}),!r.nocomment&&e.charAt(0)==="#"?!1:new je(e,r).match(t)}function je(t,e){if(!(this instanceof je))return new je(t,e);Ii(t),e||(e={}),t=t.trim(),!e.allowWindowsEscape&&Ur.sep!=="/"&&(t=t.split(Ur.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}je.prototype.debug=function(){};je.prototype.make=Rd;function Rd(){var t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map(function(i){return i.split(Cl)}),this.debug(this.pattern,r),r=r.map(function(i,n,s){return i.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(i){return i.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}je.prototype.parseNegate=Bd;function Bd(){var t=this.pattern,e=!1,r=this.options,i=0;if(!r.nonegate){for(var n=0,s=t.length;n<s&&t.charAt(n)==="!";n++)e=!e,i++;i&&(this.pattern=t.substr(i)),this.negate=e}}Ze.braceExpand=function(t,e){return Ol(t,e)};je.prototype.braceExpand=Ol;function Ol(t,e){return e||(this instanceof je?e=this.options:e={}),t=typeof t=="undefined"?this.pattern:t,Ii(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:Cd(t)}var Ld=1024*64,Ii=function(t){if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>Ld)throw new TypeError("pattern is too long")};je.prototype.parse=Nd;var Oi={};function Nd(t,e){Ii(t);var r=this.options;if(t==="**")if(r.noglobstar)t="*";else return An;if(t==="")return"";var i="",n=!!r.nocase,s=!1,o=[],a=[],l,c=!1,u=-1,f=-1,h=t.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",p=this;function d(){if(l){switch(l){case"*":i+=Tn,n=!0;break;case"?":i+=In,n=!0;break;default:i+="\\"+l;break}p.debug("clearStateChar %j %j",l,i),l=!1}}for(var m=0,v=t.length,y;m<v&&(y=t.charAt(m));m++){if(this.debug("%s	%s %s %j",t,m,i,y),s&&kl[y]){i+="\\"+y,s=!1;continue}switch(y){case"/":return!1;case"\\":d(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,m,i,y),c){this.debug("  in class"),y==="!"&&m===f+1&&(y="^"),i+=y;continue}p.debug("call clearStateChar %j",l),d(),l=y,r.noext&&d();continue;case"(":if(c){i+="(";continue}if(!l){i+="\\(";continue}o.push({type:l,start:m-1,reStart:i.length,open:Sl[l].open,close:Sl[l].close}),i+=l==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",l,i),l=!1;continue;case")":if(c||!o.length){i+="\\)";continue}d(),n=!0;var O=o.pop();i+=O.close,O.type==="!"&&a.push(O),O.reEnd=i.length;continue;case"|":if(c||!o.length||s){i+="\\|",s=!1;continue}d(),i+="|";continue;case"[":if(d(),c){i+="\\"+y;continue}c=!0,f=m,u=i.length,i+=y;continue;case"]":if(m===f+1||!c){i+="\\"+y,s=!1;continue}var w=t.substring(f+1,m);try{RegExp("["+w+"]")}catch{var S=this.parse(w,Oi);i=i.substr(0,u)+"\\["+S[0]+"\\]",n=n||S[1],c=!1;continue}n=!0,c=!1,i+=y;continue;default:d(),s?s=!1:kl[y]&&!(y==="^"&&c)&&(i+="\\"),i+=y}}for(c&&(w=t.substr(f+1),S=this.parse(w,Oi),i=i.substr(0,u)+"\\["+S[0],n=n||S[1]),O=o.pop();O;O=o.pop()){var b=i.slice(O.reStart+O.open.length);this.debug("setting tail",i,O),b=b.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(Ce,ce,re){return re||(re="\\"),ce+ce+re+"|"}),this.debug(`tail=%j
   %s`,b,b,O,i);var V=O.type==="*"?Tn:O.type==="?"?In:"\\"+O.type;n=!0,i=i.slice(0,O.reStart)+V+"\\("+b}d(),s&&(i+="\\\\");var C=!1;switch(i.charAt(0)){case"[":case".":case"(":C=!0}for(var M=a.length-1;M>-1;M--){var E=a[M],I=i.slice(0,E.reStart),R=i.slice(E.reStart,E.reEnd-8),$=i.slice(E.reEnd-8,E.reEnd),B=i.slice(E.reEnd);$+=B;var ee=I.split("(").length-1,A=B;for(m=0;m<ee;m++)A=A.replace(/\)[+*?]?/,"");B=A;var F="";B===""&&e!==Oi&&(F="$");var D=I+R+B+F+$;i=D}if(i!==""&&n&&(i="(?=.)"+i),C&&(i=h+i),e===Oi)return[i,n];if(!n)return Fd(t);var z=r.nocase?"i":"";try{var N=new RegExp("^"+i+"$",z)}catch{return new RegExp("$.")}return N._glob=t,N._src=i,N}Ze.makeRe=function(t,e){return new je(t,e||{}).makeRe()};je.prototype.makeRe=Pd;function Pd(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?Tn:e.dot?Od:Id,i=e.nocase?"i":"",n=t.map(function(s){return s.map(function(o){return o===An?r:typeof o=="string"?Md(o):o._src}).join("\\/")}).join("|");n="^(?:"+n+")$",this.negate&&(n="^(?!"+n+").*$");try{this.regexp=new RegExp(n,i)}catch{this.regexp=!1}return this.regexp}Ze.match=function(t,e,r){r=r||{};var i=new je(e,r);return t=t.filter(function(n){return i.match(n)}),i.options.nonull&&!t.length&&t.push(e),t};je.prototype.match=function(e,r){if(typeof r=="undefined"&&(r=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;var i=this.options;Ur.sep!=="/"&&(e=e.split(Ur.sep).join("/")),e=e.split(Cl),this.debug(this.pattern,"split",e);var n=this.set;this.debug(this.pattern,"set",n);var s,o;for(o=e.length-1;o>=0&&(s=e[o],!s);o--);for(o=0;o<n.length;o++){var a=n[o],l=e;i.matchBase&&a.length===1&&(l=[s]);var c=this.matchOne(l,a,r);if(c)return i.flipNegate?!0:!this.negate}return i.flipNegate?!1:this.negate};je.prototype.matchOne=function(t,e,r){var i=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var n=0,s=0,o=t.length,a=e.length;n<o&&s<a;n++,s++){this.debug("matchOne loop");var l=e[s],c=t[n];if(this.debug(e,l,c),l===!1)return!1;if(l===An){this.debug("GLOBSTAR",[e,l,c]);var u=n,f=s+1;if(f===a){for(this.debug("** at the end");n<o;n++)if(t[n]==="."||t[n]===".."||!i.dot&&t[n].charAt(0)===".")return!1;return!0}for(;u<o;){var h=t[u];if(this.debug(`
globstar while`,t,u,e,f,h),this.matchOne(t.slice(u),e.slice(f),r))return this.debug("globstar found match!",u,o,h),!0;if(h==="."||h===".."||!i.dot&&h.charAt(0)==="."){this.debug("dot detected!",t,u,e,f);break}this.debug("globstar swallow a segment, and continue"),u++}return!!(r&&(this.debug(`
>>> no match, partial?`,t,u,e,f),u===o))}var p;if(typeof l=="string"?(p=c===l,this.debug("string match",l,c,p)):(p=c.match(l),this.debug("pattern match",l,c,p)),!p)return!1}if(n===o&&s===a)return!0;if(n===o)return r;if(s===a)return n===o-1&&t[n]==="";throw new Error("wtf?")};function Fd(t){return t.replace(/\\(.)/g,"$1")}function Md(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var Rn=x((H_,Al)=>{"use strict";var Ud=require("util"),Tl=require("stream"),nt=Al.exports=function(){Tl.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};Ud.inherits(nt,Tl);nt.prototype.read=function(t,e){this._reads.push({length:Math.abs(t),allowLess:t<0,func:e}),process.nextTick(function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))};nt.prototype.write=function(t,e){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let r;return Buffer.isBuffer(t)?r=t:r=Buffer.from(t,e||this._encoding),this._buffers.push(r),this._buffered+=r.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused};nt.prototype.end=function(t,e){t&&this.write(t,e),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))};nt.prototype.destroySoon=nt.prototype.end;nt.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()};nt.prototype.destroy=function(){!this._buffers||(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))};nt.prototype._processReadAllowingLess=function(t){this._reads.shift();let e=this._buffers[0];e.length>t.length?(this._buffered-=t.length,this._buffers[0]=e.slice(t.length),t.func.call(this,e.slice(0,t.length))):(this._buffered-=e.length,this._buffers.shift(),t.func.call(this,e))};nt.prototype._processRead=function(t){this._reads.shift();let e=0,r=0,i=Buffer.alloc(t.length);for(;e<t.length;){let n=this._buffers[r++],s=Math.min(n.length,t.length-e);n.copy(i,e,0,s),e+=s,s!==n.length&&(this._buffers[--r]=n.slice(s))}r>0&&this._buffers.splice(0,r),this._buffered-=t.length,t.func.call(this,i)};nt.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let t=this._reads[0];if(t.allowLess)this._processReadAllowingLess(t);else if(this._buffered>=t.length)this._processRead(t);else break}this._buffers&&!this.writable&&this._end()}catch(t){this.emit("error",t)}}});var Ln=x(Bn=>{"use strict";var _t=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];Bn.getImagePasses=function(t,e){let r=[],i=t%8,n=e%8,s=(t-i)/8,o=(e-n)/8;for(let a=0;a<_t.length;a++){let l=_t[a],c=s*l.x.length,u=o*l.y.length;for(let f=0;f<l.x.length&&l.x[f]<i;f++)c++;for(let f=0;f<l.y.length&&l.y[f]<n;f++)u++;c>0&&u>0&&r.push({width:c,height:u,index:a})}return r};Bn.getInterlaceIterator=function(t){return function(e,r,i){let n=e%_t[i].x.length,s=(e-n)/_t[i].x.length*8+_t[i].x[n],o=r%_t[i].y.length,a=(r-o)/_t[i].y.length*8+_t[i].y[o];return s*4+a*t*4}}});var Nn=x(($_,Rl)=>{"use strict";Rl.exports=function(e,r,i){let n=e+r-i,s=Math.abs(n-e),o=Math.abs(n-r),a=Math.abs(n-i);return s<=o&&s<=a?e:o<=a?r:i}});var Pn=x((G_,Ll)=>{"use strict";var Dd=Ln(),jd=Nn();function Bl(t,e,r){let i=t*e;return r!==8&&(i=Math.ceil(i/(8/r))),i}var cr=Ll.exports=function(t,e){let r=t.width,i=t.height,n=t.interlace,s=t.bpp,o=t.depth;if(this.read=e.read,this.write=e.write,this.complete=e.complete,this._imageIndex=0,this._images=[],n){let a=Dd.getImagePasses(r,i);for(let l=0;l<a.length;l++)this._images.push({byteWidth:Bl(a[l].width,s,o),height:a[l].height,lineIndex:0})}else this._images.push({byteWidth:Bl(r,s,o),height:i,lineIndex:0});o===8?this._xComparison=s:o===16?this._xComparison=s*2:this._xComparison=1};cr.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))};cr.prototype._unFilterType1=function(t,e,r){let i=this._xComparison,n=i-1;for(let s=0;s<r;s++){let o=t[1+s],a=s>n?e[s-i]:0;e[s]=o+a}};cr.prototype._unFilterType2=function(t,e,r){let i=this._lastLine;for(let n=0;n<r;n++){let s=t[1+n],o=i?i[n]:0;e[n]=s+o}};cr.prototype._unFilterType3=function(t,e,r){let i=this._xComparison,n=i-1,s=this._lastLine;for(let o=0;o<r;o++){let a=t[1+o],l=s?s[o]:0,c=o>n?e[o-i]:0,u=Math.floor((c+l)/2);e[o]=a+u}};cr.prototype._unFilterType4=function(t,e,r){let i=this._xComparison,n=i-1,s=this._lastLine;for(let o=0;o<r;o++){let a=t[1+o],l=s?s[o]:0,c=o>n?e[o-i]:0,u=o>n&&s?s[o-i]:0,f=jd(c,l,u);e[o]=a+f}};cr.prototype._reverseFilterLine=function(t){let e=t[0],r,i=this._images[this._imageIndex],n=i.byteWidth;if(e===0)r=t.slice(1,n+1);else switch(r=Buffer.alloc(n),e){case 1:this._unFilterType1(t,r,n);break;case 2:this._unFilterType2(t,r,n);break;case 3:this._unFilterType3(t,r,n);break;case 4:this._unFilterType4(t,r,n);break;default:throw new Error("Unrecognised filter type - "+e)}this.write(r),i.lineIndex++,i.lineIndex>=i.height?(this._lastLine=null,this._imageIndex++,i=this._images[this._imageIndex]):this._lastLine=r,i?this.read(i.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}});var Fl=x((z_,Pl)=>{"use strict";var qd=require("util"),Nl=Rn(),Hd=Pn(),Vd=Pl.exports=function(t){Nl.call(this);let e=[],r=this;this._filter=new Hd(t,{read:this.read.bind(this),write:function(i){e.push(i)},complete:function(){r.emit("complete",Buffer.concat(e))}}),this._filter.start()};qd.inherits(Vd,Nl)});var ur=x((W_,Ml)=>{"use strict";Ml.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}});var Un=x((Y_,Ul)=>{"use strict";var Fn=[];(function(){for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;Fn[t]=e}})();var Mn=Ul.exports=function(){this._crc=-1};Mn.prototype.write=function(t){for(let e=0;e<t.length;e++)this._crc=Fn[(this._crc^t[e])&255]^this._crc>>>8;return!0};Mn.prototype.crc32=function(){return this._crc^-1};Mn.crc32=function(t){let e=-1;for(let r=0;r<t.length;r++)e=Fn[(e^t[r])&255]^e>>>8;return e^-1}});var Dn=x((K_,Dl)=>{"use strict";var Re=ur(),$d=Un(),Pe=Dl.exports=function(t,e){this._options=t,t.checkCRC=t.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[Re.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[Re.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[Re.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[Re.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[Re.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[Re.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=e.read,this.error=e.error,this.metadata=e.metadata,this.gamma=e.gamma,this.transColor=e.transColor,this.palette=e.palette,this.parsed=e.parsed,this.inflateData=e.inflateData,this.finished=e.finished,this.simpleTransparency=e.simpleTransparency,this.headersFinished=e.headersFinished||function(){}};Pe.prototype.start=function(){this.read(Re.PNG_SIGNATURE.length,this._parseSignature.bind(this))};Pe.prototype._parseSignature=function(t){let e=Re.PNG_SIGNATURE;for(let r=0;r<e.length;r++)if(t[r]!==e[r]){this.error(new Error("Invalid file signature"));return}this.read(8,this._parseChunkBegin.bind(this))};Pe.prototype._parseChunkBegin=function(t){let e=t.readUInt32BE(0),r=t.readUInt32BE(4),i="";for(let s=4;s<8;s++)i+=String.fromCharCode(t[s]);let n=Boolean(t[4]&32);if(!this._hasIHDR&&r!==Re.TYPE_IHDR){this.error(new Error("Expected IHDR on beggining"));return}if(this._crc=new $d,this._crc.write(Buffer.from(i)),this._chunks[r])return this._chunks[r](e);if(!n){this.error(new Error("Unsupported critical chunk type "+i));return}this.read(e+4,this._skipChunk.bind(this))};Pe.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))};Pe.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))};Pe.prototype._parseChunkEnd=function(t){let e=t.readInt32BE(0),r=this._crc.crc32();if(this._options.checkCRC&&r!==e){this.error(new Error("Crc error - "+e+" - "+r));return}this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))};Pe.prototype._handleIHDR=function(t){this.read(t,this._parseIHDR.bind(this))};Pe.prototype._parseIHDR=function(t){this._crc.write(t);let e=t.readUInt32BE(0),r=t.readUInt32BE(4),i=t[8],n=t[9],s=t[10],o=t[11],a=t[12];if(i!==8&&i!==4&&i!==2&&i!==1&&i!==16){this.error(new Error("Unsupported bit depth "+i));return}if(!(n in Re.COLORTYPE_TO_BPP_MAP)){this.error(new Error("Unsupported color type"));return}if(s!==0){this.error(new Error("Unsupported compression method"));return}if(o!==0){this.error(new Error("Unsupported filter method"));return}if(a!==0&&a!==1){this.error(new Error("Unsupported interlace method"));return}this._colorType=n;let l=Re.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:e,height:r,depth:i,interlace:Boolean(a),palette:Boolean(n&Re.COLORTYPE_PALETTE),color:Boolean(n&Re.COLORTYPE_COLOR),alpha:Boolean(n&Re.COLORTYPE_ALPHA),bpp:l,colorType:n}),this._handleChunkEnd()};Pe.prototype._handlePLTE=function(t){this.read(t,this._parsePLTE.bind(this))};Pe.prototype._parsePLTE=function(t){this._crc.write(t);let e=Math.floor(t.length/3);for(let r=0;r<e;r++)this._palette.push([t[r*3],t[r*3+1],t[r*3+2],255]);this.palette(this._palette),this._handleChunkEnd()};Pe.prototype._handleTRNS=function(t){this.simpleTransparency(),this.read(t,this._parseTRNS.bind(this))};Pe.prototype._parseTRNS=function(t){if(this._crc.write(t),this._colorType===Re.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0){this.error(new Error("Transparency chunk must be after palette"));return}if(t.length>this._palette.length){this.error(new Error("More transparent colors than palette size"));return}for(let e=0;e<t.length;e++)this._palette[e][3]=t[e];this.palette(this._palette)}this._colorType===Re.COLORTYPE_GRAYSCALE&&this.transColor([t.readUInt16BE(0)]),this._colorType===Re.COLORTYPE_COLOR&&this.transColor([t.readUInt16BE(0),t.readUInt16BE(2),t.readUInt16BE(4)]),this._handleChunkEnd()};Pe.prototype._handleGAMA=function(t){this.read(t,this._parseGAMA.bind(this))};Pe.prototype._parseGAMA=function(t){this._crc.write(t),this.gamma(t.readUInt32BE(0)/Re.GAMMA_DIVISION),this._handleChunkEnd()};Pe.prototype._handleIDAT=function(t){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-t,this._parseIDAT.bind(this,t))};Pe.prototype._parseIDAT=function(t,e){if(this._crc.write(e),this._colorType===Re.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(e);let r=t-e.length;r>0?this._handleIDAT(r):this._handleChunkEnd()};Pe.prototype._handleIEND=function(t){this.read(t,this._parseIEND.bind(this))};Pe.prototype._parseIEND=function(t){this._crc.write(t),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}});var jn=x(ql=>{"use strict";var jl=Ln(),Gd=[function(){},function(t,e,r,i){if(i===e.length)throw new Error("Ran out of data");let n=e[i];t[r]=n,t[r+1]=n,t[r+2]=n,t[r+3]=255},function(t,e,r,i){if(i+1>=e.length)throw new Error("Ran out of data");let n=e[i];t[r]=n,t[r+1]=n,t[r+2]=n,t[r+3]=e[i+1]},function(t,e,r,i){if(i+2>=e.length)throw new Error("Ran out of data");t[r]=e[i],t[r+1]=e[i+1],t[r+2]=e[i+2],t[r+3]=255},function(t,e,r,i){if(i+3>=e.length)throw new Error("Ran out of data");t[r]=e[i],t[r+1]=e[i+1],t[r+2]=e[i+2],t[r+3]=e[i+3]}],zd=[function(){},function(t,e,r,i){let n=e[0];t[r]=n,t[r+1]=n,t[r+2]=n,t[r+3]=i},function(t,e,r){let i=e[0];t[r]=i,t[r+1]=i,t[r+2]=i,t[r+3]=e[1]},function(t,e,r,i){t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=i},function(t,e,r){t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=e[3]}];function Wd(t,e){let r=[],i=0;function n(){if(i===t.length)throw new Error("Ran out of data");let s=t[i];i++;let o,a,l,c,u,f,h,p;switch(e){default:throw new Error("unrecognised depth");case 16:h=t[i],i++,r.push((s<<8)+h);break;case 4:h=s&15,p=s>>4,r.push(p,h);break;case 2:u=s&3,f=s>>2&3,h=s>>4&3,p=s>>6&3,r.push(p,h,f,u);break;case 1:o=s&1,a=s>>1&1,l=s>>2&1,c=s>>3&1,u=s>>4&1,f=s>>5&1,h=s>>6&1,p=s>>7&1,r.push(p,h,f,u,c,l,a,o);break}}return{get:function(s){for(;r.length<s;)n();let o=r.slice(0,s);return r=r.slice(s),o},resetAfterLine:function(){r.length=0},end:function(){if(i!==t.length)throw new Error("extra data found")}}}function Yd(t,e,r,i,n,s){let o=t.width,a=t.height,l=t.index;for(let c=0;c<a;c++)for(let u=0;u<o;u++){let f=r(u,c,l);Gd[i](e,n,f,s),s+=i}return s}function Kd(t,e,r,i,n,s){let o=t.width,a=t.height,l=t.index;for(let c=0;c<a;c++){for(let u=0;u<o;u++){let f=n.get(i),h=r(u,c,l);zd[i](e,f,h,s)}n.resetAfterLine()}}ql.dataToBitMap=function(t,e){let r=e.width,i=e.height,n=e.depth,s=e.bpp,o=e.interlace,a;n!==8&&(a=Wd(t,n));let l;n<=8?l=Buffer.alloc(r*i*4):l=new Uint16Array(r*i*4);let c=Math.pow(2,n)-1,u=0,f,h;if(o)f=jl.getImagePasses(r,i),h=jl.getInterlaceIterator(r,i);else{let p=0;h=function(){let d=p;return p+=4,d},f=[{width:r,height:i}]}for(let p=0;p<f.length;p++)n===8?u=Yd(f[p],l,h,s,t,u):Kd(f[p],l,h,s,a,c);if(n===8){if(u!==t.length)throw new Error("extra data found")}else a.end();return l}});var qn=x((X_,Hl)=>{"use strict";function Zd(t,e,r,i,n){let s=0;for(let o=0;o<i;o++)for(let a=0;a<r;a++){let l=n[t[s]];if(!l)throw new Error("index "+t[s]+" not in palette");for(let c=0;c<4;c++)e[s+c]=l[c];s+=4}}function Xd(t,e,r,i,n){let s=0;for(let o=0;o<i;o++)for(let a=0;a<r;a++){let l=!1;if(n.length===1?n[0]===t[s]&&(l=!0):n[0]===t[s]&&n[1]===t[s+1]&&n[2]===t[s+2]&&(l=!0),l)for(let c=0;c<4;c++)e[s+c]=0;s+=4}}function Qd(t,e,r,i,n){let s=255,o=Math.pow(2,n)-1,a=0;for(let l=0;l<i;l++)for(let c=0;c<r;c++){for(let u=0;u<4;u++)e[a+u]=Math.floor(t[a+u]*s/o+.5);a+=4}}Hl.exports=function(t,e,r=!1){let i=e.depth,n=e.width,s=e.height,o=e.colorType,a=e.transColor,l=e.palette,c=t;return o===3?Zd(t,c,n,s,l):(a&&Xd(t,c,n,s,a),i!==8&&!r&&(i===16&&(c=Buffer.alloc(n*s*4)),Qd(t,c,n,s,i))),c}});var Gl=x((Q_,$l)=>{"use strict";var Jd=require("util"),Hn=require("zlib"),Vl=Rn(),em=Fl(),tm=Dn(),rm=jn(),im=qn(),at=$l.exports=function(t){Vl.call(this),this._parser=new tm(t,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=t,this.writable=!0,this._parser.start()};Jd.inherits(at,Vl);at.prototype._handleError=function(t){this.emit("error",t),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0};at.prototype._inflateData=function(t){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=Hn.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let r=((this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1)*this._bitmapInfo.height,i=Math.max(r,Hn.Z_MIN_CHUNK);this._inflate=Hn.createInflate({chunkSize:i});let n=r,s=this.emit.bind(this,"error");this._inflate.on("error",function(a){!n||s(a)}),this._filter.on("complete",this._complete.bind(this));let o=this._filter.write.bind(this._filter);this._inflate.on("data",function(a){!n||(a.length>n&&(a=a.slice(0,n)),n-=a.length,o(a))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(t)};at.prototype._handleMetaData=function(t){this._metaData=t,this._bitmapInfo=Object.create(t),this._filter=new em(this._bitmapInfo)};at.prototype._handleTransColor=function(t){this._bitmapInfo.transColor=t};at.prototype._handlePalette=function(t){this._bitmapInfo.palette=t};at.prototype._simpleTransparency=function(){this._metaData.alpha=!0};at.prototype._headersFinished=function(){this.emit("metadata",this._metaData)};at.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))};at.prototype._complete=function(t){if(this.errord)return;let e;try{let r=rm.dataToBitMap(t,this._bitmapInfo);e=im(r,this._bitmapInfo,this._options.skipRescale),r=null}catch(r){this._handleError(r);return}this.emit("parsed",e)}});var Wl=x((J_,zl)=>{"use strict";var Je=ur();zl.exports=function(t,e,r,i){let n=[Je.COLORTYPE_COLOR_ALPHA,Je.COLORTYPE_ALPHA].indexOf(i.colorType)!==-1;if(i.colorType===i.inputColorType){let d=function(){let m=new ArrayBuffer(2);return new DataView(m).setInt16(0,256,!0),new Int16Array(m)[0]!==256}();if(i.bitDepth===8||i.bitDepth===16&&d)return t}let s=i.bitDepth!==16?t:new Uint16Array(t.buffer),o=255,a=Je.COLORTYPE_TO_BPP_MAP[i.inputColorType];a===4&&!i.inputHasAlpha&&(a=3);let l=Je.COLORTYPE_TO_BPP_MAP[i.colorType];i.bitDepth===16&&(o=65535,l*=2);let c=Buffer.alloc(e*r*l),u=0,f=0,h=i.bgColor||{};h.red===void 0&&(h.red=o),h.green===void 0&&(h.green=o),h.blue===void 0&&(h.blue=o);function p(){let d,m,v,y=o;switch(i.inputColorType){case Je.COLORTYPE_COLOR_ALPHA:y=s[u+3],d=s[u],m=s[u+1],v=s[u+2];break;case Je.COLORTYPE_COLOR:d=s[u],m=s[u+1],v=s[u+2];break;case Je.COLORTYPE_ALPHA:y=s[u+1],d=s[u],m=d,v=d;break;case Je.COLORTYPE_GRAYSCALE:d=s[u],m=d,v=d;break;default:throw new Error("input color type:"+i.inputColorType+" is not supported at present")}return i.inputHasAlpha&&(n||(y/=o,d=Math.min(Math.max(Math.round((1-y)*h.red+y*d),0),o),m=Math.min(Math.max(Math.round((1-y)*h.green+y*m),0),o),v=Math.min(Math.max(Math.round((1-y)*h.blue+y*v),0),o))),{red:d,green:m,blue:v,alpha:y}}for(let d=0;d<r;d++)for(let m=0;m<e;m++){let v=p(s,u);switch(i.colorType){case Je.COLORTYPE_COLOR_ALPHA:case Je.COLORTYPE_COLOR:i.bitDepth===8?(c[f]=v.red,c[f+1]=v.green,c[f+2]=v.blue,n&&(c[f+3]=v.alpha)):(c.writeUInt16BE(v.red,f),c.writeUInt16BE(v.green,f+2),c.writeUInt16BE(v.blue,f+4),n&&c.writeUInt16BE(v.alpha,f+6));break;case Je.COLORTYPE_ALPHA:case Je.COLORTYPE_GRAYSCALE:{let y=(v.red+v.green+v.blue)/3;i.bitDepth===8?(c[f]=y,n&&(c[f+1]=v.alpha)):(c.writeUInt16BE(y,f),n&&c.writeUInt16BE(v.alpha,f+2));break}default:throw new Error("unrecognised color Type "+i.colorType)}u+=a,f+=l}return c}});var Zl=x((ex,Kl)=>{"use strict";var Yl=Nn();function nm(t,e,r,i,n){for(let s=0;s<r;s++)i[n+s]=t[e+s]}function sm(t,e,r){let i=0,n=e+r;for(let s=e;s<n;s++)i+=Math.abs(t[s]);return i}function om(t,e,r,i,n,s){for(let o=0;o<r;o++){let a=o>=s?t[e+o-s]:0,l=t[e+o]-a;i[n+o]=l}}function am(t,e,r,i){let n=0;for(let s=0;s<r;s++){let o=s>=i?t[e+s-i]:0,a=t[e+s]-o;n+=Math.abs(a)}return n}function lm(t,e,r,i,n){for(let s=0;s<r;s++){let o=e>0?t[e+s-r]:0,a=t[e+s]-o;i[n+s]=a}}function cm(t,e,r){let i=0,n=e+r;for(let s=e;s<n;s++){let o=e>0?t[s-r]:0,a=t[s]-o;i+=Math.abs(a)}return i}function um(t,e,r,i,n,s){for(let o=0;o<r;o++){let a=o>=s?t[e+o-s]:0,l=e>0?t[e+o-r]:0,c=t[e+o]-(a+l>>1);i[n+o]=c}}function fm(t,e,r,i){let n=0;for(let s=0;s<r;s++){let o=s>=i?t[e+s-i]:0,a=e>0?t[e+s-r]:0,l=t[e+s]-(o+a>>1);n+=Math.abs(l)}return n}function hm(t,e,r,i,n,s){for(let o=0;o<r;o++){let a=o>=s?t[e+o-s]:0,l=e>0?t[e+o-r]:0,c=e>0&&o>=s?t[e+o-(r+s)]:0,u=t[e+o]-Yl(a,l,c);i[n+o]=u}}function pm(t,e,r,i){let n=0;for(let s=0;s<r;s++){let o=s>=i?t[e+s-i]:0,a=e>0?t[e+s-r]:0,l=e>0&&s>=i?t[e+s-(r+i)]:0,c=t[e+s]-Yl(o,a,l);n+=Math.abs(c)}return n}var dm={0:nm,1:om,2:lm,3:um,4:hm},mm={0:sm,1:am,2:cm,3:fm,4:pm};Kl.exports=function(t,e,r,i,n){let s;if(!("filterType"in i)||i.filterType===-1)s=[0,1,2,3,4];else if(typeof i.filterType=="number")s=[i.filterType];else throw new Error("unrecognised filter types");i.bitDepth===16&&(n*=2);let o=e*n,a=0,l=0,c=Buffer.alloc((o+1)*r),u=s[0];for(let f=0;f<r;f++){if(s.length>1){let h=1/0;for(let p=0;p<s.length;p++){let d=mm[s[p]](t,l,o,n);d<h&&(u=s[p],h=d)}}c[a]=u,a++,dm[u](t,l,o,c,a,n),a+=o,l+=o}return c}});var Vn=x((tx,Xl)=>{"use strict";var He=ur(),vm=Un(),gm=Wl(),_m=Zl(),xm=require("zlib"),xt=Xl.exports=function(t){if(this._options=t,t.deflateChunkSize=t.deflateChunkSize||32*1024,t.deflateLevel=t.deflateLevel!=null?t.deflateLevel:9,t.deflateStrategy=t.deflateStrategy!=null?t.deflateStrategy:3,t.inputHasAlpha=t.inputHasAlpha!=null?t.inputHasAlpha:!0,t.deflateFactory=t.deflateFactory||xm.createDeflate,t.bitDepth=t.bitDepth||8,t.colorType=typeof t.colorType=="number"?t.colorType:He.COLORTYPE_COLOR_ALPHA,t.inputColorType=typeof t.inputColorType=="number"?t.inputColorType:He.COLORTYPE_COLOR_ALPHA,[He.COLORTYPE_GRAYSCALE,He.COLORTYPE_COLOR,He.COLORTYPE_COLOR_ALPHA,He.COLORTYPE_ALPHA].indexOf(t.colorType)===-1)throw new Error("option color type:"+t.colorType+" is not supported at present");if([He.COLORTYPE_GRAYSCALE,He.COLORTYPE_COLOR,He.COLORTYPE_COLOR_ALPHA,He.COLORTYPE_ALPHA].indexOf(t.inputColorType)===-1)throw new Error("option input color type:"+t.inputColorType+" is not supported at present");if(t.bitDepth!==8&&t.bitDepth!==16)throw new Error("option bit depth:"+t.bitDepth+" is not supported at present")};xt.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}};xt.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())};xt.prototype.filterData=function(t,e,r){let i=gm(t,e,r,this._options),n=He.COLORTYPE_TO_BPP_MAP[this._options.colorType];return _m(i,e,r,this._options,n)};xt.prototype._packChunk=function(t,e){let r=e?e.length:0,i=Buffer.alloc(r+12);return i.writeUInt32BE(r,0),i.writeUInt32BE(t,4),e&&e.copy(i,8),i.writeInt32BE(vm.crc32(i.slice(4,i.length-4)),i.length-4),i};xt.prototype.packGAMA=function(t){let e=Buffer.alloc(4);return e.writeUInt32BE(Math.floor(t*He.GAMMA_DIVISION),0),this._packChunk(He.TYPE_gAMA,e)};xt.prototype.packIHDR=function(t,e){let r=Buffer.alloc(13);return r.writeUInt32BE(t,0),r.writeUInt32BE(e,4),r[8]=this._options.bitDepth,r[9]=this._options.colorType,r[10]=0,r[11]=0,r[12]=0,this._packChunk(He.TYPE_IHDR,r)};xt.prototype.packIDAT=function(t){return this._packChunk(He.TYPE_IDAT,t)};xt.prototype.packIEND=function(){return this._packChunk(He.TYPE_IEND,null)}});var tc=x((rx,ec)=>{"use strict";var ym=require("util"),Ql=require("stream"),bm=ur(),wm=Vn(),Jl=ec.exports=function(t){Ql.call(this);let e=t||{};this._packer=new wm(e),this._deflate=this._packer.createDeflate(),this.readable=!0};ym.inherits(Jl,Ql);Jl.prototype.pack=function(t,e,r,i){this.emit("data",Buffer.from(bm.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(e,r)),i&&this.emit("data",this._packer.packGAMA(i));let n=this._packer.filterData(t,e,r);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(s){this.emit("data",this._packer.packIDAT(s))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(n)}});var ac=x((jr,oc)=>{"use strict";var rc=require("assert").ok,fr=require("zlib"),Em=require("util"),ic=require("buffer").kMaxLength;function Ut(t){if(!(this instanceof Ut))return new Ut(t);t&&t.chunkSize<fr.Z_MIN_CHUNK&&(t.chunkSize=fr.Z_MIN_CHUNK),fr.Inflate.call(this,t),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,t&&t.maxLength!=null&&(this._maxLength=t.maxLength)}function Sm(t){return new Ut(t)}function nc(t,e){e&&process.nextTick(e),t._handle&&(t._handle.close(),t._handle=null)}Ut.prototype._processChunk=function(t,e,r){if(typeof r=="function")return fr.Inflate._processChunk.call(this,t,e,r);let i=this,n=t&&t.length,s=this._chunkSize-this._offset,o=this._maxLength,a=0,l=[],c=0,u;this.on("error",function(d){u=d});function f(d,m){if(i._hadError)return;let v=s-m;if(rc(v>=0,"have should not go down"),v>0){let y=i._buffer.slice(i._offset,i._offset+v);if(i._offset+=v,y.length>o&&(y=y.slice(0,o)),l.push(y),c+=y.length,o-=y.length,o===0)return!1}return(m===0||i._offset>=i._chunkSize)&&(s=i._chunkSize,i._offset=0,i._buffer=Buffer.allocUnsafe(i._chunkSize)),m===0?(a+=n-d,n=d,!0):!1}rc(this._handle,"zlib binding closed");let h;do h=this._handle.writeSync(e,t,a,n,this._buffer,this._offset,s),h=h||this._writeState;while(!this._hadError&&f(h[0],h[1]));if(this._hadError)throw u;if(c>=ic)throw nc(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+ic.toString(16)+" bytes");let p=Buffer.concat(l,c);return nc(this),p};Em.inherits(Ut,fr.Inflate);function km(t,e){if(typeof e=="string"&&(e=Buffer.from(e)),!(e instanceof Buffer))throw new TypeError("Not a string or buffer");let r=t._finishFlushFlag;return r==null&&(r=fr.Z_FINISH),t._processChunk(e,r)}function sc(t,e){return km(new Ut(e),t)}oc.exports=jr=sc;jr.Inflate=Ut;jr.createInflate=Sm;jr.inflateSync=sc});var $n=x((ix,cc)=>{"use strict";var lc=cc.exports=function(t){this._buffer=t,this._reads=[]};lc.prototype.read=function(t,e){this._reads.push({length:Math.abs(t),allowLess:t<0,func:e})};lc.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let t=this._reads[0];if(this._buffer.length&&(this._buffer.length>=t.length||t.allowLess)){this._reads.shift();let e=this._buffer;this._buffer=e.slice(t.length),t.func.call(this,e.slice(0,t.length))}else break}if(this._reads.length>0)throw new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)throw new Error("unrecognised content at end of stream")}});var fc=x(uc=>{"use strict";var Cm=$n(),Om=Pn();uc.process=function(t,e){let r=[],i=new Cm(t);return new Om(e,{read:i.read.bind(i),write:function(s){r.push(s)},complete:function(){}}).start(),i.process(),Buffer.concat(r)}});var mc=x((sx,dc)=>{"use strict";var hc=!0,pc=require("zlib"),Im=ac();pc.deflateSync||(hc=!1);var Tm=$n(),Am=fc(),Rm=Dn(),Bm=jn(),Lm=qn();dc.exports=function(t,e){if(!hc)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let r;function i(S){r=S}let n;function s(S){n=S}function o(S){n.transColor=S}function a(S){n.palette=S}function l(){n.alpha=!0}let c;function u(S){c=S}let f=[];function h(S){f.push(S)}let p=new Tm(t);if(new Rm(e,{read:p.read.bind(p),error:i,metadata:s,gamma:u,palette:a,transColor:o,inflateData:h,simpleTransparency:l}).start(),p.process(),r)throw r;let m=Buffer.concat(f);f.length=0;let v;if(n.interlace)v=pc.inflateSync(m);else{let b=((n.width*n.bpp*n.depth+7>>3)+1)*n.height;v=Im(m,{chunkSize:b,maxLength:b})}if(m=null,!v||!v.length)throw new Error("bad png - invalid inflate data response");let y=Am.process(v,n);m=null;let O=Bm.dataToBitMap(y,n);y=null;let w=Lm(O,n,e.skipRescale);return n.data=w,n.gamma=c||0,n}});var xc=x((ox,_c)=>{"use strict";var vc=!0,gc=require("zlib");gc.deflateSync||(vc=!1);var Nm=ur(),Pm=Vn();_c.exports=function(t,e){if(!vc)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let r=e||{},i=new Pm(r),n=[];n.push(Buffer.from(Nm.PNG_SIGNATURE)),n.push(i.packIHDR(t.width,t.height)),t.gamma&&n.push(i.packGAMA(t.gamma));let s=i.filterData(t.data,t.width,t.height),o=gc.deflateSync(s,i.getDeflateOptions());if(s=null,!o||!o.length)throw new Error("bad png - invalid compressed data response");return n.push(i.packIDAT(o)),n.push(i.packIEND()),Buffer.concat(n)}});var yc=x(Gn=>{"use strict";var Fm=mc(),Mm=xc();Gn.read=function(t,e){return Fm(t,e||{})};Gn.write=function(t,e){return Mm(t,e)}});var Ec=x(wc=>{"use strict";var Um=require("util"),bc=require("stream"),Dm=Gl(),jm=tc(),qm=yc(),Ge=wc.PNG=function(t){bc.call(this),t=t||{},this.width=t.width|0,this.height=t.height|0,this.data=this.width>0&&this.height>0?Buffer.alloc(4*this.width*this.height):null,t.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new Dm(t),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(e){this.data=e,this.emit("parsed",e)}.bind(this)),this._packer=new jm(t),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};Um.inherits(Ge,bc);Ge.sync=qm;Ge.prototype.pack=function(){return!this.data||!this.data.length?(this.emit("error","No data provided"),this):(process.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this)};Ge.prototype.parse=function(t,e){if(e){let r,i;r=function(n){this.removeListener("error",i),this.data=n,e(null,this)}.bind(this),i=function(n){this.removeListener("parsed",r),e(n,null)}.bind(this),this.once("parsed",r),this.once("error",i)}return this.end(t),this};Ge.prototype.write=function(t){return this._parser.write(t),!0};Ge.prototype.end=function(t){this._parser.end(t)};Ge.prototype._metadata=function(t){this.width=t.width,this.height=t.height,this.emit("metadata",t)};Ge.prototype._gamma=function(t){this.gamma=t};Ge.prototype._handleClose=function(){!this._parser.writable&&!this._packer.readable&&this.emit("close")};Ge.bitblt=function(t,e,r,i,n,s,o,a){if(r|=0,i|=0,n|=0,s|=0,o|=0,a|=0,r>t.width||i>t.height||r+n>t.width||i+s>t.height)throw new Error("bitblt reading outside image");if(o>e.width||a>e.height||o+n>e.width||a+s>e.height)throw new Error("bitblt writing outside image");for(let l=0;l<s;l++)t.data.copy(e.data,(a+l)*e.width+o<<2,(i+l)*t.width+r<<2,(i+l)*t.width+r+n<<2)};Ge.prototype.bitblt=function(t,e,r,i,n,s,o){return Ge.bitblt(this,t,e,r,i,n,s,o),this};Ge.adjustGamma=function(t){if(t.gamma){for(let e=0;e<t.height;e++)for(let r=0;r<t.width;r++){let i=t.width*e+r<<2;for(let n=0;n<3;n++){let s=t.data[i+n]/255;s=Math.pow(s,1/2.2/t.gamma),t.data[i+n]=Math.round(s*255)}}t.gamma=0}};Ge.prototype.adjustGamma=function(){Ge.adjustGamma(this)}});var qr=x(Wn=>{var zn=class extends Error{constructor(e,r,i){super(i);Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=r,this.exitCode=e,this.nestedError=void 0}},Sc=class extends zn{constructor(e){super(1,"commander.invalidArgument",e);Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}};Wn.CommanderError=zn;Wn.InvalidArgumentError=Sc});var Ti=x(Yn=>{var{InvalidArgumentError:Hm}=qr(),kc=class{constructor(e,r){switch(this.description=r||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,e[0]){case"<":this.required=!0,this._name=e.slice(1,-1);break;case"[":this.required=!1,this._name=e.slice(1,-1);break;default:this.required=!0,this._name=e;break}this._name.length>3&&this._name.slice(-3)==="..."&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(e,r){return r===this.defaultValue||!Array.isArray(r)?[e]:r.concat(e)}default(e,r){return this.defaultValue=e,this.defaultValueDescription=r,this}argParser(e){return this.parseArg=e,this}choices(e){return this.argChoices=e,this.parseArg=(r,i)=>{if(!e.includes(r))throw new Hm(`Allowed choices are ${e.join(", ")}.`);return this.variadic?this._concatValue(r,i):r},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}};function Vm(t){let e=t.name()+(t.variadic===!0?"...":"");return t.required?"<"+e+">":"["+e+"]"}Yn.Argument=kc;Yn.humanReadableArgName=Vm});var Kn=x(Oc=>{var{humanReadableArgName:$m}=Ti(),Cc=class{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1}visibleCommands(e){let r=e.commands.filter(i=>!i._hidden);if(e._hasImplicitHelpCommand()){let[,i,n]=e._helpCommandnameAndArgs.match(/([^ ]+) *(.*)/),s=e.createCommand(i).helpOption(!1);s.description(e._helpCommandDescription),n&&s.arguments(n),r.push(s)}return this.sortSubcommands&&r.sort((i,n)=>i.name().localeCompare(n.name())),r}visibleOptions(e){let r=e.options.filter(s=>!s.hidden),i=e._hasHelpOption&&e._helpShortFlag&&!e._findOption(e._helpShortFlag),n=e._hasHelpOption&&!e._findOption(e._helpLongFlag);if(i||n){let s;i?n?s=e.createOption(e._helpFlags,e._helpDescription):s=e.createOption(e._helpShortFlag,e._helpDescription):s=e.createOption(e._helpLongFlag,e._helpDescription),r.push(s)}if(this.sortOptions){let s=o=>o.short?o.short.replace(/^-/,""):o.long.replace(/^--/,"");r.sort((o,a)=>s(o).localeCompare(s(a)))}return r}visibleArguments(e){return e._argsDescription&&e._args.forEach(r=>{r.description=r.description||e._argsDescription[r.name()]||""}),e._args.find(r=>r.description)?e._args:[]}subcommandTerm(e){let r=e._args.map(i=>$m(i)).join(" ");return e._name+(e._aliases[0]?"|"+e._aliases[0]:"")+(e.options.length?" [options]":"")+(r?" "+r:"")}optionTerm(e){return e.flags}argumentTerm(e){return e.name()}longestSubcommandTermLength(e,r){return r.visibleCommands(e).reduce((i,n)=>Math.max(i,r.subcommandTerm(n).length),0)}longestOptionTermLength(e,r){return r.visibleOptions(e).reduce((i,n)=>Math.max(i,r.optionTerm(n).length),0)}longestArgumentTermLength(e,r){return r.visibleArguments(e).reduce((i,n)=>Math.max(i,r.argumentTerm(n).length),0)}commandUsage(e){let r=e._name;e._aliases[0]&&(r=r+"|"+e._aliases[0]);let i="";for(let n=e.parent;n;n=n.parent)i=n.name()+" "+i;return i+r+" "+e.usage()}commandDescription(e){return e.description()}subcommandDescription(e){return e.description()}optionDescription(e){let r=[];return e.argChoices&&!e.negate&&r.push(`choices: ${e.argChoices.map(i=>JSON.stringify(i)).join(", ")}`),e.defaultValue!==void 0&&!e.negate&&r.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),e.envVar!==void 0&&r.push(`env: ${e.envVar}`),r.length>0?`${e.description} (${r.join(", ")})`:e.description}argumentDescription(e){let r=[];if(e.argChoices&&r.push(`choices: ${e.argChoices.map(i=>JSON.stringify(i)).join(", ")}`),e.defaultValue!==void 0&&r.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),r.length>0){let i=`(${r.join(", ")})`;return e.description?`${e.description} ${i}`:i}return e.description}formatHelp(e,r){let i=r.padWidth(e,r),n=r.helpWidth||80,s=2,o=2;function a(d,m){if(m){let v=`${d.padEnd(i+o)}${m}`;return r.wrap(v,n-s,i+o)}return d}function l(d){return d.join(`
`).replace(/^/gm," ".repeat(s))}let c=[`Usage: ${r.commandUsage(e)}`,""],u=r.commandDescription(e);u.length>0&&(c=c.concat([u,""]));let f=r.visibleArguments(e).map(d=>a(r.argumentTerm(d),r.argumentDescription(d)));f.length>0&&(c=c.concat(["Arguments:",l(f),""]));let h=r.visibleOptions(e).map(d=>a(r.optionTerm(d),r.optionDescription(d)));h.length>0&&(c=c.concat(["Options:",l(h),""]));let p=r.visibleCommands(e).map(d=>a(r.subcommandTerm(d),r.subcommandDescription(d)));return p.length>0&&(c=c.concat(["Commands:",l(p),""])),c.join(`
`)}padWidth(e,r){return Math.max(r.longestOptionTermLength(e,r),r.longestSubcommandTermLength(e,r),r.longestArgumentTermLength(e,r))}wrap(e,r,i,n=40){if(e.match(/[\n]\s+/))return e;let s=r-i;if(s<n)return e;let o=e.substr(0,i),a=e.substr(i),l=" ".repeat(i),c=new RegExp(".{1,"+(s-1)+"}([\\s\u200B]|$)|[^\\s\u200B]+?([\\s\u200B]|$)","g"),u=a.match(c)||[];return o+u.map((f,h)=>(f.slice(-1)===`
`&&(f=f.slice(0,f.length-1)),(h>0?l:"")+f.trimRight())).join(`
`)}};Oc.Help=Cc});var Xn=x(Zn=>{var{InvalidArgumentError:Gm}=qr(),Ic=class{constructor(e,r){this.flags=e,this.description=r||"",this.required=e.includes("<"),this.optional=e.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(e),this.mandatory=!1;let i=Tc(e);this.short=i.shortFlag,this.long=i.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0}default(e,r){return this.defaultValue=e,this.defaultValueDescription=r,this}env(e){return this.envVar=e,this}argParser(e){return this.parseArg=e,this}makeOptionMandatory(e=!0){return this.mandatory=!!e,this}hideHelp(e=!0){return this.hidden=!!e,this}_concatValue(e,r){return r===this.defaultValue||!Array.isArray(r)?[e]:r.concat(e)}choices(e){return this.argChoices=e,this.parseArg=(r,i)=>{if(!e.includes(r))throw new Gm(`Allowed choices are ${e.join(", ")}.`);return this.variadic?this._concatValue(r,i):r},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return zm(this.name().replace(/^no-/,""))}is(e){return this.short===e||this.long===e}};function zm(t){return t.split("-").reduce((e,r)=>e+r[0].toUpperCase()+r.slice(1))}function Tc(t){let e,r,i=t.split(/[ |,]+/);return i.length>1&&!/^[[<]/.test(i[1])&&(e=i.shift()),r=i.shift(),!e&&/^-[^-]$/.test(r)&&(e=r,r=void 0),{shortFlag:e,longFlag:r}}Zn.Option=Ic;Zn.splitOptionFlags=Tc});var Rc=x(Ac=>{function Wm(t,e){if(Math.abs(t.length-e.length)>3)return Math.max(t.length,e.length);let r=[];for(let i=0;i<=t.length;i++)r[i]=[i];for(let i=0;i<=e.length;i++)r[0][i]=i;for(let i=1;i<=e.length;i++)for(let n=1;n<=t.length;n++){let s=1;t[n-1]===e[i-1]?s=0:s=1,r[n][i]=Math.min(r[n-1][i]+1,r[n][i-1]+1,r[n-1][i-1]+s),n>1&&i>1&&t[n-1]===e[i-2]&&t[n-2]===e[i-1]&&(r[n][i]=Math.min(r[n][i],r[n-2][i-2]+1))}return r[t.length][e.length]}function Ym(t,e){if(!e||e.length===0)return"";e=Array.from(new Set(e));let r=t.startsWith("--");r&&(t=t.slice(2),e=e.map(o=>o.slice(2)));let i=[],n=3,s=.4;return e.forEach(o=>{if(o.length<=1)return;let a=Wm(t,o),l=Math.max(t.length,o.length);(l-a)/l>s&&(a<n?(n=a,i=[o]):a===n&&i.push(o))}),i.sort((o,a)=>o.localeCompare(a)),r&&(i=i.map(o=>`--${o}`)),i.length>1?`
(Did you mean one of ${i.join(", ")}?)`:i.length===1?`
(Did you mean ${i[0]}?)`:""}Ac.suggestSimilar=Ym});var Fc=x(Pc=>{var Km=require("events").EventEmitter,Qn=require("child_process"),Dt=require("path"),Jn=require("fs"),{Argument:Zm,humanReadableArgName:Xm}=Ti(),{CommanderError:es}=qr(),{Help:Qm}=Kn(),{Option:Jm,splitOptionFlags:e0}=Xn(),{suggestSimilar:Bc}=Rc(),Ai=class extends Km{constructor(e){super();this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!0,this._args=[],this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=e||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!1,this._outputConfiguration={writeOut:r=>process.stdout.write(r),writeErr:r=>process.stderr.write(r),getOutHelpWidth:()=>process.stdout.isTTY?process.stdout.columns:void 0,getErrHelpWidth:()=>process.stderr.isTTY?process.stderr.columns:void 0,outputError:(r,i)=>i(r)},this._hidden=!1,this._hasHelpOption=!0,this._helpFlags="-h, --help",this._helpDescription="display help for command",this._helpShortFlag="-h",this._helpLongFlag="--help",this._addImplicitHelpCommand=void 0,this._helpCommandName="help",this._helpCommandnameAndArgs="help [command]",this._helpCommandDescription="display help for command",this._helpConfiguration={}}copyInheritedSettings(e){return this._outputConfiguration=e._outputConfiguration,this._hasHelpOption=e._hasHelpOption,this._helpFlags=e._helpFlags,this._helpDescription=e._helpDescription,this._helpShortFlag=e._helpShortFlag,this._helpLongFlag=e._helpLongFlag,this._helpCommandName=e._helpCommandName,this._helpCommandnameAndArgs=e._helpCommandnameAndArgs,this._helpCommandDescription=e._helpCommandDescription,this._helpConfiguration=e._helpConfiguration,this._exitCallback=e._exitCallback,this._storeOptionsAsProperties=e._storeOptionsAsProperties,this._combineFlagAndOptionalValue=e._combineFlagAndOptionalValue,this._allowExcessArguments=e._allowExcessArguments,this._enablePositionalOptions=e._enablePositionalOptions,this._showHelpAfterError=e._showHelpAfterError,this._showSuggestionAfterError=e._showSuggestionAfterError,this}command(e,r,i){let n=r,s=i;typeof n=="object"&&n!==null&&(s=n,n=null),s=s||{};let[,o,a]=e.match(/([^ ]+) *(.*)/),l=this.createCommand(o);return n&&(l.description(n),l._executableHandler=!0),s.isDefault&&(this._defaultCommandName=l._name),l._hidden=!!(s.noHelp||s.hidden),l._executableFile=s.executableFile||null,a&&l.arguments(a),this.commands.push(l),l.parent=this,l.copyInheritedSettings(this),n?this:l}createCommand(e){return new Ai(e)}createHelp(){return Object.assign(new Qm,this.configureHelp())}configureHelp(e){return e===void 0?this._helpConfiguration:(this._helpConfiguration=e,this)}configureOutput(e){return e===void 0?this._outputConfiguration:(Object.assign(this._outputConfiguration,e),this)}showHelpAfterError(e=!0){return typeof e!="string"&&(e=!!e),this._showHelpAfterError=e,this}showSuggestionAfterError(e=!0){return this._showSuggestionAfterError=!!e,this}addCommand(e,r){if(!e._name)throw new Error("Command passed to .addCommand() must have a name");function i(n){n.forEach(s=>{if(s._executableHandler&&!s._executableFile)throw new Error(`Must specify executableFile for deeply nested executable: ${s.name()}`);i(s.commands)})}return i(e.commands),r=r||{},r.isDefault&&(this._defaultCommandName=e._name),(r.noHelp||r.hidden)&&(e._hidden=!0),this.commands.push(e),e.parent=this,this}createArgument(e,r){return new Zm(e,r)}argument(e,r,i,n){let s=this.createArgument(e,r);return typeof i=="function"?s.default(n).argParser(i):s.default(i),this.addArgument(s),this}arguments(e){return e.split(/ +/).forEach(r=>{this.argument(r)}),this}addArgument(e){let r=this._args.slice(-1)[0];if(r&&r.variadic)throw new Error(`only the last argument can be variadic '${r.name()}'`);if(e.required&&e.defaultValue!==void 0&&e.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${e.name()}'`);return this._args.push(e),this}addHelpCommand(e,r){return e===!1?this._addImplicitHelpCommand=!1:(this._addImplicitHelpCommand=!0,typeof e=="string"&&(this._helpCommandName=e.split(" ")[0],this._helpCommandnameAndArgs=e),this._helpCommandDescription=r||this._helpCommandDescription),this}_hasImplicitHelpCommand(){return this._addImplicitHelpCommand===void 0?this.commands.length&&!this._actionHandler&&!this._findCommand("help"):this._addImplicitHelpCommand}hook(e,r){let i=["preAction","postAction"];if(!i.includes(e))throw new Error(`Unexpected value for event passed to hook : '${e}'.
Expecting one of '${i.join("', '")}'`);return this._lifeCycleHooks[e]?this._lifeCycleHooks[e].push(r):this._lifeCycleHooks[e]=[r],this}exitOverride(e){return e?this._exitCallback=e:this._exitCallback=r=>{if(r.code!=="commander.executeSubCommandAsync")throw r},this}_exit(e,r,i){this._exitCallback&&this._exitCallback(new es(e,r,i)),process.exit(e)}action(e){let r=i=>{let n=this._args.length,s=i.slice(0,n);return this._storeOptionsAsProperties?s[n]=this:s[n]=this.opts(),s.push(this),e.apply(this,s)};return this._actionHandler=r,this}createOption(e,r){return new Jm(e,r)}addOption(e){let r=e.name(),i=e.attributeName(),n=e.defaultValue;if(e.negate||e.optional||e.required||typeof n=="boolean"){if(e.negate){let o=e.long.replace(/^--no-/,"--");n=this._findOption(o)?this.getOptionValue(i):!0}n!==void 0&&this.setOptionValueWithSource(i,n,"default")}this.options.push(e);let s=(o,a,l)=>{let c=this.getOptionValue(i);if(o!==null&&e.parseArg)try{o=e.parseArg(o,c===void 0?n:c)}catch(u){if(u.code==="commander.invalidArgument"){let f=`${a} ${u.message}`;this._displayError(u.exitCode,u.code,f)}throw u}else o!==null&&e.variadic&&(o=e._concatValue(o,c));typeof c=="boolean"||typeof c=="undefined"?o==null?this.setOptionValueWithSource(i,e.negate?!1:n||!0,l):this.setOptionValueWithSource(i,o,l):o!==null&&this.setOptionValueWithSource(i,e.negate?!1:o,l)};return this.on("option:"+r,o=>{let a=`error: option '${e.flags}' argument '${o}' is invalid.`;s(o,a,"cli")}),e.envVar&&this.on("optionEnv:"+r,o=>{let a=`error: option '${e.flags}' value '${o}' from env '${e.envVar}' is invalid.`;s(o,a,"env")}),this}_optionEx(e,r,i,n,s){let o=this.createOption(r,i);if(o.makeOptionMandatory(!!e.mandatory),typeof n=="function")o.default(s).argParser(n);else if(n instanceof RegExp){let a=n;n=(l,c)=>{let u=a.exec(l);return u?u[0]:c},o.default(s).argParser(n)}else o.default(n);return this.addOption(o)}option(e,r,i,n){return this._optionEx({},e,r,i,n)}requiredOption(e,r,i,n){return this._optionEx({mandatory:!0},e,r,i,n)}combineFlagAndOptionalValue(e=!0){return this._combineFlagAndOptionalValue=!!e,this}allowUnknownOption(e=!0){return this._allowUnknownOption=!!e,this}allowExcessArguments(e=!0){return this._allowExcessArguments=!!e,this}enablePositionalOptions(e=!0){return this._enablePositionalOptions=!!e,this}passThroughOptions(e=!0){if(this._passThroughOptions=!!e,!!this.parent&&e&&!this.parent._enablePositionalOptions)throw new Error("passThroughOptions can not be used without turning on enablePositionalOptions for parent command(s)");return this}storeOptionsAsProperties(e=!0){if(this._storeOptionsAsProperties=!!e,this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");return this}getOptionValue(e){return this._storeOptionsAsProperties?this[e]:this._optionValues[e]}setOptionValue(e,r){return this._storeOptionsAsProperties?this[e]=r:this._optionValues[e]=r,this}setOptionValueWithSource(e,r,i){return this.setOptionValue(e,r),this._optionValueSources[e]=i,this}getOptionValueSource(e){return this._optionValueSources[e]}_prepareUserArgs(e,r){if(e!==void 0&&!Array.isArray(e))throw new Error("first parameter to parse must be array or undefined");r=r||{},e===void 0&&(e=process.argv,process.versions&&process.versions.electron&&(r.from="electron")),this.rawArgs=e.slice();let i;switch(r.from){case void 0:case"node":this._scriptPath=e[1],i=e.slice(2);break;case"electron":process.defaultApp?(this._scriptPath=e[1],i=e.slice(2)):i=e.slice(1);break;case"user":i=e.slice(0);break;default:throw new Error(`unexpected parse option { from: '${r.from}' }`)}return!this._scriptPath&&require.main&&(this._scriptPath=require.main.filename),this._name=this._name||this._scriptPath&&Dt.basename(this._scriptPath,Dt.extname(this._scriptPath)),i}parse(e,r){let i=this._prepareUserArgs(e,r);return this._parseCommand([],i),this}async parseAsync(e,r){let i=this._prepareUserArgs(e,r);return await this._parseCommand([],i),this}_executeSubCommand(e,r){r=r.slice();let i=!1,n=[".js",".ts",".tsx",".mjs",".cjs"];this._checkForMissingMandatoryOptions();let s=this._scriptPath;!s&&require.main&&(s=require.main.filename);let o;try{let h=Jn.realpathSync(s);o=Dt.dirname(h)}catch{o="."}let a=Dt.basename(s,Dt.extname(s))+"-"+e._name;e._executableFile&&(a=e._executableFile);let l=Dt.join(o,a);Jn.existsSync(l)?a=l:n.forEach(h=>{Jn.existsSync(`${l}${h}`)&&(a=`${l}${h}`)}),i=n.includes(Dt.extname(a));let c;process.platform!=="win32"?i?(r.unshift(a),r=Nc(process.execArgv).concat(r),c=Qn.spawn(process.argv[0],r,{stdio:"inherit"})):c=Qn.spawn(a,r,{stdio:"inherit"}):(r.unshift(a),r=Nc(process.execArgv).concat(r),c=Qn.spawn(process.execPath,r,{stdio:"inherit"})),["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(h=>{process.on(h,()=>{c.killed===!1&&c.exitCode===null&&c.kill(h)})});let f=this._exitCallback;f?c.on("close",()=>{f(new es(process.exitCode||0,"commander.executeSubCommandAsync","(close)"))}):c.on("close",process.exit.bind(process)),c.on("error",h=>{if(h.code==="ENOENT"){let p=`'${a}' does not exist
 - if '${e._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name`;throw new Error(p)}else if(h.code==="EACCES")throw new Error(`'${a}' not executable`);if(!f)process.exit(1);else{let p=new es(1,"commander.executeSubCommandAsync","(error)");p.nestedError=h,f(p)}}),this.runningCommand=c}_dispatchSubcommand(e,r,i){let n=this._findCommand(e);if(n||this.help({error:!0}),n._executableHandler)this._executeSubCommand(n,r.concat(i));else return n._parseCommand(r,i)}_checkNumberOfArguments(){this._args.forEach((e,r)=>{e.required&&this.args[r]==null&&this.missingArgument(e.name())}),!(this._args.length>0&&this._args[this._args.length-1].variadic)&&this.args.length>this._args.length&&this._excessArguments(this.args)}_processArguments(){let e=(i,n,s)=>{let o=n;if(n!==null&&i.parseArg)try{o=i.parseArg(n,s)}catch(a){if(a.code==="commander.invalidArgument"){let l=`error: command-argument value '${n}' is invalid for argument '${i.name()}'. ${a.message}`;this._displayError(a.exitCode,a.code,l)}throw a}return o};this._checkNumberOfArguments();let r=[];this._args.forEach((i,n)=>{let s=i.defaultValue;i.variadic?n<this.args.length?(s=this.args.slice(n),i.parseArg&&(s=s.reduce((o,a)=>e(i,a,o),i.defaultValue))):s===void 0&&(s=[]):n<this.args.length&&(s=this.args[n],i.parseArg&&(s=e(i,s,i.defaultValue))),r[n]=s}),this.processedArgs=r}_chainOrCall(e,r){return e&&e.then&&typeof e.then=="function"?e.then(()=>r()):r()}_chainOrCallHooks(e,r){let i=e,n=[];return ts(this).reverse().filter(s=>s._lifeCycleHooks[r]!==void 0).forEach(s=>{s._lifeCycleHooks[r].forEach(o=>{n.push({hookedCommand:s,callback:o})})}),r==="postAction"&&n.reverse(),n.forEach(s=>{i=this._chainOrCall(i,()=>s.callback(s.hookedCommand,this))}),i}_parseCommand(e,r){let i=this.parseOptions(r);if(this._parseOptionsEnv(),e=e.concat(i.operands),r=i.unknown,this.args=e.concat(r),e&&this._findCommand(e[0]))return this._dispatchSubcommand(e[0],e.slice(1),r);if(this._hasImplicitHelpCommand()&&e[0]===this._helpCommandName)return e.length===1&&this.help(),this._dispatchSubcommand(e[1],[],[this._helpLongFlag]);if(this._defaultCommandName)return Lc(this,r),this._dispatchSubcommand(this._defaultCommandName,e,r);this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName&&this.help({error:!0}),Lc(this,i.unknown),this._checkForMissingMandatoryOptions();let n=()=>{i.unknown.length>0&&this.unknownOption(i.unknown[0])},s=`command:${this.name()}`;if(this._actionHandler){n(),this._processArguments();let o;return o=this._chainOrCallHooks(o,"preAction"),o=this._chainOrCall(o,()=>this._actionHandler(this.processedArgs)),this.parent&&this.parent.emit(s,e,r),o=this._chainOrCallHooks(o,"postAction"),o}if(this.parent&&this.parent.listenerCount(s))n(),this._processArguments(),this.parent.emit(s,e,r);else if(e.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",e,r);this.listenerCount("command:*")?this.emit("command:*",e,r):this.commands.length?this.unknownCommand():(n(),this._processArguments())}else this.commands.length?(n(),this.help({error:!0})):(n(),this._processArguments())}_findCommand(e){if(!!e)return this.commands.find(r=>r._name===e||r._aliases.includes(e))}_findOption(e){return this.options.find(r=>r.is(e))}_checkForMissingMandatoryOptions(){for(let e=this;e;e=e.parent)e.options.forEach(r=>{r.mandatory&&e.getOptionValue(r.attributeName())===void 0&&e.missingMandatoryOptionValue(r)})}parseOptions(e){let r=[],i=[],n=r,s=e.slice();function o(l){return l.length>1&&l[0]==="-"}let a=null;for(;s.length;){let l=s.shift();if(l==="--"){n===i&&n.push(l),n.push(...s);break}if(a&&!o(l)){this.emit(`option:${a.name()}`,l);continue}if(a=null,o(l)){let c=this._findOption(l);if(c){if(c.required){let u=s.shift();u===void 0&&this.optionMissingArgument(c),this.emit(`option:${c.name()}`,u)}else if(c.optional){let u=null;s.length>0&&!o(s[0])&&(u=s.shift()),this.emit(`option:${c.name()}`,u)}else this.emit(`option:${c.name()}`);a=c.variadic?c:null;continue}}if(l.length>2&&l[0]==="-"&&l[1]!=="-"){let c=this._findOption(`-${l[1]}`);if(c){c.required||c.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${c.name()}`,l.slice(2)):(this.emit(`option:${c.name()}`),s.unshift(`-${l.slice(2)}`));continue}}if(/^--[^=]+=/.test(l)){let c=l.indexOf("="),u=this._findOption(l.slice(0,c));if(u&&(u.required||u.optional)){this.emit(`option:${u.name()}`,l.slice(c+1));continue}}if(o(l)&&(n=i),(this._enablePositionalOptions||this._passThroughOptions)&&r.length===0&&i.length===0){if(this._findCommand(l)){r.push(l),s.length>0&&i.push(...s);break}else if(l===this._helpCommandName&&this._hasImplicitHelpCommand()){r.push(l),s.length>0&&r.push(...s);break}else if(this._defaultCommandName){i.push(l),s.length>0&&i.push(...s);break}}if(this._passThroughOptions){n.push(l),s.length>0&&n.push(...s);break}n.push(l)}return{operands:r,unknown:i}}opts(){if(this._storeOptionsAsProperties){let e={},r=this.options.length;for(let i=0;i<r;i++){let n=this.options[i].attributeName();e[n]=n===this._versionOptionName?this._version:this[n]}return e}return this._optionValues}_displayError(e,r,i){this._outputConfiguration.outputError(`${i}
`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError=="string"?this._outputConfiguration.writeErr(`${this._showHelpAfterError}
`):this._showHelpAfterError&&(this._outputConfiguration.writeErr(`
`),this.outputHelp({error:!0})),this._exit(e,r,i)}_parseOptionsEnv(){this.options.forEach(e=>{if(e.envVar&&e.envVar in process.env){let r=e.attributeName();(this.getOptionValue(r)===void 0||["default","config","env"].includes(this.getOptionValueSource(r)))&&(e.required||e.optional?this.emit(`optionEnv:${e.name()}`,process.env[e.envVar]):this.emit(`optionEnv:${e.name()}`))}})}missingArgument(e){let r=`error: missing required argument '${e}'`;this._displayError(1,"commander.missingArgument",r)}optionMissingArgument(e){let r=`error: option '${e.flags}' argument missing`;this._displayError(1,"commander.optionMissingArgument",r)}missingMandatoryOptionValue(e){let r=`error: required option '${e.flags}' not specified`;this._displayError(1,"commander.missingMandatoryOptionValue",r)}unknownOption(e){if(this._allowUnknownOption)return;let r="";if(e.startsWith("--")&&this._showSuggestionAfterError){let n=[],s=this;do{let o=s.createHelp().visibleOptions(s).filter(a=>a.long).map(a=>a.long);n=n.concat(o),s=s.parent}while(s&&!s._enablePositionalOptions);r=Bc(e,n)}let i=`error: unknown option '${e}'${r}`;this._displayError(1,"commander.unknownOption",i)}_excessArguments(e){if(this._allowExcessArguments)return;let r=this._args.length,i=r===1?"":"s",s=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${r} argument${i} but got ${e.length}.`;this._displayError(1,"commander.excessArguments",s)}unknownCommand(){let e=this.args[0],r="";if(this._showSuggestionAfterError){let n=[];this.createHelp().visibleCommands(this).forEach(s=>{n.push(s.name()),s.alias()&&n.push(s.alias())}),r=Bc(e,n)}let i=`error: unknown command '${e}'${r}`;this._displayError(1,"commander.unknownCommand",i)}version(e,r,i){if(e===void 0)return this._version;this._version=e,r=r||"-V, --version",i=i||"output the version number";let n=this.createOption(r,i);return this._versionOptionName=n.attributeName(),this.options.push(n),this.on("option:"+n.name(),()=>{this._outputConfiguration.writeOut(`${e}
`),this._exit(0,"commander.version",e)}),this}description(e,r){return e===void 0&&r===void 0?this._description:(this._description=e,r&&(this._argsDescription=r),this)}alias(e){if(e===void 0)return this._aliases[0];let r=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler&&(r=this.commands[this.commands.length-1]),e===r._name)throw new Error("Command alias can't be the same as its name");return r._aliases.push(e),this}aliases(e){return e===void 0?this._aliases:(e.forEach(r=>this.alias(r)),this)}usage(e){if(e===void 0){if(this._usage)return this._usage;let r=this._args.map(i=>Xm(i));return[].concat(this.options.length||this._hasHelpOption?"[options]":[],this.commands.length?"[command]":[],this._args.length?r:[]).join(" ")}return this._usage=e,this}name(e){return e===void 0?this._name:(this._name=e,this)}helpInformation(e){let r=this.createHelp();return r.helpWidth===void 0&&(r.helpWidth=e&&e.error?this._outputConfiguration.getErrHelpWidth():this._outputConfiguration.getOutHelpWidth()),r.formatHelp(this,r)}_getHelpContext(e){e=e||{};let r={error:!!e.error},i;return r.error?i=n=>this._outputConfiguration.writeErr(n):i=n=>this._outputConfiguration.writeOut(n),r.write=e.write||i,r.command=this,r}outputHelp(e){let r;typeof e=="function"&&(r=e,e=void 0);let i=this._getHelpContext(e);ts(this).reverse().forEach(s=>s.emit("beforeAllHelp",i)),this.emit("beforeHelp",i);let n=this.helpInformation(i);if(r&&(n=r(n),typeof n!="string"&&!Buffer.isBuffer(n)))throw new Error("outputHelp callback must return a string or a Buffer");i.write(n),this.emit(this._helpLongFlag),this.emit("afterHelp",i),ts(this).forEach(s=>s.emit("afterAllHelp",i))}helpOption(e,r){if(typeof e=="boolean")return this._hasHelpOption=e,this;this._helpFlags=e||this._helpFlags,this._helpDescription=r||this._helpDescription;let i=e0(this._helpFlags);return this._helpShortFlag=i.shortFlag,this._helpLongFlag=i.longFlag,this}help(e){this.outputHelp(e);let r=process.exitCode||0;r===0&&e&&typeof e!="function"&&e.error&&(r=1),this._exit(r,"commander.help","(outputHelp)")}addHelpText(e,r){let i=["beforeAll","before","after","afterAll"];if(!i.includes(e))throw new Error(`Unexpected value for position to addHelpText.
Expecting one of '${i.join("', '")}'`);let n=`${e}Help`;return this.on(n,s=>{let o;typeof r=="function"?o=r({error:s.error,command:s.command}):o=r,o&&s.write(`${o}
`)}),this}};function Lc(t,e){t._hasHelpOption&&e.find(i=>i===t._helpLongFlag||i===t._helpShortFlag)&&(t.outputHelp(),t._exit(0,"commander.helpDisplayed","(outputHelp)"))}function Nc(t){return t.map(e=>{if(!e.startsWith("--inspect"))return e;let r,i="127.0.0.1",n="9229",s;return(s=e.match(/^(--inspect(-brk)?)$/))!==null?r=s[1]:(s=e.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null?(r=s[1],/^\d+$/.test(s[3])?n=s[3]:i=s[3]):(s=e.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null&&(r=s[1],i=s[3],n=s[4]),r&&n!=="0"?`${r}=${i}:${parseInt(n)+1}`:e})}function ts(t){let e=[];for(let r=t;r;r=r.parent)e.push(r);return e}Pc.Command=Ai});var jc=x((st,Dc)=>{var{Argument:t0}=Ti(),{Command:Mc}=Fc(),{CommanderError:r0,InvalidArgumentError:Uc}=qr(),{Help:i0}=Kn(),{Option:n0}=Xn();st=Dc.exports=new Mc;st.program=st;st.Argument=t0;st.Command=Mc;st.CommanderError=r0;st.Help=i0;st.InvalidArgumentError=Uc;st.InvalidOptionArgumentError=Uc;st.Option=n0});var Vc=x((qc,Hc)=>{qc=Hc.exports=hr;function hr(t,e){if(this.stream=e.stream||process.stderr,typeof e=="number"){var r=e;e={},e.total=r}else{if(e=e||{},typeof t!="string")throw new Error("format required");if(typeof e.total!="number")throw new Error("total required")}this.fmt=t,this.curr=e.curr||0,this.total=e.total,this.width=e.width||this.total,this.clear=e.clear,this.chars={complete:e.complete||"=",incomplete:e.incomplete||"-",head:e.head||e.complete||"="},this.renderThrottle=e.renderThrottle!==0?e.renderThrottle||16:0,this.lastRender=-1/0,this.callback=e.callback||function(){},this.tokens={},this.lastDraw=""}hr.prototype.tick=function(t,e){if(t!==0&&(t=t||1),typeof t=="object"&&(e=t,t=1),e&&(this.tokens=e),this.curr==0&&(this.start=new Date),this.curr+=t,this.render(),this.curr>=this.total){this.render(void 0,!0),this.complete=!0,this.terminate(),this.callback(this);return}};hr.prototype.render=function(t,e){if(e=e!==void 0?e:!1,t&&(this.tokens=t),!!this.stream.isTTY){var r=Date.now(),i=r-this.lastRender;if(!(!e&&i<this.renderThrottle)){this.lastRender=r;var n=this.curr/this.total;n=Math.min(Math.max(n,0),1);var s=Math.floor(n*100),o,a,l,c=new Date-this.start,u=s==100?0:c*(this.total/this.curr-1),f=this.curr/(c/1e3),h=this.fmt.replace(":current",this.curr).replace(":total",this.total).replace(":elapsed",isNaN(c)?"0.0":(c/1e3).toFixed(1)).replace(":eta",isNaN(u)||!isFinite(u)?"0.0":(u/1e3).toFixed(1)).replace(":percent",s.toFixed(0)+"%").replace(":rate",Math.round(f)),p=Math.max(0,this.stream.columns-h.replace(":bar","").length);p&&process.platform==="win32"&&(p=p-1);var d=Math.min(this.width,p);if(l=Math.round(d*n),a=Array(Math.max(0,l+1)).join(this.chars.complete),o=Array(Math.max(0,d-l+1)).join(this.chars.incomplete),l>0&&(a=a.slice(0,-1)+this.chars.head),h=h.replace(":bar",a+o),this.tokens)for(var m in this.tokens)h=h.replace(":"+m,this.tokens[m]);this.lastDraw!==h&&(this.stream.cursorTo(0),this.stream.write(h),this.stream.clearLine(1),this.lastDraw=h)}}};hr.prototype.update=function(t,e){var r=Math.floor(t*this.total),i=r-this.curr;this.tick(i,e)};hr.prototype.interrupt=function(t){this.stream.clearLine(),this.stream.cursorTo(0),this.stream.write(t),this.stream.write(`
`),this.stream.write(this.lastDraw)};hr.prototype.terminate=function(){this.clear?this.stream.clearLine&&(this.stream.clearLine(),this.stream.cursorTo(0)):this.stream.write(`
`)}});var Gc=x((mx,$c)=>{$c.exports=Vc()});var zc=x(rs=>{var jt=require("path"),bt=process.platform==="win32",yt=require("fs"),s0=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function o0(){var t;if(s0){var e=new Error;t=r}else t=i;return t;function r(n){n&&(e.message=n.message,n=e,i(n))}function i(n){if(n){if(process.throwDeprecation)throw n;if(!process.noDeprecation){var s="fs: missing callback "+(n.stack||n.message);process.traceDeprecation?console.trace(s):console.error(s)}}}}function a0(t){return typeof t=="function"?t:o0()}var vx=jt.normalize;bt?ut=/(.*?)(?:[\/\\]+|$)/g:ut=/(.*?)(?:[\/]+|$)/g;var ut;bt?Hr=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:Hr=/^[\/]*/;var Hr;rs.realpathSync=function(e,r){if(e=jt.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];var i=e,n={},s={},o,a,l,c;u();function u(){var v=Hr.exec(e);o=v[0].length,a=v[0],l=v[0],c="",bt&&!s[l]&&(yt.lstatSync(l),s[l]=!0)}for(;o<e.length;){ut.lastIndex=o;var f=ut.exec(e);if(c=a,a+=f[0],l=c+f[1],o=ut.lastIndex,!(s[l]||r&&r[l]===l)){var h;if(r&&Object.prototype.hasOwnProperty.call(r,l))h=r[l];else{var p=yt.lstatSync(l);if(!p.isSymbolicLink()){s[l]=!0,r&&(r[l]=l);continue}var d=null;if(!bt){var m=p.dev.toString(32)+":"+p.ino.toString(32);n.hasOwnProperty(m)&&(d=n[m])}d===null&&(yt.statSync(l),d=yt.readlinkSync(l)),h=jt.resolve(c,d),r&&(r[l]=h),bt||(n[m]=d)}e=jt.resolve(h,e.slice(o)),u()}}return r&&(r[i]=e),e};rs.realpath=function(e,r,i){if(typeof i!="function"&&(i=a0(r),r=null),e=jt.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return process.nextTick(i.bind(null,null,r[e]));var n=e,s={},o={},a,l,c,u;f();function f(){var v=Hr.exec(e);a=v[0].length,l=v[0],c=v[0],u="",bt&&!o[c]?yt.lstat(c,function(y){if(y)return i(y);o[c]=!0,h()}):process.nextTick(h)}function h(){if(a>=e.length)return r&&(r[n]=e),i(null,e);ut.lastIndex=a;var v=ut.exec(e);return u=l,l+=v[0],c=u+v[1],a=ut.lastIndex,o[c]||r&&r[c]===c?process.nextTick(h):r&&Object.prototype.hasOwnProperty.call(r,c)?m(r[c]):yt.lstat(c,p)}function p(v,y){if(v)return i(v);if(!y.isSymbolicLink())return o[c]=!0,r&&(r[c]=c),process.nextTick(h);if(!bt){var O=y.dev.toString(32)+":"+y.ino.toString(32);if(s.hasOwnProperty(O))return d(null,s[O],c)}yt.stat(c,function(w){if(w)return i(w);yt.readlink(c,function(S,b){bt||(s[O]=b),d(S,b)})})}function d(v,y,O){if(v)return i(v);var w=jt.resolve(u,y);r&&(r[O]=w),m(w)}function m(v){e=jt.resolve(v,e.slice(a)),f()}}});var os=x((_x,Zc)=>{Zc.exports=wt;wt.realpath=wt;wt.sync=ss;wt.realpathSync=ss;wt.monkeypatch=c0;wt.unmonkeypatch=u0;var pr=require("fs"),is=pr.realpath,ns=pr.realpathSync,l0=process.version,Wc=/^v[0-5]\./.test(l0),Yc=zc();function Kc(t){return t&&t.syscall==="realpath"&&(t.code==="ELOOP"||t.code==="ENOMEM"||t.code==="ENAMETOOLONG")}function wt(t,e,r){if(Wc)return is(t,e,r);typeof e=="function"&&(r=e,e=null),is(t,e,function(i,n){Kc(i)?Yc.realpath(t,e,r):r(i,n)})}function ss(t,e){if(Wc)return ns(t,e);try{return ns(t,e)}catch(r){if(Kc(r))return Yc.realpathSync(t,e);throw r}}function c0(){pr.realpath=wt,pr.realpathSync=ss}function u0(){pr.realpath=is,pr.realpathSync=ns}});var Xc=x((xx,as)=>{typeof Object.create=="function"?as.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:as.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e}}});var Qc=x((yx,cs)=>{try{if(ls=require("util"),typeof ls.inherits!="function")throw"";cs.exports=ls.inherits}catch{cs.exports=Xc()}var ls});var Bi=x((bx,Ri)=>{"use strict";function Jc(t){return t.charAt(0)==="/"}function eu(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=e.exec(t),i=r[1]||"",n=Boolean(i&&i.charAt(1)!==":");return Boolean(r[2]||n)}Ri.exports=process.platform==="win32"?eu:Jc;Ri.exports.posix=Jc;Ri.exports.win32=eu});var fs=x(Et=>{Et.setopts=v0;Et.ownProp=tu;Et.makeAbs=Vr;Et.finish=g0;Et.mark=_0;Et.isIgnored=iu;Et.childrenIgnored=x0;function tu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var f0=require("fs"),dr=require("path"),h0=Dr(),ru=Bi(),us=h0.Minimatch;function p0(t,e){return t.localeCompare(e,"en")}function d0(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(m0))}function m0(t){var e=null;if(t.slice(-3)==="/**"){var r=t.replace(/(\/\*\*)+$/,"");e=new us(r,{dot:!0})}return{matcher:new us(t,{dot:!0}),gmatcher:e}}function v0(t,e,r){if(r||(r={}),r.matchBase&&e.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=r.strict!==!1,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0),t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.fs=r.fs||f0,t.maxLength=r.maxLength||1/0,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),d0(t,r),t.changedCwd=!1;var i=process.cwd();tu(r,"cwd")?(t.cwd=dr.resolve(r.cwd),t.changedCwd=t.cwd!==i):t.cwd=i,t.root=r.root||dr.resolve(t.cwd,"/"),t.root=dr.resolve(t.root),process.platform==="win32"&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=ru(t.cwd)?t.cwd:Vr(t,t.cwd),process.platform==="win32"&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),t.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,t.minimatch=new us(e,r),t.options=t.minimatch.options}function g0(t){for(var e=t.nounique,r=e?[]:Object.create(null),i=0,n=t.matches.length;i<n;i++){var s=t.matches[i];if(!s||Object.keys(s).length===0){if(t.nonull){var o=t.minimatch.globSet[i];e?r.push(o):r[o]=!0}}else{var a=Object.keys(s);e?r.push.apply(r,a):a.forEach(function(l){r[l]=!0})}}if(e||(r=Object.keys(r)),t.nosort||(r=r.sort(p0)),t.mark){for(var i=0;i<r.length;i++)r[i]=t._mark(r[i]);t.nodir&&(r=r.filter(function(l){var c=!/\/$/.test(l),u=t.cache[l]||t.cache[Vr(t,l)];return c&&u&&(c=u!=="DIR"&&!Array.isArray(u)),c}))}t.ignore.length&&(r=r.filter(function(l){return!iu(t,l)})),t.found=r}function _0(t,e){var r=Vr(t,e),i=t.cache[r],n=e;if(i){var s=i==="DIR"||Array.isArray(i),o=e.slice(-1)==="/";if(s&&!o?n+="/":!s&&o&&(n=n.slice(0,-1)),n!==e){var a=Vr(t,n);t.statCache[a]=t.statCache[r],t.cache[a]=t.cache[r]}}return n}function Vr(t,e){var r=e;return e.charAt(0)==="/"?r=dr.join(t.root,e):ru(e)||e===""?r=e:t.changedCwd?r=dr.resolve(t.cwd,e):r=dr.resolve(e),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function iu(t,e){return t.ignore.length?t.ignore.some(function(r){return r.matcher.match(e)||!!(r.gmatcher&&r.gmatcher.match(e))}):!1}function x0(t,e){return t.ignore.length?t.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(e))}):!1}});var lu=x((Cx,au)=>{au.exports=ou;ou.GlobSync=Be;var y0=os(),nu=Dr(),Ex=nu.Minimatch,Sx=ds().Glob,kx=require("util"),hs=require("path"),su=require("assert"),Li=Bi(),qt=fs(),b0=qt.setopts,ps=qt.ownProp,w0=qt.childrenIgnored,E0=qt.isIgnored;function ou(t,e){if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new Be(t,e).found}function Be(t,e){if(!t)throw new Error("must provide pattern");if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof Be))return new Be(t,e);if(b0(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var i=0;i<r;i++)this._process(this.minimatch.set[i],i,!1);this._finish()}Be.prototype._finish=function(){if(su(this instanceof Be),this.realpath){var t=this;this.matches.forEach(function(e,r){var i=t.matches[r]=Object.create(null);for(var n in e)try{n=t._makeAbs(n);var s=y0.realpathSync(n,t.realpathCache);i[s]=!0}catch(o){if(o.syscall==="stat")i[t._makeAbs(n)]=!0;else throw o}})}qt.finish(this)};Be.prototype._process=function(t,e,r){su(this instanceof Be);for(var i=0;typeof t[i]=="string";)i++;var n;switch(i){case t.length:this._processSimple(t.join("/"),e);return;case 0:n=null;break;default:n=t.slice(0,i).join("/");break}var s=t.slice(i),o;n===null?o=".":((Li(n)||Li(t.join("/")))&&(!n||!Li(n))&&(n="/"+n),o=n);var a=this._makeAbs(o);if(!w0(this,o)){var l=s[0]===nu.GLOBSTAR;l?this._processGlobStar(n,o,a,s,e,r):this._processReaddir(n,o,a,s,e,r)}};Be.prototype._processReaddir=function(t,e,r,i,n,s){var o=this._readdir(r,s);if(!!o){for(var a=i[0],l=!!this.minimatch.negate,c=a._glob,u=this.dot||c.charAt(0)===".",f=[],h=0;h<o.length;h++){var p=o[h];if(p.charAt(0)!=="."||u){var d;l&&!t?d=!p.match(a):d=p.match(a),d&&f.push(p)}}var m=f.length;if(m!==0){if(i.length===1&&!this.mark&&!this.stat){this.matches[n]||(this.matches[n]=Object.create(null));for(var h=0;h<m;h++){var p=f[h];t&&(t.slice(-1)!=="/"?p=t+"/"+p:p=t+p),p.charAt(0)==="/"&&!this.nomount&&(p=hs.join(this.root,p)),this._emitMatch(n,p)}return}i.shift();for(var h=0;h<m;h++){var p=f[h],v;t?v=[t,p]:v=[p],this._process(v.concat(i),n,s)}}}};Be.prototype._emitMatch=function(t,e){if(!E0(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var i=this.cache[r];if(i==="DIR"||Array.isArray(i))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}};Be.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r,i;try{r=this.fs.lstatSync(t)}catch(s){if(s.code==="ENOENT")return null}var n=r&&r.isSymbolicLink();return this.symlinks[t]=n,!n&&r&&!r.isDirectory()?this.cache[t]="FILE":e=this._readdir(t,!1),e};Be.prototype._readdir=function(t,e){var r;if(e&&!ps(this.symlinks,t))return this._readdirInGlobStar(t);if(ps(this.cache,t)){var i=this.cache[t];if(!i||i==="FILE")return null;if(Array.isArray(i))return i}try{return this._readdirEntries(t,this.fs.readdirSync(t))}catch(n){return this._readdirError(t,n),null}};Be.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var i=e[r];t==="/"?i=t+i:i=t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,e};Be.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);throw i.path=this.cwd,i.code=e.code,i}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e);break}};Be.prototype._processGlobStar=function(t,e,r,i,n,s){var o=this._readdir(r,s);if(!!o){var a=i.slice(1),l=t?[t]:[],c=l.concat(a);this._process(c,n,!1);var u=o.length,f=this.symlinks[r];if(!(f&&s))for(var h=0;h<u;h++){var p=o[h];if(!(p.charAt(0)==="."&&!this.dot)){var d=l.concat(o[h],a);this._process(d,n,!0);var m=l.concat(o[h],i);this._process(m,n,!0)}}}};Be.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),!!r){if(t&&Li(t)&&!this.nomount){var i=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=hs.join(this.root,t):(t=hs.resolve(this.root,t),i&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}};Be.prototype._stat=function(t){var e=this._makeAbs(t),r=t.slice(-1)==="/";if(t.length>this.maxLength)return!1;if(!this.stat&&ps(this.cache,e)){var o=this.cache[e];if(Array.isArray(o)&&(o="DIR"),!r||o==="DIR")return o;if(r&&o==="FILE")return!1}var i,n=this.statCache[e];if(!n){var s;try{s=this.fs.lstatSync(e)}catch(a){if(a&&(a.code==="ENOENT"||a.code==="ENOTDIR"))return this.statCache[e]=!1,!1}if(s&&s.isSymbolicLink())try{n=this.fs.statSync(e)}catch{n=s}else n=s}this.statCache[e]=n;var o=!0;return n&&(o=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,r&&o==="FILE"?!1:o};Be.prototype._mark=function(t){return qt.mark(this,t)};Be.prototype._makeAbs=function(t){return qt.makeAbs(this,t)}});var ms=x((Ox,uu)=>{uu.exports=cu;function cu(t,e){if(t&&e)return cu(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(i){r[i]=t[i]}),r;function r(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];var s=t.apply(this,i),o=i[i.length-1];return typeof s=="function"&&s!==o&&Object.keys(o).forEach(function(a){s[a]=o[a]}),s}}});var gs=x((Ix,vs)=>{var fu=ms();vs.exports=fu(Ni);vs.exports.strict=fu(hu);Ni.proto=Ni(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Ni(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return hu(this)},configurable:!0})});function Ni(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function hu(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}});var du=x((Tx,pu)=>{var S0=ms(),$r=Object.create(null),k0=gs();pu.exports=S0(C0);function C0(t,e){return $r[t]?($r[t].push(e),null):($r[t]=[e],O0(t))}function O0(t){return k0(function e(){var r=$r[t],i=r.length,n=I0(arguments);try{for(var s=0;s<i;s++)r[s].apply(null,n)}finally{r.length>i?(r.splice(0,i),process.nextTick(function(){e.apply(null,n)})):delete $r[t]}})}function I0(t){for(var e=t.length,r=[],i=0;i<e;i++)r[i]=t[i];return r}});var ds=x((Bx,vu)=>{vu.exports=Ht;var T0=os(),mu=Dr(),Ax=mu.Minimatch,A0=Qc(),R0=require("events").EventEmitter,_s=require("path"),xs=require("assert"),Gr=Bi(),bs=lu(),Vt=fs(),B0=Vt.setopts,ys=Vt.ownProp,ws=du(),Rx=require("util"),L0=Vt.childrenIgnored,N0=Vt.isIgnored,P0=gs();function Ht(t,e,r){if(typeof e=="function"&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return bs(t,e)}return new ve(t,e,r)}Ht.sync=bs;var F0=Ht.GlobSync=bs.GlobSync;Ht.glob=Ht;function M0(t,e){if(e===null||typeof e!="object")return t;for(var r=Object.keys(e),i=r.length;i--;)t[r[i]]=e[r[i]];return t}Ht.hasMagic=function(t,e){var r=M0({},e);r.noprocess=!0;var i=new ve(t,r),n=i.minimatch.set;if(!t)return!1;if(n.length>1)return!0;for(var s=0;s<n[0].length;s++)if(typeof n[0][s]!="string")return!0;return!1};Ht.Glob=ve;A0(ve,R0);function ve(t,e,r){if(typeof e=="function"&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new F0(t,e)}if(!(this instanceof ve))return new ve(t,e,r);B0(this,t,e),this._didRealPath=!1;var i=this.minimatch.set.length;this.matches=new Array(i),typeof r=="function"&&(r=P0(r),this.on("error",r),this.on("end",function(l){r(null,l)}));var n=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(i===0)return a();for(var s=!0,o=0;o<i;o++)this._process(this.minimatch.set[o],o,!1,a);s=!1;function a(){--n._processing,n._processing<=0&&(s?process.nextTick(function(){n._finish()}):n._finish())}}ve.prototype._finish=function(){if(xs(this instanceof ve),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();Vt.finish(this),this.emit("end",this.found)}};ve.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var t=this.matches.length;if(t===0)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,i);function i(){--t===0&&e._finish()}};ve.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var i=Object.keys(r),n=this,s=i.length;if(s===0)return e();var o=this.matches[t]=Object.create(null);i.forEach(function(a,l){a=n._makeAbs(a),T0.realpath(a,n.realpathCache,function(c,u){c?c.syscall==="stat"?o[a]=!0:n.emit("error",c):o[u]=!0,--s===0&&(n.matches[t]=o,e())})})};ve.prototype._mark=function(t){return Vt.mark(this,t)};ve.prototype._makeAbs=function(t){return Vt.makeAbs(this,t)};ve.prototype.abort=function(){this.aborted=!0,this.emit("abort")};ve.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};ve.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var i=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<i.length;e++){var n=i[e];this._processing--,this._process(n[0],n[1],n[2],n[3])}}}};ve.prototype._process=function(t,e,r,i){if(xs(this instanceof ve),xs(typeof i=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([t,e,r,i]);return}for(var n=0;typeof t[n]=="string";)n++;var s;switch(n){case t.length:this._processSimple(t.join("/"),e,i);return;case 0:s=null;break;default:s=t.slice(0,n).join("/");break}var o=t.slice(n),a;s===null?a=".":((Gr(s)||Gr(t.join("/")))&&(!s||!Gr(s))&&(s="/"+s),a=s);var l=this._makeAbs(a);if(L0(this,a))return i();var c=o[0]===mu.GLOBSTAR;c?this._processGlobStar(s,a,l,o,e,r,i):this._processReaddir(s,a,l,o,e,r,i)}};ve.prototype._processReaddir=function(t,e,r,i,n,s,o){var a=this;this._readdir(r,s,function(l,c){return a._processReaddir2(t,e,r,i,n,s,c,o)})};ve.prototype._processReaddir2=function(t,e,r,i,n,s,o,a){if(!o)return a();for(var l=i[0],c=!!this.minimatch.negate,u=l._glob,f=this.dot||u.charAt(0)===".",h=[],p=0;p<o.length;p++){var d=o[p];if(d.charAt(0)!=="."||f){var m;c&&!t?m=!d.match(l):m=d.match(l),m&&h.push(d)}}var v=h.length;if(v===0)return a();if(i.length===1&&!this.mark&&!this.stat){this.matches[n]||(this.matches[n]=Object.create(null));for(var p=0;p<v;p++){var d=h[p];t&&(t!=="/"?d=t+"/"+d:d=t+d),d.charAt(0)==="/"&&!this.nomount&&(d=_s.join(this.root,d)),this._emitMatch(n,d)}return a()}i.shift();for(var p=0;p<v;p++){var d=h[p],y;t&&(t!=="/"?d=t+"/"+d:d=t+d),this._process([d].concat(i),n,s,a)}a()};ve.prototype._emitMatch=function(t,e){if(!this.aborted&&!N0(this,e)){if(this.paused){this._emitQueue.push([t,e]);return}var r=Gr(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var i=this.cache[r];if(i==="DIR"||Array.isArray(i))return}this.matches[t][e]=!0;var n=this.statCache[r];n&&this.emit("stat",e,n),this.emit("match",e)}}};ve.prototype._readdirInGlobStar=function(t,e){if(this.aborted)return;if(this.follow)return this._readdir(t,!1,e);var r="lstat\0"+t,i=this,n=ws(r,s);n&&i.fs.lstat(t,n);function s(o,a){if(o&&o.code==="ENOENT")return e();var l=a&&a.isSymbolicLink();i.symlinks[t]=l,!l&&a&&!a.isDirectory()?(i.cache[t]="FILE",e()):i._readdir(t,!1,e)}};ve.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=ws("readdir\0"+t+"\0"+e,r),!!r)){if(e&&!ys(this.symlinks,t))return this._readdirInGlobStar(t,r);if(ys(this.cache,t)){var i=this.cache[t];if(!i||i==="FILE")return r();if(Array.isArray(i))return r(null,i)}var n=this;n.fs.readdir(t,U0(this,t,r))}};function U0(t,e,r){return function(i,n){i?t._readdirError(e,i,r):t._readdirEntries(e,n,r)}}ve.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var i=0;i<e.length;i++){var n=e[i];t==="/"?n=t+n:n=t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,r(null,e)}};ve.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var i=this._makeAbs(t);if(this.cache[i]="FILE",i===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);n.path=this.cwd,n.code=e.code,this.emit("error",n),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e);break}return r()}};ve.prototype._processGlobStar=function(t,e,r,i,n,s,o){var a=this;this._readdir(r,s,function(l,c){a._processGlobStar2(t,e,r,i,n,s,c,o)})};ve.prototype._processGlobStar2=function(t,e,r,i,n,s,o,a){if(!o)return a();var l=i.slice(1),c=t?[t]:[],u=c.concat(l);this._process(u,n,!1,a);var f=this.symlinks[r],h=o.length;if(f&&s)return a();for(var p=0;p<h;p++){var d=o[p];if(!(d.charAt(0)==="."&&!this.dot)){var m=c.concat(o[p],l);this._process(m,n,!0,a);var v=c.concat(o[p],i);this._process(v,n,!0,a)}}a()};ve.prototype._processSimple=function(t,e,r){var i=this;this._stat(t,function(n,s){i._processSimple2(t,e,n,s,r)})};ve.prototype._processSimple2=function(t,e,r,i,n){if(this.matches[e]||(this.matches[e]=Object.create(null)),!i)return n();if(t&&Gr(t)&&!this.nomount){var s=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=_s.join(this.root,t):(t=_s.resolve(this.root,t),s&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),n()};ve.prototype._stat=function(t,e){var r=this._makeAbs(t),i=t.slice(-1)==="/";if(t.length>this.maxLength)return e();if(!this.stat&&ys(this.cache,r)){var n=this.cache[r];if(Array.isArray(n)&&(n="DIR"),!i||n==="DIR")return e(null,n);if(i&&n==="FILE")return e()}var s,o=this.statCache[r];if(o!==void 0){if(o===!1)return e(null,o);var a=o.isDirectory()?"DIR":"FILE";return i&&a==="FILE"?e():e(null,a,o)}var l=this,c=ws("stat\0"+r,u);c&&l.fs.lstat(r,c);function u(f,h){if(h&&h.isSymbolicLink())return l.fs.stat(r,function(p,d){p?l._stat2(t,r,null,h,e):l._stat2(t,r,p,d,e)});l._stat2(t,r,f,h,e)}};ve.prototype._stat2=function(t,e,r,i,n){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[e]=!1,n();var s=t.slice(-1)==="/";if(this.statCache[e]=i,e.slice(-1)==="/"&&i&&!i.isDirectory())return n(null,!1,i);var o=!0;return i&&(o=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,s&&o==="FILE"?n():n(null,o,i)}});var Su=x((Lx,Eu)=>{var we=require("assert"),yu=require("path"),gu=require("fs"),mr;try{mr=ds()}catch{}var D0={nosort:!0,silent:!0},Es=0,zr=process.platform==="win32",bu=t=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{t[r]=t[r]||gu[r],r=r+"Sync",t[r]=t[r]||gu[r]}),t.maxBusyTries=t.maxBusyTries||3,t.emfileWait=t.emfileWait||1e3,t.glob===!1&&(t.disableGlob=!0),t.disableGlob!==!0&&mr===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");t.disableGlob=t.disableGlob||!1,t.glob=t.glob||D0},ks=(t,e,r)=>{typeof e=="function"&&(r=e,e={}),we(t,"rimraf: missing path"),we.equal(typeof t,"string","rimraf: path should be a string"),we.equal(typeof r,"function","rimraf: callback function required"),we(e,"rimraf: invalid options argument provided"),we.equal(typeof e,"object","rimraf: options should be object"),bu(e);let i=0,n=null,s=0,o=l=>{n=n||l,--s===0&&r(n)},a=(l,c)=>{if(l)return r(l);if(s=c.length,s===0)return r();c.forEach(u=>{let f=h=>{if(h){if((h.code==="EBUSY"||h.code==="ENOTEMPTY"||h.code==="EPERM")&&i<e.maxBusyTries)return i++,setTimeout(()=>Ss(u,e,f),i*100);if(h.code==="EMFILE"&&Es<e.emfileWait)return setTimeout(()=>Ss(u,e,f),Es++);h.code==="ENOENT"&&(h=null)}Es=0,o(h)};Ss(u,e,f)})};if(e.disableGlob||!mr.hasMagic(t))return a(null,[t]);e.lstat(t,(l,c)=>{if(!l)return a(null,[t]);mr(t,e.glob,a)})},Ss=(t,e,r)=>{we(t),we(e),we(typeof r=="function"),e.lstat(t,(i,n)=>{if(i&&i.code==="ENOENT")return r(null);if(i&&i.code==="EPERM"&&zr&&_u(t,e,i,r),n&&n.isDirectory())return Pi(t,e,i,r);e.unlink(t,s=>{if(s){if(s.code==="ENOENT")return r(null);if(s.code==="EPERM")return zr?_u(t,e,s,r):Pi(t,e,s,r);if(s.code==="EISDIR")return Pi(t,e,s,r)}return r(s)})})},_u=(t,e,r,i)=>{we(t),we(e),we(typeof i=="function"),e.chmod(t,438,n=>{n?i(n.code==="ENOENT"?null:r):e.stat(t,(s,o)=>{s?i(s.code==="ENOENT"?null:r):o.isDirectory()?Pi(t,e,r,i):e.unlink(t,i)})})},xu=(t,e,r)=>{we(t),we(e);try{e.chmodSync(t,438)}catch(n){if(n.code==="ENOENT")return;throw r}let i;try{i=e.statSync(t)}catch(n){if(n.code==="ENOENT")return;throw r}i.isDirectory()?Fi(t,e,r):e.unlinkSync(t)},Pi=(t,e,r,i)=>{we(t),we(e),we(typeof i=="function"),e.rmdir(t,n=>{n&&(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")?j0(t,e,i):n&&n.code==="ENOTDIR"?i(r):i(n)})},j0=(t,e,r)=>{we(t),we(e),we(typeof r=="function"),e.readdir(t,(i,n)=>{if(i)return r(i);let s=n.length;if(s===0)return e.rmdir(t,r);let o;n.forEach(a=>{ks(yu.join(t,a),e,l=>{if(!o){if(l)return r(o=l);--s===0&&e.rmdir(t,r)}})})})},wu=(t,e)=>{e=e||{},bu(e),we(t,"rimraf: missing path"),we.equal(typeof t,"string","rimraf: path should be a string"),we(e,"rimraf: missing options"),we.equal(typeof e,"object","rimraf: options should be object");let r;if(e.disableGlob||!mr.hasMagic(t))r=[t];else try{e.lstatSync(t),r=[t]}catch{r=mr.sync(t,e.glob)}if(!!r.length)for(let i=0;i<r.length;i++){let n=r[i],s;try{s=e.lstatSync(n)}catch(o){if(o.code==="ENOENT")return;o.code==="EPERM"&&zr&&xu(n,e,o)}try{s&&s.isDirectory()?Fi(n,e,null):e.unlinkSync(n)}catch(o){if(o.code==="ENOENT")return;if(o.code==="EPERM")return zr?xu(n,e,o):Fi(n,e,o);if(o.code!=="EISDIR")throw o;Fi(n,e,o)}}},Fi=(t,e,r)=>{we(t),we(e);try{e.rmdirSync(t)}catch(i){if(i.code==="ENOENT")return;if(i.code==="ENOTDIR")throw r;(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")&&q0(t,e)}},q0=(t,e)=>{we(t),we(e),e.readdirSync(t).forEach(n=>wu(yu.join(t,n),e));let r=zr?100:1,i=0;do{let n=!0;try{let s=e.rmdirSync(t,e);return n=!1,s}finally{if(++i<r&&n)continue}}while(!0)};Eu.exports=ks;ks.sync=wu});var Cu=x(ku=>{"use strict";var q=ku,Mi=require("buffer").Buffer,H0=require("os");q.toBuffer=function(t,e,r){r=~~r;var i;if(this.isV4Format(t))i=e||new Mi(r+4),t.split(/\./g).map(function(u){i[r++]=parseInt(u,10)&255});else if(this.isV6Format(t)){var n=t.split(":",8),s;for(s=0;s<n.length;s++){var o=this.isV4Format(n[s]),a;o&&(a=this.toBuffer(n[s]),n[s]=a.slice(0,2).toString("hex")),a&&++s<8&&n.splice(s,0,a.slice(2,4).toString("hex"))}if(n[0]==="")for(;n.length<8;)n.unshift("0");else if(n[n.length-1]==="")for(;n.length<8;)n.push("0");else if(n.length<8){for(s=0;s<n.length&&n[s]!=="";s++);var l=[s,1];for(s=9-n.length;s>0;s--)l.push("0");n.splice.apply(n,l)}for(i=e||new Mi(r+16),s=0;s<n.length;s++){var c=parseInt(n[s],16);i[r++]=c>>8&255,i[r++]=c&255}}if(!i)throw Error("Invalid ip address: "+t);return i};q.toString=function(t,e,r){e=~~e,r=r||t.length-e;var i=[];if(r===4){for(var n=0;n<r;n++)i.push(t[e+n]);i=i.join(".")}else if(r===16){for(var n=0;n<r;n+=2)i.push(t.readUInt16BE(e+n).toString(16));i=i.join(":"),i=i.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),i=i.replace(/:{3,4}/,"::")}return i};var V0=/^(\d{1,3}\.){3,3}\d{1,3}$/,$0=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i;q.isV4Format=function(t){return V0.test(t)};q.isV6Format=function(t){return $0.test(t)};function Cs(t){return t?t.toLowerCase():"ipv4"}q.fromPrefixLen=function(t,e){t>32?e="ipv6":e=Cs(e);var r=4;e==="ipv6"&&(r=16);for(var i=new Mi(r),n=0,s=i.length;n<s;++n){var o=8;t<8&&(o=t),t-=o,i[n]=~(255>>o)&255}return q.toString(i)};q.mask=function(t,e){t=q.toBuffer(t),e=q.toBuffer(e);var r=new Mi(Math.max(t.length,e.length)),i=0;if(t.length===e.length)for(i=0;i<t.length;i++)r[i]=t[i]&e[i];else if(e.length===4)for(i=0;i<e.length;i++)r[i]=t[t.length-4+i]&e[i];else{for(var i=0;i<r.length-6;i++)r[i]=0;for(r[10]=255,r[11]=255,i=0;i<t.length;i++)r[i+12]=t[i]&e[i+12];i=i+12}for(;i<r.length;i++)r[i]=0;return q.toString(r)};q.cidr=function(t){var e=t.split("/"),r=e[0];if(e.length!==2)throw new Error("invalid CIDR subnet: "+r);var i=q.fromPrefixLen(parseInt(e[1],10));return q.mask(r,i)};q.subnet=function(t,e){for(var r=q.toLong(q.mask(t,e)),i=q.toBuffer(e),n=0,s=0;s<i.length;s++)if(i[s]===255)n+=8;else for(var o=i[s]&255;o;)o=o<<1&255,n++;var a=Math.pow(2,32-n);return{networkAddress:q.fromLong(r),firstAddress:a<=2?q.fromLong(r):q.fromLong(r+1),lastAddress:a<=2?q.fromLong(r+a-1):q.fromLong(r+a-2),broadcastAddress:q.fromLong(r+a-1),subnetMask:e,subnetMaskLength:n,numHosts:a<=2?a:a-2,length:a,contains:function(l){return r===q.toLong(q.mask(l,e))}}};q.cidrSubnet=function(t){var e=t.split("/"),r=e[0];if(e.length!==2)throw new Error("invalid CIDR subnet: "+r);var i=q.fromPrefixLen(parseInt(e[1],10));return q.subnet(r,i)};q.not=function(t){for(var e=q.toBuffer(t),r=0;r<e.length;r++)e[r]=255^e[r];return q.toString(e)};q.or=function(t,e){if(t=q.toBuffer(t),e=q.toBuffer(e),t.length===e.length){for(var r=0;r<t.length;++r)t[r]|=e[r];return q.toString(t)}else{var i=t,n=e;e.length>t.length&&(i=e,n=t);for(var s=i.length-n.length,r=s;r<i.length;++r)i[r]|=n[r-s];return q.toString(i)}};q.isEqual=function(t,e){if(t=q.toBuffer(t),e=q.toBuffer(e),t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}if(e.length===4){var i=e;e=t,t=i}for(var r=0;r<10;r++)if(e[r]!==0)return!1;var n=e.readUInt16BE(10);if(n!==0&&n!==65535)return!1;for(var r=0;r<4;r++)if(t[r]!==e[r+12])return!1;return!0};q.isPrivate=function(t){return/^(::f{4}:)?10\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?192\.168\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?172\.(1[6-9]|2\d|30|31)\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^(::f{4}:)?169\.254\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(t)||/^f[cd][0-9a-f]{2}:/i.test(t)||/^fe80:/i.test(t)||/^::1$/.test(t)||/^::$/.test(t)};q.isPublic=function(t){return!q.isPrivate(t)};q.isLoopback=function(t){return/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})/.test(t)||/^fe80::1$/.test(t)||/^::1$/.test(t)||/^::$/.test(t)};q.loopback=function(t){if(t=Cs(t),t!=="ipv4"&&t!=="ipv6")throw new Error("family must be ipv4 or ipv6");return t==="ipv4"?"127.0.0.1":"fe80::1"};q.address=function(t,e){var r=H0.networkInterfaces(),n;if(e=Cs(e),t&&t!=="private"&&t!=="public"){var i=r[t].filter(function(s){var o=s.family.toLowerCase();return o===e});return i.length===0?void 0:i[0].address}var n=Object.keys(r).map(function(s){var o=r[s].filter(function(a){return a.family=a.family.toLowerCase(),a.family!==e||q.isLoopback(a.address)?!1:t?t==="public"?q.isPrivate(a.address):q.isPublic(a.address):!0});return o.length?o[0].address:void 0}).filter(Boolean);return n.length?n[0]:q.loopback(e)};q.toLong=function(t){var e=0;return t.split(".").forEach(function(r){e<<=8,e+=parseInt(r)}),e>>>0};q.fromLong=function(t){return(t>>>24)+"."+(t>>16&255)+"."+(t>>8&255)+"."+(t&255)}});var Au=x(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});var Ou=require("buffer"),$t={INVALID_ENCODING:"Invalid encoding provided. Please specify a valid encoding the internal Node.js Buffer supports.",INVALID_SMARTBUFFER_SIZE:"Invalid size provided. Size must be a valid integer greater than zero.",INVALID_SMARTBUFFER_BUFFER:"Invalid Buffer provided in SmartBufferOptions.",INVALID_SMARTBUFFER_OBJECT:"Invalid SmartBufferOptions object supplied to SmartBuffer constructor or factory methods.",INVALID_OFFSET:"An invalid offset value was provided.",INVALID_OFFSET_NON_NUMBER:"An invalid offset value was provided. A numeric value is required.",INVALID_LENGTH:"An invalid length value was provided.",INVALID_LENGTH_NON_NUMBER:"An invalid length value was provived. A numeric value is required.",INVALID_TARGET_OFFSET:"Target offset is beyond the bounds of the internal SmartBuffer data.",INVALID_TARGET_LENGTH:"Specified length value moves cursor beyong the bounds of the internal SmartBuffer data.",INVALID_READ_BEYOND_BOUNDS:"Attempted to read beyond the bounds of the managed data.",INVALID_WRITE_BEYOND_BOUNDS:"Attempted to write beyond the bounds of the managed data."};ft.ERRORS=$t;function G0(t){if(!Ou.Buffer.isEncoding(t))throw new Error($t.INVALID_ENCODING)}ft.checkEncoding=G0;function Iu(t){return typeof t=="number"&&isFinite(t)&&K0(t)}ft.isFiniteInteger=Iu;function Tu(t,e){if(typeof t=="number"){if(!Iu(t)||t<0)throw new Error(e?$t.INVALID_OFFSET:$t.INVALID_LENGTH)}else throw new Error(e?$t.INVALID_OFFSET_NON_NUMBER:$t.INVALID_LENGTH_NON_NUMBER)}function z0(t){Tu(t,!1)}ft.checkLengthValue=z0;function W0(t){Tu(t,!0)}ft.checkOffsetValue=W0;function Y0(t,e){if(t<0||t>e.length)throw new Error($t.INVALID_TARGET_OFFSET)}ft.checkTargetOffset=Y0;function K0(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function Z0(t){if(typeof BigInt=="undefined")throw new Error("Platform does not support JS BigInt type.");if(typeof Ou.Buffer.prototype[t]=="undefined")throw new Error(`Platform does not support Buffer.prototype.${t}.`)}ft.bigIntAndBufferInt64Check=Z0});var Bu=x(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});var te=Au(),Ru=4096,X0="utf8",Ui=class{constructor(e){if(this.length=0,this._encoding=X0,this._writeOffset=0,this._readOffset=0,Ui.isSmartBufferOptions(e))if(e.encoding&&(te.checkEncoding(e.encoding),this._encoding=e.encoding),e.size)if(te.isFiniteInteger(e.size)&&e.size>0)this._buff=Buffer.allocUnsafe(e.size);else throw new Error(te.ERRORS.INVALID_SMARTBUFFER_SIZE);else if(e.buff)if(Buffer.isBuffer(e.buff))this._buff=e.buff,this.length=e.buff.length;else throw new Error(te.ERRORS.INVALID_SMARTBUFFER_BUFFER);else this._buff=Buffer.allocUnsafe(Ru);else{if(typeof e!="undefined")throw new Error(te.ERRORS.INVALID_SMARTBUFFER_OBJECT);this._buff=Buffer.allocUnsafe(Ru)}}static fromSize(e,r){return new this({size:e,encoding:r})}static fromBuffer(e,r){return new this({buff:e,encoding:r})}static fromOptions(e){return new this(e)}static isSmartBufferOptions(e){let r=e;return r&&(r.encoding!==void 0||r.size!==void 0||r.buff!==void 0)}readInt8(e){return this._readNumberValue(Buffer.prototype.readInt8,1,e)}readInt16BE(e){return this._readNumberValue(Buffer.prototype.readInt16BE,2,e)}readInt16LE(e){return this._readNumberValue(Buffer.prototype.readInt16LE,2,e)}readInt32BE(e){return this._readNumberValue(Buffer.prototype.readInt32BE,4,e)}readInt32LE(e){return this._readNumberValue(Buffer.prototype.readInt32LE,4,e)}readBigInt64BE(e){return te.bigIntAndBufferInt64Check("readBigInt64BE"),this._readNumberValue(Buffer.prototype.readBigInt64BE,8,e)}readBigInt64LE(e){return te.bigIntAndBufferInt64Check("readBigInt64LE"),this._readNumberValue(Buffer.prototype.readBigInt64LE,8,e)}writeInt8(e,r){return this._writeNumberValue(Buffer.prototype.writeInt8,1,e,r),this}insertInt8(e,r){return this._insertNumberValue(Buffer.prototype.writeInt8,1,e,r)}writeInt16BE(e,r){return this._writeNumberValue(Buffer.prototype.writeInt16BE,2,e,r)}insertInt16BE(e,r){return this._insertNumberValue(Buffer.prototype.writeInt16BE,2,e,r)}writeInt16LE(e,r){return this._writeNumberValue(Buffer.prototype.writeInt16LE,2,e,r)}insertInt16LE(e,r){return this._insertNumberValue(Buffer.prototype.writeInt16LE,2,e,r)}writeInt32BE(e,r){return this._writeNumberValue(Buffer.prototype.writeInt32BE,4,e,r)}insertInt32BE(e,r){return this._insertNumberValue(Buffer.prototype.writeInt32BE,4,e,r)}writeInt32LE(e,r){return this._writeNumberValue(Buffer.prototype.writeInt32LE,4,e,r)}insertInt32LE(e,r){return this._insertNumberValue(Buffer.prototype.writeInt32LE,4,e,r)}writeBigInt64BE(e,r){return te.bigIntAndBufferInt64Check("writeBigInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigInt64BE,8,e,r)}insertBigInt64BE(e,r){return te.bigIntAndBufferInt64Check("writeBigInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigInt64BE,8,e,r)}writeBigInt64LE(e,r){return te.bigIntAndBufferInt64Check("writeBigInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigInt64LE,8,e,r)}insertBigInt64LE(e,r){return te.bigIntAndBufferInt64Check("writeBigInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigInt64LE,8,e,r)}readUInt8(e){return this._readNumberValue(Buffer.prototype.readUInt8,1,e)}readUInt16BE(e){return this._readNumberValue(Buffer.prototype.readUInt16BE,2,e)}readUInt16LE(e){return this._readNumberValue(Buffer.prototype.readUInt16LE,2,e)}readUInt32BE(e){return this._readNumberValue(Buffer.prototype.readUInt32BE,4,e)}readUInt32LE(e){return this._readNumberValue(Buffer.prototype.readUInt32LE,4,e)}readBigUInt64BE(e){return te.bigIntAndBufferInt64Check("readBigUInt64BE"),this._readNumberValue(Buffer.prototype.readBigUInt64BE,8,e)}readBigUInt64LE(e){return te.bigIntAndBufferInt64Check("readBigUInt64LE"),this._readNumberValue(Buffer.prototype.readBigUInt64LE,8,e)}writeUInt8(e,r){return this._writeNumberValue(Buffer.prototype.writeUInt8,1,e,r)}insertUInt8(e,r){return this._insertNumberValue(Buffer.prototype.writeUInt8,1,e,r)}writeUInt16BE(e,r){return this._writeNumberValue(Buffer.prototype.writeUInt16BE,2,e,r)}insertUInt16BE(e,r){return this._insertNumberValue(Buffer.prototype.writeUInt16BE,2,e,r)}writeUInt16LE(e,r){return this._writeNumberValue(Buffer.prototype.writeUInt16LE,2,e,r)}insertUInt16LE(e,r){return this._insertNumberValue(Buffer.prototype.writeUInt16LE,2,e,r)}writeUInt32BE(e,r){return this._writeNumberValue(Buffer.prototype.writeUInt32BE,4,e,r)}insertUInt32BE(e,r){return this._insertNumberValue(Buffer.prototype.writeUInt32BE,4,e,r)}writeUInt32LE(e,r){return this._writeNumberValue(Buffer.prototype.writeUInt32LE,4,e,r)}insertUInt32LE(e,r){return this._insertNumberValue(Buffer.prototype.writeUInt32LE,4,e,r)}writeBigUInt64BE(e,r){return te.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64BE,8,e,r)}insertBigUInt64BE(e,r){return te.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64BE,8,e,r)}writeBigUInt64LE(e,r){return te.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64LE,8,e,r)}insertBigUInt64LE(e,r){return te.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64LE,8,e,r)}readFloatBE(e){return this._readNumberValue(Buffer.prototype.readFloatBE,4,e)}readFloatLE(e){return this._readNumberValue(Buffer.prototype.readFloatLE,4,e)}writeFloatBE(e,r){return this._writeNumberValue(Buffer.prototype.writeFloatBE,4,e,r)}insertFloatBE(e,r){return this._insertNumberValue(Buffer.prototype.writeFloatBE,4,e,r)}writeFloatLE(e,r){return this._writeNumberValue(Buffer.prototype.writeFloatLE,4,e,r)}insertFloatLE(e,r){return this._insertNumberValue(Buffer.prototype.writeFloatLE,4,e,r)}readDoubleBE(e){return this._readNumberValue(Buffer.prototype.readDoubleBE,8,e)}readDoubleLE(e){return this._readNumberValue(Buffer.prototype.readDoubleLE,8,e)}writeDoubleBE(e,r){return this._writeNumberValue(Buffer.prototype.writeDoubleBE,8,e,r)}insertDoubleBE(e,r){return this._insertNumberValue(Buffer.prototype.writeDoubleBE,8,e,r)}writeDoubleLE(e,r){return this._writeNumberValue(Buffer.prototype.writeDoubleLE,8,e,r)}insertDoubleLE(e,r){return this._insertNumberValue(Buffer.prototype.writeDoubleLE,8,e,r)}readString(e,r){let i;typeof e=="number"?(te.checkLengthValue(e),i=Math.min(e,this.length-this._readOffset)):(r=e,i=this.length-this._readOffset),typeof r!="undefined"&&te.checkEncoding(r);let n=this._buff.slice(this._readOffset,this._readOffset+i).toString(r||this._encoding);return this._readOffset+=i,n}insertString(e,r,i){return te.checkOffsetValue(r),this._handleString(e,!0,r,i)}writeString(e,r,i){return this._handleString(e,!1,r,i)}readStringNT(e){typeof e!="undefined"&&te.checkEncoding(e);let r=this.length;for(let n=this._readOffset;n<this.length;n++)if(this._buff[n]===0){r=n;break}let i=this._buff.slice(this._readOffset,r);return this._readOffset=r+1,i.toString(e||this._encoding)}insertStringNT(e,r,i){return te.checkOffsetValue(r),this.insertString(e,r,i),this.insertUInt8(0,r+e.length),this}writeStringNT(e,r,i){return this.writeString(e,r,i),this.writeUInt8(0,typeof r=="number"?r+e.length:this.writeOffset),this}readBuffer(e){typeof e!="undefined"&&te.checkLengthValue(e);let r=typeof e=="number"?e:this.length,i=Math.min(this.length,this._readOffset+r),n=this._buff.slice(this._readOffset,i);return this._readOffset=i,n}insertBuffer(e,r){return te.checkOffsetValue(r),this._handleBuffer(e,!0,r)}writeBuffer(e,r){return this._handleBuffer(e,!1,r)}readBufferNT(){let e=this.length;for(let i=this._readOffset;i<this.length;i++)if(this._buff[i]===0){e=i;break}let r=this._buff.slice(this._readOffset,e);return this._readOffset=e+1,r}insertBufferNT(e,r){return te.checkOffsetValue(r),this.insertBuffer(e,r),this.insertUInt8(0,r+e.length),this}writeBufferNT(e,r){return typeof r!="undefined"&&te.checkOffsetValue(r),this.writeBuffer(e,r),this.writeUInt8(0,typeof r=="number"?r+e.length:this._writeOffset),this}clear(){return this._writeOffset=0,this._readOffset=0,this.length=0,this}remaining(){return this.length-this._readOffset}get readOffset(){return this._readOffset}set readOffset(e){te.checkOffsetValue(e),te.checkTargetOffset(e,this),this._readOffset=e}get writeOffset(){return this._writeOffset}set writeOffset(e){te.checkOffsetValue(e),te.checkTargetOffset(e,this),this._writeOffset=e}get encoding(){return this._encoding}set encoding(e){te.checkEncoding(e),this._encoding=e}get internalBuffer(){return this._buff}toBuffer(){return this._buff.slice(0,this.length)}toString(e){let r=typeof e=="string"?e:this._encoding;return te.checkEncoding(r),this._buff.toString(r,0,this.length)}destroy(){return this.clear(),this}_handleString(e,r,i,n){let s=this._writeOffset,o=this._encoding;typeof i=="number"?s=i:typeof i=="string"&&(te.checkEncoding(i),o=i),typeof n=="string"&&(te.checkEncoding(n),o=n);let a=Buffer.byteLength(e,o);return r?this.ensureInsertable(a,s):this._ensureWriteable(a,s),this._buff.write(e,s,a,o),r?this._writeOffset+=a:typeof i=="number"?this._writeOffset=Math.max(this._writeOffset,s+a):this._writeOffset+=a,this}_handleBuffer(e,r,i){let n=typeof i=="number"?i:this._writeOffset;return r?this.ensureInsertable(e.length,n):this._ensureWriteable(e.length,n),e.copy(this._buff,n),r?this._writeOffset+=e.length:typeof i=="number"?this._writeOffset=Math.max(this._writeOffset,n+e.length):this._writeOffset+=e.length,this}ensureReadable(e,r){let i=this._readOffset;if(typeof r!="undefined"&&(te.checkOffsetValue(r),i=r),i<0||i+e>this.length)throw new Error(te.ERRORS.INVALID_READ_BEYOND_BOUNDS)}ensureInsertable(e,r){te.checkOffsetValue(r),this._ensureCapacity(this.length+e),r<this.length&&this._buff.copy(this._buff,r+e,r,this._buff.length),r+e>this.length?this.length=r+e:this.length+=e}_ensureWriteable(e,r){let i=typeof r=="number"?r:this._writeOffset;this._ensureCapacity(i+e),i+e>this.length&&(this.length=i+e)}_ensureCapacity(e){let r=this._buff.length;if(e>r){let i=this._buff,n=r*3/2+1;n<e&&(n=e),this._buff=Buffer.allocUnsafe(n),i.copy(this._buff,0,0,r)}}_readNumberValue(e,r,i){this.ensureReadable(r,i);let n=e.call(this._buff,typeof i=="number"?i:this._readOffset);return typeof i=="undefined"&&(this._readOffset+=r),n}_insertNumberValue(e,r,i,n){return te.checkOffsetValue(n),this.ensureInsertable(r,n),e.call(this._buff,i,n),this._writeOffset+=r,this}_writeNumberValue(e,r,i,n){if(typeof n=="number"){if(n<0)throw new Error(te.ERRORS.INVALID_WRITE_BEYOND_BOUNDS);te.checkOffsetValue(n)}let s=typeof n=="number"?n:this._writeOffset;return this._ensureWriteable(r,s),e.call(this._buff,i,s),typeof n=="number"?this._writeOffset=Math.max(this._writeOffset,s+r):this._writeOffset+=r,this}};Os.SmartBuffer=Ui});var Ns=x(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.SOCKS5_NO_ACCEPTABLE_AUTH=Se.SOCKS5_CUSTOM_AUTH_END=Se.SOCKS5_CUSTOM_AUTH_START=Se.SOCKS_INCOMING_PACKET_SIZES=Se.SocksClientState=Se.Socks5Response=Se.Socks5HostType=Se.Socks5Auth=Se.Socks4Response=Se.SocksCommand=Se.ERRORS=Se.DEFAULT_TIMEOUT=void 0;var Q0=3e4;Se.DEFAULT_TIMEOUT=Q0;var J0={InvalidSocksCommand:"An invalid SOCKS command was provided. Valid options are connect, bind, and associate.",InvalidSocksCommandForOperation:"An invalid SOCKS command was provided. Only a subset of commands are supported for this operation.",InvalidSocksCommandChain:"An invalid SOCKS command was provided. Chaining currently only supports the connect command.",InvalidSocksClientOptionsDestination:"An invalid destination host was provided.",InvalidSocksClientOptionsExistingSocket:"An invalid existing socket was provided. This should be an instance of stream.Duplex.",InvalidSocksClientOptionsProxy:"Invalid SOCKS proxy details were provided.",InvalidSocksClientOptionsTimeout:"An invalid timeout value was provided. Please enter a value above 0 (in ms).",InvalidSocksClientOptionsProxiesLength:"At least two socks proxies must be provided for chaining.",InvalidSocksClientOptionsCustomAuthRange:"Custom auth must be a value between 0x80 and 0xFE.",InvalidSocksClientOptionsCustomAuthOptions:"When a custom_auth_method is provided, custom_auth_request_handler, custom_auth_response_size, and custom_auth_response_handler must also be provided and valid.",NegotiationError:"Negotiation error",SocketClosed:"Socket closed",ProxyConnectionTimedOut:"Proxy connection timed out",InternalError:"SocksClient internal error (this should not happen)",InvalidSocks4HandshakeResponse:"Received invalid Socks4 handshake response",Socks4ProxyRejectedConnection:"Socks4 Proxy rejected connection",InvalidSocks4IncomingConnectionResponse:"Socks4 invalid incoming connection response",Socks4ProxyRejectedIncomingBoundConnection:"Socks4 Proxy rejected incoming bound connection",InvalidSocks5InitialHandshakeResponse:"Received invalid Socks5 initial handshake response",InvalidSocks5IntiailHandshakeSocksVersion:"Received invalid Socks5 initial handshake (invalid socks version)",InvalidSocks5InitialHandshakeNoAcceptedAuthType:"Received invalid Socks5 initial handshake (no accepted authentication type)",InvalidSocks5InitialHandshakeUnknownAuthType:"Received invalid Socks5 initial handshake (unknown authentication type)",Socks5AuthenticationFailed:"Socks5 Authentication failed",InvalidSocks5FinalHandshake:"Received invalid Socks5 final handshake response",InvalidSocks5FinalHandshakeRejected:"Socks5 proxy rejected connection",InvalidSocks5IncomingConnectionResponse:"Received invalid Socks5 incoming connection response",Socks5ProxyRejectedIncomingBoundConnection:"Socks5 Proxy rejected incoming bound connection"};Se.ERRORS=J0;var ev={Socks5InitialHandshakeResponse:2,Socks5UserPassAuthenticationResponse:2,Socks5ResponseHeader:5,Socks5ResponseIPv4:10,Socks5ResponseIPv6:22,Socks5ResponseHostname:t=>t+7,Socks4Response:8};Se.SOCKS_INCOMING_PACKET_SIZES=ev;var Is;(function(t){t[t.connect=1]="connect",t[t.bind=2]="bind",t[t.associate=3]="associate"})(Is||(Is={}));Se.SocksCommand=Is;var Ts;(function(t){t[t.Granted=90]="Granted",t[t.Failed=91]="Failed",t[t.Rejected=92]="Rejected",t[t.RejectedIdent=93]="RejectedIdent"})(Ts||(Ts={}));Se.Socks4Response=Ts;var As;(function(t){t[t.NoAuth=0]="NoAuth",t[t.GSSApi=1]="GSSApi",t[t.UserPass=2]="UserPass"})(As||(As={}));Se.Socks5Auth=As;var tv=128;Se.SOCKS5_CUSTOM_AUTH_START=tv;var rv=254;Se.SOCKS5_CUSTOM_AUTH_END=rv;var iv=255;Se.SOCKS5_NO_ACCEPTABLE_AUTH=iv;var Rs;(function(t){t[t.Granted=0]="Granted",t[t.Failure=1]="Failure",t[t.NotAllowed=2]="NotAllowed",t[t.NetworkUnreachable=3]="NetworkUnreachable",t[t.HostUnreachable=4]="HostUnreachable",t[t.ConnectionRefused=5]="ConnectionRefused",t[t.TTLExpired=6]="TTLExpired",t[t.CommandNotSupported=7]="CommandNotSupported",t[t.AddressNotSupported=8]="AddressNotSupported"})(Rs||(Rs={}));Se.Socks5Response=Rs;var Bs;(function(t){t[t.IPv4=1]="IPv4",t[t.Hostname=3]="Hostname",t[t.IPv6=4]="IPv6"})(Bs||(Bs={}));Se.Socks5HostType=Bs;var Ls;(function(t){t[t.Created=0]="Created",t[t.Connecting=1]="Connecting",t[t.Connected=2]="Connected",t[t.SentInitialHandshake=3]="SentInitialHandshake",t[t.ReceivedInitialHandshakeResponse=4]="ReceivedInitialHandshakeResponse",t[t.SentAuthentication=5]="SentAuthentication",t[t.ReceivedAuthenticationResponse=6]="ReceivedAuthenticationResponse",t[t.SentFinalHandshake=7]="SentFinalHandshake",t[t.ReceivedFinalResponse=8]="ReceivedFinalResponse",t[t.BoundWaitingForConnection=9]="BoundWaitingForConnection",t[t.Established=10]="Established",t[t.Disconnected=11]="Disconnected",t[t.Error=99]="Error"})(Ls||(Ls={}));Se.SocksClientState=Ls});var Ps=x(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.shuffleArray=vr.SocksClientError=void 0;var Lu=class extends Error{constructor(e,r){super(e);this.options=r}};vr.SocksClientError=Lu;function nv(t){for(let e=t.length-1;e>0;e--){let r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}}vr.shuffleArray=nv});var Uu=x(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.validateSocksClientChainOptions=gr.validateSocksClientOptions=void 0;var ze=Ps(),Fe=Ns(),sv=require("stream");function ov(t,e=["connect","bind","associate"]){if(!Fe.SocksCommand[t.command])throw new ze.SocksClientError(Fe.ERRORS.InvalidSocksCommand,t);if(e.indexOf(t.command)===-1)throw new ze.SocksClientError(Fe.ERRORS.InvalidSocksCommandForOperation,t);if(!Pu(t.destination))throw new ze.SocksClientError(Fe.ERRORS.InvalidSocksClientOptionsDestination,t);if(!Fu(t.proxy))throw new ze.SocksClientError(Fe.ERRORS.InvalidSocksClientOptionsProxy,t);if(Nu(t.proxy,t),t.timeout&&!Mu(t.timeout))throw new ze.SocksClientError(Fe.ERRORS.InvalidSocksClientOptionsTimeout,t);if(t.existing_socket&&!(t.existing_socket instanceof sv.Duplex))throw new ze.SocksClientError(Fe.ERRORS.InvalidSocksClientOptionsExistingSocket,t)}gr.validateSocksClientOptions=ov;function av(t){if(t.command!=="connect")throw new ze.SocksClientError(Fe.ERRORS.InvalidSocksCommandChain,t);if(!Pu(t.destination))throw new ze.SocksClientError(Fe.ERRORS.InvalidSocksClientOptionsDestination,t);if(!(t.proxies&&Array.isArray(t.proxies)&&t.proxies.length>=2))throw new ze.SocksClientError(Fe.ERRORS.InvalidSocksClientOptionsProxiesLength,t);if(t.proxies.forEach(e=>{if(!Fu(e))throw new ze.SocksClientError(Fe.ERRORS.InvalidSocksClientOptionsProxy,t);Nu(e,t)}),t.timeout&&!Mu(t.timeout))throw new ze.SocksClientError(Fe.ERRORS.InvalidSocksClientOptionsTimeout,t)}gr.validateSocksClientChainOptions=av;function Nu(t,e){if(t.custom_auth_method!==void 0){if(t.custom_auth_method<Fe.SOCKS5_CUSTOM_AUTH_START||t.custom_auth_method>Fe.SOCKS5_CUSTOM_AUTH_END)throw new ze.SocksClientError(Fe.ERRORS.InvalidSocksClientOptionsCustomAuthRange,e);if(t.custom_auth_request_handler===void 0||typeof t.custom_auth_request_handler!="function")throw new ze.SocksClientError(Fe.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,e);if(t.custom_auth_response_size===void 0)throw new ze.SocksClientError(Fe.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,e);if(t.custom_auth_response_handler===void 0||typeof t.custom_auth_response_handler!="function")throw new ze.SocksClientError(Fe.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,e)}}function Pu(t){return t&&typeof t.host=="string"&&typeof t.port=="number"&&t.port>=0&&t.port<=65535}function Fu(t){return t&&(typeof t.host=="string"||typeof t.ipaddress=="string")&&typeof t.port=="number"&&t.port>=0&&t.port<=65535&&(t.type===4||t.type===5)}function Mu(t){return typeof t=="number"&&t>0}});var ju=x(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.ReceiveBuffer=void 0;var Du=class{constructor(e=4096){this.buffer=Buffer.allocUnsafe(e),this.offset=0,this.originalSize=e}get length(){return this.offset}append(e){if(!Buffer.isBuffer(e))throw new Error("Attempted to append a non-buffer instance to ReceiveBuffer.");if(this.offset+e.length>=this.buffer.length){let r=this.buffer;this.buffer=Buffer.allocUnsafe(Math.max(this.buffer.length+this.originalSize,this.buffer.length+e.length)),r.copy(this.buffer)}return e.copy(this.buffer,this.offset),this.offset+=e.length}peek(e){if(e>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");return this.buffer.slice(0,e)}get(e){if(e>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");let r=Buffer.allocUnsafe(e);return this.buffer.slice(0,e).copy(r),this.buffer.copyWithin(0,e,e+this.offset-e),this.offset-=e,r}};Di.ReceiveBuffer=Du});var qu=x(St=>{"use strict";var _r=St&&St.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(f){o(f)}}function l(u){try{c(i.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):n(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};Object.defineProperty(St,"__esModule",{value:!0});St.SocksClientError=St.SocksClient=void 0;var lv=require("events"),xr=require("net"),Xe=Cu(),Ye=Bu(),k=Ns(),Fs=Uu(),cv=ju(),Ms=Ps();Object.defineProperty(St,"SocksClientError",{enumerable:!0,get:function(){return Ms.SocksClientError}});var Wr=class extends lv.EventEmitter{constructor(e){super();this.options=Object.assign({},e),(0,Fs.validateSocksClientOptions)(e),this.setState(k.SocksClientState.Created)}static createConnection(e,r){return new Promise((i,n)=>{try{(0,Fs.validateSocksClientOptions)(e,["connect"])}catch(o){return typeof r=="function"?(r(o),i(o)):n(o)}let s=new Wr(e);s.connect(e.existing_socket),s.once("established",o=>{s.removeAllListeners(),typeof r=="function"&&r(null,o),i(o)}),s.once("error",o=>{s.removeAllListeners(),typeof r=="function"?(r(o),i(o)):n(o)})})}static createConnectionChain(e,r){return new Promise((i,n)=>_r(this,void 0,void 0,function*(){try{(0,Fs.validateSocksClientChainOptions)(e)}catch(o){return typeof r=="function"?(r(o),i(o)):n(o)}let s;e.randomizeChain&&(0,Ms.shuffleArray)(e.proxies);try{for(let o=0;o<e.proxies.length;o++){let a=e.proxies[o],l=o===e.proxies.length-1?e.destination:{host:e.proxies[o+1].host||e.proxies[o+1].ipaddress,port:e.proxies[o+1].port},c=yield Wr.createConnection({command:"connect",proxy:a,destination:l});s||(s=c.socket)}typeof r=="function"?(r(null,{socket:s}),i({socket:s})):i({socket:s})}catch(o){typeof r=="function"?(r(o),i(o)):n(o)}}))}static createUDPFrame(e){let r=new Ye.SmartBuffer;return r.writeUInt16BE(0),r.writeUInt8(e.frameNumber||0),xr.isIPv4(e.remoteHost.host)?(r.writeUInt8(k.Socks5HostType.IPv4),r.writeUInt32BE(Xe.toLong(e.remoteHost.host))):xr.isIPv6(e.remoteHost.host)?(r.writeUInt8(k.Socks5HostType.IPv6),r.writeBuffer(Xe.toBuffer(e.remoteHost.host))):(r.writeUInt8(k.Socks5HostType.Hostname),r.writeUInt8(Buffer.byteLength(e.remoteHost.host)),r.writeString(e.remoteHost.host)),r.writeUInt16BE(e.remoteHost.port),r.writeBuffer(e.data),r.toBuffer()}static parseUDPFrame(e){let r=Ye.SmartBuffer.fromBuffer(e);r.readOffset=2;let i=r.readUInt8(),n=r.readUInt8(),s;n===k.Socks5HostType.IPv4?s=Xe.fromLong(r.readUInt32BE()):n===k.Socks5HostType.IPv6?s=Xe.toString(r.readBuffer(16)):s=r.readString(r.readUInt8());let o=r.readUInt16BE();return{frameNumber:i,remoteHost:{host:s,port:o},data:r.readBuffer()}}setState(e){this.state!==k.SocksClientState.Error&&(this.state=e)}connect(e){this.onDataReceived=i=>this.onDataReceivedHandler(i),this.onClose=()=>this.onCloseHandler(),this.onError=i=>this.onErrorHandler(i),this.onConnect=()=>this.onConnectHandler();let r=setTimeout(()=>this.onEstablishedTimeout(),this.options.timeout||k.DEFAULT_TIMEOUT);r.unref&&typeof r.unref=="function"&&r.unref(),e?this.socket=e:this.socket=new xr.Socket,this.socket.once("close",this.onClose),this.socket.once("error",this.onError),this.socket.once("connect",this.onConnect),this.socket.on("data",this.onDataReceived),this.setState(k.SocksClientState.Connecting),this.receiveBuffer=new cv.ReceiveBuffer,e?this.socket.emit("connect"):(this.socket.connect(this.getSocketOptions()),this.options.set_tcp_nodelay!==void 0&&this.options.set_tcp_nodelay!==null&&this.socket.setNoDelay(!!this.options.set_tcp_nodelay)),this.prependOnceListener("established",i=>{setImmediate(()=>{if(this.receiveBuffer.length>0){let n=this.receiveBuffer.get(this.receiveBuffer.length);i.socket.emit("data",n)}i.socket.resume()})})}getSocketOptions(){return Object.assign(Object.assign({},this.options.socket_options),{host:this.options.proxy.host||this.options.proxy.ipaddress,port:this.options.proxy.port})}onEstablishedTimeout(){this.state!==k.SocksClientState.Established&&this.state!==k.SocksClientState.BoundWaitingForConnection&&this.closeSocket(k.ERRORS.ProxyConnectionTimedOut)}onConnectHandler(){this.setState(k.SocksClientState.Connected),this.options.proxy.type===4?this.sendSocks4InitialHandshake():this.sendSocks5InitialHandshake(),this.setState(k.SocksClientState.SentInitialHandshake)}onDataReceivedHandler(e){this.receiveBuffer.append(e),this.processData()}processData(){for(;this.state!==k.SocksClientState.Established&&this.state!==k.SocksClientState.Error&&this.receiveBuffer.length>=this.nextRequiredPacketBufferSize;)if(this.state===k.SocksClientState.SentInitialHandshake)this.options.proxy.type===4?this.handleSocks4FinalHandshakeResponse():this.handleInitialSocks5HandshakeResponse();else if(this.state===k.SocksClientState.SentAuthentication)this.handleInitialSocks5AuthenticationHandshakeResponse();else if(this.state===k.SocksClientState.SentFinalHandshake)this.handleSocks5FinalHandshakeResponse();else if(this.state===k.SocksClientState.BoundWaitingForConnection)this.options.proxy.type===4?this.handleSocks4IncomingConnectionResponse():this.handleSocks5IncomingConnectionResponse();else{this.closeSocket(k.ERRORS.InternalError);break}}onCloseHandler(){this.closeSocket(k.ERRORS.SocketClosed)}onErrorHandler(e){this.closeSocket(e.message)}removeInternalSocketHandlers(){this.socket.pause(),this.socket.removeListener("data",this.onDataReceived),this.socket.removeListener("close",this.onClose),this.socket.removeListener("error",this.onError),this.socket.removeListener("connect",this.onConnect)}closeSocket(e){this.state!==k.SocksClientState.Error&&(this.setState(k.SocksClientState.Error),this.socket.destroy(),this.removeInternalSocketHandlers(),this.emit("error",new Ms.SocksClientError(e,this.options)))}sendSocks4InitialHandshake(){let e=this.options.proxy.userId||"",r=new Ye.SmartBuffer;r.writeUInt8(4),r.writeUInt8(k.SocksCommand[this.options.command]),r.writeUInt16BE(this.options.destination.port),xr.isIPv4(this.options.destination.host)?(r.writeBuffer(Xe.toBuffer(this.options.destination.host)),r.writeStringNT(e)):(r.writeUInt8(0),r.writeUInt8(0),r.writeUInt8(0),r.writeUInt8(1),r.writeStringNT(e),r.writeStringNT(this.options.destination.host)),this.nextRequiredPacketBufferSize=k.SOCKS_INCOMING_PACKET_SIZES.Socks4Response,this.socket.write(r.toBuffer())}handleSocks4FinalHandshakeResponse(){let e=this.receiveBuffer.get(8);if(e[1]!==k.Socks4Response.Granted)this.closeSocket(`${k.ERRORS.Socks4ProxyRejectedConnection} - (${k.Socks4Response[e[1]]})`);else if(k.SocksCommand[this.options.command]===k.SocksCommand.bind){let r=Ye.SmartBuffer.fromBuffer(e);r.readOffset=2;let i={port:r.readUInt16BE(),host:Xe.fromLong(r.readUInt32BE())};i.host==="0.0.0.0"&&(i.host=this.options.proxy.ipaddress),this.setState(k.SocksClientState.BoundWaitingForConnection),this.emit("bound",{remoteHost:i,socket:this.socket})}else this.setState(k.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{socket:this.socket})}handleSocks4IncomingConnectionResponse(){let e=this.receiveBuffer.get(8);if(e[1]!==k.Socks4Response.Granted)this.closeSocket(`${k.ERRORS.Socks4ProxyRejectedIncomingBoundConnection} - (${k.Socks4Response[e[1]]})`);else{let r=Ye.SmartBuffer.fromBuffer(e);r.readOffset=2;let i={port:r.readUInt16BE(),host:Xe.fromLong(r.readUInt32BE())};this.setState(k.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:i,socket:this.socket})}}sendSocks5InitialHandshake(){let e=new Ye.SmartBuffer,r=[k.Socks5Auth.NoAuth];(this.options.proxy.userId||this.options.proxy.password)&&r.push(k.Socks5Auth.UserPass),this.options.proxy.custom_auth_method!==void 0&&r.push(this.options.proxy.custom_auth_method),e.writeUInt8(5),e.writeUInt8(r.length);for(let i of r)e.writeUInt8(i);this.nextRequiredPacketBufferSize=k.SOCKS_INCOMING_PACKET_SIZES.Socks5InitialHandshakeResponse,this.socket.write(e.toBuffer()),this.setState(k.SocksClientState.SentInitialHandshake)}handleInitialSocks5HandshakeResponse(){let e=this.receiveBuffer.get(2);e[0]!==5?this.closeSocket(k.ERRORS.InvalidSocks5IntiailHandshakeSocksVersion):e[1]===k.SOCKS5_NO_ACCEPTABLE_AUTH?this.closeSocket(k.ERRORS.InvalidSocks5InitialHandshakeNoAcceptedAuthType):e[1]===k.Socks5Auth.NoAuth?(this.socks5ChosenAuthType=k.Socks5Auth.NoAuth,this.sendSocks5CommandRequest()):e[1]===k.Socks5Auth.UserPass?(this.socks5ChosenAuthType=k.Socks5Auth.UserPass,this.sendSocks5UserPassAuthentication()):e[1]===this.options.proxy.custom_auth_method?(this.socks5ChosenAuthType=this.options.proxy.custom_auth_method,this.sendSocks5CustomAuthentication()):this.closeSocket(k.ERRORS.InvalidSocks5InitialHandshakeUnknownAuthType)}sendSocks5UserPassAuthentication(){let e=this.options.proxy.userId||"",r=this.options.proxy.password||"",i=new Ye.SmartBuffer;i.writeUInt8(1),i.writeUInt8(Buffer.byteLength(e)),i.writeString(e),i.writeUInt8(Buffer.byteLength(r)),i.writeString(r),this.nextRequiredPacketBufferSize=k.SOCKS_INCOMING_PACKET_SIZES.Socks5UserPassAuthenticationResponse,this.socket.write(i.toBuffer()),this.setState(k.SocksClientState.SentAuthentication)}sendSocks5CustomAuthentication(){return _r(this,void 0,void 0,function*(){this.nextRequiredPacketBufferSize=this.options.proxy.custom_auth_response_size,this.socket.write(yield this.options.proxy.custom_auth_request_handler()),this.setState(k.SocksClientState.SentAuthentication)})}handleSocks5CustomAuthHandshakeResponse(e){return _r(this,void 0,void 0,function*(){return yield this.options.proxy.custom_auth_response_handler(e)})}handleSocks5AuthenticationNoAuthHandshakeResponse(e){return _r(this,void 0,void 0,function*(){return e[1]===0})}handleSocks5AuthenticationUserPassHandshakeResponse(e){return _r(this,void 0,void 0,function*(){return e[1]===0})}handleInitialSocks5AuthenticationHandshakeResponse(){return _r(this,void 0,void 0,function*(){this.setState(k.SocksClientState.ReceivedAuthenticationResponse);let e=!1;this.socks5ChosenAuthType===k.Socks5Auth.NoAuth?e=yield this.handleSocks5AuthenticationNoAuthHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===k.Socks5Auth.UserPass?e=yield this.handleSocks5AuthenticationUserPassHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===this.options.proxy.custom_auth_method&&(e=yield this.handleSocks5CustomAuthHandshakeResponse(this.receiveBuffer.get(this.options.proxy.custom_auth_response_size))),e?this.sendSocks5CommandRequest():this.closeSocket(k.ERRORS.Socks5AuthenticationFailed)})}sendSocks5CommandRequest(){let e=new Ye.SmartBuffer;e.writeUInt8(5),e.writeUInt8(k.SocksCommand[this.options.command]),e.writeUInt8(0),xr.isIPv4(this.options.destination.host)?(e.writeUInt8(k.Socks5HostType.IPv4),e.writeBuffer(Xe.toBuffer(this.options.destination.host))):xr.isIPv6(this.options.destination.host)?(e.writeUInt8(k.Socks5HostType.IPv6),e.writeBuffer(Xe.toBuffer(this.options.destination.host))):(e.writeUInt8(k.Socks5HostType.Hostname),e.writeUInt8(this.options.destination.host.length),e.writeString(this.options.destination.host)),e.writeUInt16BE(this.options.destination.port),this.nextRequiredPacketBufferSize=k.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.socket.write(e.toBuffer()),this.setState(k.SocksClientState.SentFinalHandshake)}handleSocks5FinalHandshakeResponse(){let e=this.receiveBuffer.peek(5);if(e[0]!==5||e[1]!==k.Socks5Response.Granted)this.closeSocket(`${k.ERRORS.InvalidSocks5FinalHandshakeRejected} - ${k.Socks5Response[e[1]]}`);else{let r=e[3],i,n;if(r===k.Socks5HostType.IPv4){let s=k.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<s){this.nextRequiredPacketBufferSize=s;return}n=Ye.SmartBuffer.fromBuffer(this.receiveBuffer.get(s).slice(4)),i={host:Xe.fromLong(n.readUInt32BE()),port:n.readUInt16BE()},i.host==="0.0.0.0"&&(i.host=this.options.proxy.ipaddress)}else if(r===k.Socks5HostType.Hostname){let s=e[4],o=k.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(s);if(this.receiveBuffer.length<o){this.nextRequiredPacketBufferSize=o;return}n=Ye.SmartBuffer.fromBuffer(this.receiveBuffer.get(o).slice(5)),i={host:n.readString(s),port:n.readUInt16BE()}}else if(r===k.Socks5HostType.IPv6){let s=k.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<s){this.nextRequiredPacketBufferSize=s;return}n=Ye.SmartBuffer.fromBuffer(this.receiveBuffer.get(s).slice(4)),i={host:Xe.toString(n.readBuffer(16)),port:n.readUInt16BE()}}this.setState(k.SocksClientState.ReceivedFinalResponse),k.SocksCommand[this.options.command]===k.SocksCommand.connect?(this.setState(k.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:i,socket:this.socket})):k.SocksCommand[this.options.command]===k.SocksCommand.bind?(this.setState(k.SocksClientState.BoundWaitingForConnection),this.nextRequiredPacketBufferSize=k.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.emit("bound",{remoteHost:i,socket:this.socket})):k.SocksCommand[this.options.command]===k.SocksCommand.associate&&(this.setState(k.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:i,socket:this.socket}))}}handleSocks5IncomingConnectionResponse(){let e=this.receiveBuffer.peek(5);if(e[0]!==5||e[1]!==k.Socks5Response.Granted)this.closeSocket(`${k.ERRORS.Socks5ProxyRejectedIncomingBoundConnection} - ${k.Socks5Response[e[1]]}`);else{let r=e[3],i,n;if(r===k.Socks5HostType.IPv4){let s=k.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<s){this.nextRequiredPacketBufferSize=s;return}n=Ye.SmartBuffer.fromBuffer(this.receiveBuffer.get(s).slice(4)),i={host:Xe.fromLong(n.readUInt32BE()),port:n.readUInt16BE()},i.host==="0.0.0.0"&&(i.host=this.options.proxy.ipaddress)}else if(r===k.Socks5HostType.Hostname){let s=e[4],o=k.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(s);if(this.receiveBuffer.length<o){this.nextRequiredPacketBufferSize=o;return}n=Ye.SmartBuffer.fromBuffer(this.receiveBuffer.get(o).slice(5)),i={host:n.readString(s),port:n.readUInt16BE()}}else if(r===k.Socks5HostType.IPv6){let s=k.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<s){this.nextRequiredPacketBufferSize=s;return}n=Ye.SmartBuffer.fromBuffer(this.receiveBuffer.get(s).slice(4)),i={host:Xe.toString(n.readBuffer(16)),port:n.readUInt16BE()}}this.setState(k.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:i,socket:this.socket})}}get socksClientOptions(){return Object.assign({},this.options)}};St.SocksClient=Wr});var Hu=x(Gt=>{"use strict";var uv=Gt&&Gt.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),fv=Gt&&Gt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&uv(e,t,r)};Object.defineProperty(Gt,"__esModule",{value:!0});fv(qu(),Gt)});var $u=x(zt=>{"use strict";var hv=zt&&zt.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(f){o(f)}}function l(u){try{c(i.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):n(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})},ji=zt&&zt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zt,"__esModule",{value:!0});var pv=ji(require("dns")),dv=ji(require("tls")),mv=ji(require("url")),vv=ji(er()),gv=an(),_v=Hu(),Us=vv.default("socks-proxy-agent");function xv(t){return new Promise((e,r)=>{pv.default.lookup(t,(i,n)=>{i?r(i):e(n)})})}function yv(t){let e=0,r=!1,i=5,n=t.hostname||t.host;if(!n)throw new TypeError('No "host"');if(typeof t.port=="number"?e=t.port:typeof t.port=="string"&&(e=parseInt(t.port,10)),e||(e=1080),t.protocol)switch(t.protocol.replace(":","")){case"socks4":r=!0;case"socks4a":i=4;break;case"socks5":r=!0;case"socks":case"socks5h":i=5;break;default:throw new TypeError(`A "socks" protocol must be specified! Got: ${t.protocol}`)}if(typeof t.type!="undefined")if(t.type===4||t.type===5)i=t.type;else throw new TypeError(`"type" must be 4 or 5, got: ${t.type}`);let s={host:n,port:e,type:i},o=t.userId||t.username,a=t.password;if(t.auth){let l=t.auth.split(":");o=l[0],a=l[1]}return o&&Object.defineProperty(s,"userId",{value:o,enumerable:!1}),a&&Object.defineProperty(s,"password",{value:a,enumerable:!1}),{lookup:r,proxy:s}}var Vu=class extends gv.Agent{constructor(e){let r;if(typeof e=="string"?r=mv.default.parse(e):r=e,!r)throw new TypeError("a SOCKS proxy server `host` and `port` must be specified!");super(r);let i=yv(r);this.lookup=i.lookup,this.proxy=i.proxy,this.tlsConnectionOptions=r.tls||{}}callback(e,r){return hv(this,void 0,void 0,function*(){let{lookup:i,proxy:n}=this,{host:s,port:o,timeout:a}=r;if(!s)throw new Error("No `host` defined!");i&&(s=yield xv(s));let l={proxy:n,destination:{host:s,port:o},command:"connect",timeout:a};Us("Creating socks proxy connection: %o",l);let{socket:c}=yield _v.SocksClient.createConnection(l);if(Us("Successfully created socks proxy connection"),r.secureEndpoint){Us("Upgrading socket connection to TLS");let u=r.servername||r.host;return dv.default.connect(Object.assign(Object.assign(Object.assign({},bv(r,"host","hostname","path","port")),{socket:c,servername:u}),this.tlsConnectionOptions))}return c})}};zt.default=Vu;function bv(t,...e){let r={},i;for(i in t)e.includes(i)||(r[i]=t[i]);return r}});var zu=x((qs,Gu)=>{"use strict";var wv=qs&&qs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Ds=wv($u());function js(t){return new Ds.default(t)}(function(t){t.SocksProxyAgent=Ds.default,t.prototype=Ds.default.prototype})(js||(js={}));Gu.exports=js});var Yu=x(($x,Wu)=>{"use strict";var Ev=/[|\\{}()[\]^$+*?.-]/g;Wu.exports=t=>{if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(Ev,"\\$&")}});var Qu=x((Gx,Xu)=>{"use strict";var Sv=Yu(),kv=typeof process=="object"&&process&&typeof process.cwd=="function"?process.cwd():".",Zu=[].concat(require("module").builtinModules,"bootstrap_node","node").map(t=>new RegExp(`(?:\\((?:node:)?${t}(?:\\.js)?:\\d+:\\d+\\)$|^\\s*at (?:node:)?${t}(?:\\.js)?:\\d+:\\d+$)`));Zu.push(/\((?:node:)?internal\/[^:]+:\d+:\d+\)$/,/\s*at (?:node:)?internal\/[^:]+:\d+:\d+$/,/\/\.node-spawn-wrap-\w+-\w+\/node:\d+:\d+\)?$/);var qi=class{constructor(e){e={ignoredPackages:[],...e},"internals"in e||(e.internals=qi.nodeInternals()),"cwd"in e||(e.cwd=kv),this._cwd=e.cwd.replace(/\\/g,"/"),this._internals=[].concat(e.internals,Cv(e.ignoredPackages)),this._wrapCallSite=e.wrapCallSite||!1}static nodeInternals(){return[...Zu]}clean(e,r=0){r=" ".repeat(r),Array.isArray(e)||(e=e.split(`
`)),!/^\s*at /.test(e[0])&&/^\s*at /.test(e[1])&&(e=e.slice(1));let i=!1,n=null,s=[];return e.forEach(o=>{if(o=o.replace(/\\/g,"/"),this._internals.some(l=>l.test(o)))return;let a=/^\s*at /.test(o);i?o=o.trimEnd().replace(/^(\s+)at /,"$1"):(o=o.trim(),a&&(o=o.slice(3))),o=o.replace(`${this._cwd}/`,""),o&&(a?(n&&(s.push(n),n=null),s.push(o)):(i=!0,n=o))}),s.map(o=>`${r}${o}
`).join("")}captureString(e,r=this.captureString){typeof e=="function"&&(r=e,e=1/0);let{stackTraceLimit:i}=Error;e&&(Error.stackTraceLimit=e);let n={};Error.captureStackTrace(n,r);let{stack:s}=n;return Error.stackTraceLimit=i,this.clean(s)}capture(e,r=this.capture){typeof e=="function"&&(r=e,e=1/0);let{prepareStackTrace:i,stackTraceLimit:n}=Error;Error.prepareStackTrace=(a,l)=>this._wrapCallSite?l.map(this._wrapCallSite):l,e&&(Error.stackTraceLimit=e);let s={};Error.captureStackTrace(s,r);let{stack:o}=s;return Object.assign(Error,{prepareStackTrace:i,stackTraceLimit:n}),o}at(e=this.at){let[r]=this.capture(1,e);if(!r)return{};let i={line:r.getLineNumber(),column:r.getColumnNumber()};Ku(i,r.getFileName(),this._cwd),r.isConstructor()&&(i.constructor=!0),r.isEval()&&(i.evalOrigin=r.getEvalOrigin()),r.isNative()&&(i.native=!0);let n;try{n=r.getTypeName()}catch{}n&&n!=="Object"&&n!=="[object Object]"&&(i.type=n);let s=r.getFunctionName();s&&(i.function=s);let o=r.getMethodName();return o&&s!==o&&(i.method=o),i}parseLine(e){let r=e&&e.match(Ov);if(!r)return null;let i=r[1]==="new",n=r[2],s=r[3],o=r[4],a=Number(r[5]),l=Number(r[6]),c=r[7],u=r[8],f=r[9],h=r[10]==="native",p=r[11]===")",d,m={};if(u&&(m.line=Number(u)),f&&(m.column=Number(f)),p&&c){let v=0;for(let y=c.length-1;y>0;y--)if(c.charAt(y)===")")v++;else if(c.charAt(y)==="("&&c.charAt(y-1)===" "&&(v--,v===-1&&c.charAt(y-1)===" ")){let O=c.slice(0,y-1);c=c.slice(y+1),n+=` (${O}`;break}}if(n){let v=n.match(Iv);v&&(n=v[1],d=v[2])}return Ku(m,c,this._cwd),i&&(m.constructor=!0),s&&(m.evalOrigin=s,m.evalLine=a,m.evalColumn=l,m.evalFile=o&&o.replace(/\\/g,"/")),h&&(m.native=!0),n&&(m.function=n),d&&n!==d&&(m.method=d),m}};function Ku(t,e,r){e&&(e=e.replace(/\\/g,"/"),e.startsWith(`${r}/`)&&(e=e.slice(r.length+1)),t.file=e)}function Cv(t){if(t.length===0)return[];let e=t.map(r=>Sv(r));return new RegExp(`[/\\\\]node_modules[/\\\\](?:${e.join("|")})[/\\\\][^:]+:\\d+:\\d+`)}var Ov=new RegExp("^(?:\\s*at )?(?:(new) )?(?:(.*?) \\()?(?:eval at ([^ ]+) \\((.+?):(\\d+):(\\d+)\\), )?(?:(.+?):(\\d+):(\\d+)|(native))(\\)?)$"),Iv=/^(.*?) \[as (.*?)\]$/;Xu.exports=qi});var rf=x((zx,tf)=>{"use strict";var{Duplex:Tv}=require("stream");function Ju(t){t.emit("close")}function Av(){!this.destroyed&&this._writableState.finished&&this.destroy()}function ef(t){this.removeListener("error",ef),this.destroy(),this.listenerCount("error")===0&&this.emit("error",t)}function Rv(t,e){let r=!0,i=new Tv({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return t.on("message",function(s,o){let a=!o&&i._readableState.objectMode?s.toString():s;i.push(a)||t.pause()}),t.once("error",function(s){i.destroyed||(r=!1,i.destroy(s))}),t.once("close",function(){i.destroyed||i.push(null)}),i._destroy=function(n,s){if(t.readyState===t.CLOSED){s(n),process.nextTick(Ju,i);return}let o=!1;t.once("error",function(l){o=!0,s(l)}),t.once("close",function(){o||s(n),process.nextTick(Ju,i)}),r&&t.terminate()},i._final=function(n){if(t.readyState===t.CONNECTING){t.once("open",function(){i._final(n)});return}t._socket!==null&&(t._socket._writableState.finished?(n(),i._readableState.endEmitted&&i.destroy()):(t._socket.once("finish",function(){n()}),t.close()))},i._read=function(){t.isPaused&&t.resume()},i._write=function(n,s,o){if(t.readyState===t.CONNECTING){t.once("open",function(){i._write(n,s,o)});return}t.send(n,o)},i.on("end",Av),i.on("error",ef),i}tf.exports=Rv});var kt=x((Wx,nf)=>{"use strict";nf.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var Yr=x((Yx,Hs)=>{"use strict";var{EMPTY_BUFFER:Bv}=kt();function sf(t,e){if(t.length===0)return Bv;if(t.length===1)return t[0];let r=Buffer.allocUnsafe(e),i=0;for(let n=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return i<e?r.slice(0,i):r}function of(t,e,r,i,n){for(let s=0;s<n;s++)r[i+s]=t[s]^e[s&3]}function af(t,e){for(let r=0;r<t.length;r++)t[r]^=e[r&3]}function lf(t){return t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}function Hi(t){if(Hi.readOnly=!0,Buffer.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=Buffer.from(t):ArrayBuffer.isView(t)?e=Buffer.from(t.buffer,t.byteOffset,t.byteLength):(e=Buffer.from(t),Hi.readOnly=!1),e}try{let t=require("bufferutil");Hs.exports={concat:sf,mask(e,r,i,n,s){s<48?of(e,r,i,n,s):t.mask(e,r,i,n,s)},toArrayBuffer:lf,toBuffer:Hi,unmask(e,r){e.length<32?af(e,r):t.unmask(e,r)}}}catch{Hs.exports={concat:sf,mask:of,toArrayBuffer:lf,toBuffer:Hi,unmask:af}}});var hf=x((Kx,ff)=>{"use strict";var cf=Symbol("kDone"),Vs=Symbol("kRun"),uf=class{constructor(e){this[cf]=()=>{this.pending--,this[Vs]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[Vs]()}[Vs](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[cf])}}};ff.exports=uf});var Xr=x((Zx,gf)=>{"use strict";var Kr=require("zlib"),pf=Yr(),Lv=hf(),{kStatusCode:df}=kt(),Nv=Buffer.from([0,0,255,255]),Gi=Symbol("permessage-deflate"),ht=Symbol("total-length"),Zr=Symbol("callback"),Ct=Symbol("buffers"),$i=Symbol("error"),Vi,mf=class{constructor(e,r,i){if(this._maxPayload=i|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!r,this._deflate=null,this._inflate=null,this.params=null,!Vi){let n=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Vi=new Lv(n)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[Zr];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let r=this._options,i=e.find(n=>!(r.serverNoContextTakeover===!1&&n.server_no_context_takeover||n.server_max_window_bits&&(r.serverMaxWindowBits===!1||typeof r.serverMaxWindowBits=="number"&&r.serverMaxWindowBits>n.server_max_window_bits)||typeof r.clientMaxWindowBits=="number"&&!n.client_max_window_bits));if(!i)throw new Error("None of the extension offers can be accepted");return r.serverNoContextTakeover&&(i.server_no_context_takeover=!0),r.clientNoContextTakeover&&(i.client_no_context_takeover=!0),typeof r.serverMaxWindowBits=="number"&&(i.server_max_window_bits=r.serverMaxWindowBits),typeof r.clientMaxWindowBits=="number"?i.client_max_window_bits=r.clientMaxWindowBits:(i.client_max_window_bits===!0||r.clientMaxWindowBits===!1)&&delete i.client_max_window_bits,i}acceptAsClient(e){let r=e[0];if(this._options.clientNoContextTakeover===!1&&r.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!r.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(r.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&r.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return r}normalizeParams(e){return e.forEach(r=>{Object.keys(r).forEach(i=>{let n=r[i];if(n.length>1)throw new Error(`Parameter "${i}" must have only a single value`);if(n=n[0],i==="client_max_window_bits"){if(n!==!0){let s=+n;if(!Number.isInteger(s)||s<8||s>15)throw new TypeError(`Invalid value for parameter "${i}": ${n}`);n=s}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${i}": ${n}`)}else if(i==="server_max_window_bits"){let s=+n;if(!Number.isInteger(s)||s<8||s>15)throw new TypeError(`Invalid value for parameter "${i}": ${n}`);n=s}else if(i==="client_no_context_takeover"||i==="server_no_context_takeover"){if(n!==!0)throw new TypeError(`Invalid value for parameter "${i}": ${n}`)}else throw new Error(`Unknown parameter "${i}"`);r[i]=n})}),e}decompress(e,r,i){Vi.add(n=>{this._decompress(e,r,(s,o)=>{n(),i(s,o)})})}compress(e,r,i){Vi.add(n=>{this._compress(e,r,(s,o)=>{n(),i(s,o)})})}_decompress(e,r,i){let n=this._isServer?"client":"server";if(!this._inflate){let s=`${n}_max_window_bits`,o=typeof this.params[s]!="number"?Kr.Z_DEFAULT_WINDOWBITS:this.params[s];this._inflate=Kr.createInflateRaw({...this._options.zlibInflateOptions,windowBits:o}),this._inflate[Gi]=this,this._inflate[ht]=0,this._inflate[Ct]=[],this._inflate.on("error",Fv),this._inflate.on("data",vf)}this._inflate[Zr]=i,this._inflate.write(e),r&&this._inflate.write(Nv),this._inflate.flush(()=>{let s=this._inflate[$i];if(s){this._inflate.close(),this._inflate=null,i(s);return}let o=pf.concat(this._inflate[Ct],this._inflate[ht]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[ht]=0,this._inflate[Ct]=[],r&&this.params[`${n}_no_context_takeover`]&&this._inflate.reset()),i(null,o)})}_compress(e,r,i){let n=this._isServer?"server":"client";if(!this._deflate){let s=`${n}_max_window_bits`,o=typeof this.params[s]!="number"?Kr.Z_DEFAULT_WINDOWBITS:this.params[s];this._deflate=Kr.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:o}),this._deflate[ht]=0,this._deflate[Ct]=[],this._deflate.on("data",Pv)}this._deflate[Zr]=i,this._deflate.write(e),this._deflate.flush(Kr.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let s=pf.concat(this._deflate[Ct],this._deflate[ht]);r&&(s=s.slice(0,s.length-4)),this._deflate[Zr]=null,this._deflate[ht]=0,this._deflate[Ct]=[],r&&this.params[`${n}_no_context_takeover`]&&this._deflate.reset(),i(null,s)})}};gf.exports=mf;function Pv(t){this[Ct].push(t),this[ht]+=t.length}function vf(t){if(this[ht]+=t.length,this[Gi]._maxPayload<1||this[ht]<=this[Gi]._maxPayload){this[Ct].push(t);return}this[$i]=new RangeError("Max payload size exceeded"),this[$i].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[$i][df]=1009,this.removeListener("data",vf),this.reset()}function Fv(t){this[Gi]._inflate=null,t[df]=1007,this[Zr](t)}});var Qr=x((Xx,$s)=>{"use strict";var _f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function xf(t){return t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999}function yf(t){let e=t.length,r=0;for(;r<e;)if((t[r]&128)===0)r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}try{let t=require("utf-8-validate");$s.exports={isValidStatusCode:xf,isValidUTF8(e){return e.length<150?yf(e):t(e)},tokenChars:_f}}catch{$s.exports={isValidStatusCode:xf,isValidUTF8:yf,tokenChars:_f}}});var Ws=x((Qx,If)=>{"use strict";var{Writable:Mv}=require("stream"),bf=Xr(),{BINARY_TYPES:Uv,EMPTY_BUFFER:wf,kStatusCode:Dv,kWebSocket:jv}=kt(),{concat:Gs,toArrayBuffer:qv,unmask:Hv}=Yr(),{isValidStatusCode:Vv,isValidUTF8:Ef}=Qr(),Jr=0,Sf=1,kf=2,Cf=3,zs=4,$v=5,Of=class extends Mv{constructor(e={}){super();this._binaryType=e.binaryType||Uv[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[jv]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=Jr,this._loop=!1}_write(e,r,i){if(this._opcode===8&&this._state==Jr)return i();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(i)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let i=this._buffers[0];return this._buffers[0]=i.slice(e),i.slice(0,e)}let r=Buffer.allocUnsafe(e);do{let i=this._buffers[0],n=r.length-e;e>=i.length?r.set(this._buffers.shift(),n):(r.set(new Uint8Array(i.buffer,i.byteOffset,e),n),this._buffers[0]=i.slice(e)),e-=i.length}while(e>0);return r}startLoop(e){let r;this._loop=!0;do switch(this._state){case Jr:r=this.getInfo();break;case Sf:r=this.getPayloadLength16();break;case kf:r=this.getPayloadLength64();break;case Cf:this.getMask();break;case zs:r=this.getData(e);break;default:this._loop=!1;return}while(this._loop);e(r)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let e=this.consume(2);if((e[0]&48)!==0)return this._loop=!1,Le(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let r=(e[0]&64)===64;if(r&&!this._extensions[bf.extensionName])return this._loop=!1,Le(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(e[0]&128)===128,this._opcode=e[0]&15,this._payloadLength=e[1]&127,this._opcode===0){if(r)return this._loop=!1,Le(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,Le(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,Le(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=r}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,Le(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(r)return this._loop=!1,Le(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125)return this._loop=!1,Le(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else return this._loop=!1,Le(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(e[1]&128)===128,this._isServer){if(!this._masked)return this._loop=!1,Le(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,Le(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(this._payloadLength===126)this._state=Sf;else if(this._payloadLength===127)this._state=kf;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let e=this.consume(8),r=e.readUInt32BE(0);return r>Math.pow(2,53-32)-1?(this._loop=!1,Le(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=r*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,Le(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=Cf:this._state=zs}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=zs}getData(e){let r=wf;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}r=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!==0&&Hv(r,this._mask)}if(this._opcode>7)return this.controlMessage(r);if(this._compressed){this._state=$v,this.decompress(r,e);return}return r.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(r)),this.dataMessage()}decompress(e,r){this._extensions[bf.extensionName].decompress(e,this._fin,(n,s)=>{if(n)return r(n);if(s.length){if(this._messageLength+=s.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return r(Le(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(s)}let o=this.dataMessage();if(o)return r(o);this.startLoop(r)})}dataMessage(){if(this._fin){let e=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let i;this._binaryType==="nodebuffer"?i=Gs(r,e):this._binaryType==="arraybuffer"?i=qv(Gs(r,e)):i=r,this.emit("message",i,!0)}else{let i=Gs(r,e);if(!this._skipUTF8Validation&&!Ef(i))return this._loop=!1,Le(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",i,!1)}}this._state=Jr}controlMessage(e){if(this._opcode===8)if(this._loop=!1,e.length===0)this.emit("conclude",1005,wf),this.end();else{if(e.length===1)return Le(RangeError,"invalid payload length 1",!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");{let r=e.readUInt16BE(0);if(!Vv(r))return Le(RangeError,`invalid status code ${r}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let i=e.slice(2);if(!this._skipUTF8Validation&&!Ef(i))return Le(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",r,i),this.end()}}else this._opcode===9?this.emit("ping",e):this.emit("pong",e);this._state=Jr}};If.exports=Of;function Le(t,e,r,i,n){let s=new t(r?`Invalid WebSocket frame: ${e}`:e);return Error.captureStackTrace(s,Le),s.code=n,s[Dv]=i,s}});var Ys=x((ty,Rf)=>{"use strict";var Jx=require("net"),ey=require("tls"),{randomFillSync:Gv}=require("crypto"),Tf=Xr(),{EMPTY_BUFFER:zv}=kt(),{isValidStatusCode:Wv}=Qr(),{mask:Af,toBuffer:yr}=Yr(),ot=Symbol("kByteLength"),Yv=Buffer.alloc(4),pt=class{constructor(e,r,i){this._extensions=r||{},i&&(this._generateMask=i,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,r){let i,n=!1,s=2,o=!1;r.mask&&(i=r.maskBuffer||Yv,r.generateMask?r.generateMask(i):Gv(i,0,4),o=(i[0]|i[1]|i[2]|i[3])===0,s=6);let a;typeof e=="string"?(!r.mask||o)&&r[ot]!==void 0?a=r[ot]:(e=Buffer.from(e),a=e.length):(a=e.length,n=r.mask&&r.readOnly&&!o);let l=a;a>=65536?(s+=8,l=127):a>125&&(s+=2,l=126);let c=Buffer.allocUnsafe(n?a+s:s);return c[0]=r.fin?r.opcode|128:r.opcode,r.rsv1&&(c[0]|=64),c[1]=l,l===126?c.writeUInt16BE(a,2):l===127&&(c[2]=c[3]=0,c.writeUIntBE(a,4,6)),r.mask?(c[1]|=128,c[s-4]=i[0],c[s-3]=i[1],c[s-2]=i[2],c[s-1]=i[3],o?[c,e]:n?(Af(e,i,c,s,a),[c]):(Af(e,i,e,0,a),[c,e])):[c,e]}close(e,r,i,n){let s;if(e===void 0)s=zv;else{if(typeof e!="number"||!Wv(e))throw new TypeError("First argument must be a valid error code number");if(r===void 0||!r.length)s=Buffer.allocUnsafe(2),s.writeUInt16BE(e,0);else{let a=Buffer.byteLength(r);if(a>123)throw new RangeError("The message must not be greater than 123 bytes");s=Buffer.allocUnsafe(2+a),s.writeUInt16BE(e,0),typeof r=="string"?s.write(r,2):s.set(r,2)}}let o={[ot]:s.length,fin:!0,generateMask:this._generateMask,mask:i,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,s,!1,o,n]):this.sendFrame(pt.frame(s,o),n)}ping(e,r,i){let n,s;if(typeof e=="string"?(n=Buffer.byteLength(e),s=!1):(e=yr(e),n=e.length,s=yr.readOnly),n>125)throw new RangeError("The data size must not be greater than 125 bytes");let o={[ot]:n,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:9,readOnly:s,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,o,i]):this.sendFrame(pt.frame(e,o),i)}pong(e,r,i){let n,s;if(typeof e=="string"?(n=Buffer.byteLength(e),s=!1):(e=yr(e),n=e.length,s=yr.readOnly),n>125)throw new RangeError("The data size must not be greater than 125 bytes");let o={[ot]:n,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:10,readOnly:s,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,o,i]):this.sendFrame(pt.frame(e,o),i)}send(e,r,i){let n=this._extensions[Tf.extensionName],s=r.binary?2:1,o=r.compress,a,l;if(typeof e=="string"?(a=Buffer.byteLength(e),l=!1):(e=yr(e),a=e.length,l=yr.readOnly),this._firstFragment?(this._firstFragment=!1,o&&n&&n.params[n._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(o=a>=n._threshold),this._compress=o):(o=!1,s=0),r.fin&&(this._firstFragment=!0),n){let c={[ot]:a,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:s,readOnly:l,rsv1:o};this._deflating?this.enqueue([this.dispatch,e,this._compress,c,i]):this.dispatch(e,this._compress,c,i)}else this.sendFrame(pt.frame(e,{[ot]:a,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:s,readOnly:l,rsv1:!1}),i)}dispatch(e,r,i,n){if(!r){this.sendFrame(pt.frame(e,i),n);return}let s=this._extensions[Tf.extensionName];this._bufferedBytes+=i[ot],this._deflating=!0,s.compress(e,i.fin,(o,a)=>{if(this._socket.destroyed){let l=new Error("The socket was closed while data was being compressed");typeof n=="function"&&n(l);for(let c=0;c<this._queue.length;c++){let u=this._queue[c],f=u[u.length-1];typeof f=="function"&&f(l)}return}this._bufferedBytes-=i[ot],this._deflating=!1,i.readOnly=!1,this.sendFrame(pt.frame(a,i),n),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][ot],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][ot],this._queue.push(e)}sendFrame(e,r){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],r),this._socket.uncork()):this._socket.write(e[0],r)}};Rf.exports=pt});var qf=x((ry,jf)=>{"use strict";var{kForOnEventAttribute:Ks,kListener:Bf}=kt(),Lf=Symbol("kCode"),Nf=Symbol("kData"),Pf=Symbol("kError"),Ff=Symbol("kMessage"),Mf=Symbol("kReason"),br=Symbol("kTarget"),Uf=Symbol("kType"),Df=Symbol("kWasClean"),Ot=class{constructor(e){this[br]=null,this[Uf]=e}get target(){return this[br]}get type(){return this[Uf]}};Object.defineProperty(Ot.prototype,"target",{enumerable:!0});Object.defineProperty(Ot.prototype,"type",{enumerable:!0});var wr=class extends Ot{constructor(e,r={}){super(e);this[Lf]=r.code===void 0?0:r.code,this[Mf]=r.reason===void 0?"":r.reason,this[Df]=r.wasClean===void 0?!1:r.wasClean}get code(){return this[Lf]}get reason(){return this[Mf]}get wasClean(){return this[Df]}};Object.defineProperty(wr.prototype,"code",{enumerable:!0});Object.defineProperty(wr.prototype,"reason",{enumerable:!0});Object.defineProperty(wr.prototype,"wasClean",{enumerable:!0});var ei=class extends Ot{constructor(e,r={}){super(e);this[Pf]=r.error===void 0?null:r.error,this[Ff]=r.message===void 0?"":r.message}get error(){return this[Pf]}get message(){return this[Ff]}};Object.defineProperty(ei.prototype,"error",{enumerable:!0});Object.defineProperty(ei.prototype,"message",{enumerable:!0});var zi=class extends Ot{constructor(e,r={}){super(e);this[Nf]=r.data===void 0?null:r.data}get data(){return this[Nf]}};Object.defineProperty(zi.prototype,"data",{enumerable:!0});var Kv={addEventListener(t,e,r={}){let i;if(t==="message")i=function(s,o){let a=new zi("message",{data:o?s:s.toString()});a[br]=this,e.call(this,a)};else if(t==="close")i=function(s,o){let a=new wr("close",{code:s,reason:o.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});a[br]=this,e.call(this,a)};else if(t==="error")i=function(s){let o=new ei("error",{error:s,message:s.message});o[br]=this,e.call(this,o)};else if(t==="open")i=function(){let s=new Ot("open");s[br]=this,e.call(this,s)};else return;i[Ks]=!!r[Ks],i[Bf]=e,r.once?this.once(t,i):this.on(t,i)},removeEventListener(t,e){for(let r of this.listeners(t))if(r[Bf]===e&&!r[Ks]){this.removeListener(t,r);break}}};jf.exports={CloseEvent:wr,ErrorEvent:ei,Event:Ot,EventTarget:Kv,MessageEvent:zi}});var Zs=x((iy,Hf)=>{"use strict";var{tokenChars:ti}=Qr();function lt(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}function Zv(t){let e=Object.create(null),r=Object.create(null),i=!1,n=!1,s=!1,o,a,l=-1,c=-1,u=-1,f=0;for(;f<t.length;f++)if(c=t.charCodeAt(f),o===void 0)if(u===-1&&ti[c]===1)l===-1&&(l=f);else if(f!==0&&(c===32||c===9))u===-1&&l!==-1&&(u=f);else if(c===59||c===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${f}`);u===-1&&(u=f);let p=t.slice(l,u);c===44?(lt(e,p,r),r=Object.create(null)):o=p,l=u=-1}else throw new SyntaxError(`Unexpected character at index ${f}`);else if(a===void 0)if(u===-1&&ti[c]===1)l===-1&&(l=f);else if(c===32||c===9)u===-1&&l!==-1&&(u=f);else if(c===59||c===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${f}`);u===-1&&(u=f),lt(r,t.slice(l,u),!0),c===44&&(lt(e,o,r),r=Object.create(null),o=void 0),l=u=-1}else if(c===61&&l!==-1&&u===-1)a=t.slice(l,f),l=u=-1;else throw new SyntaxError(`Unexpected character at index ${f}`);else if(n){if(ti[c]!==1)throw new SyntaxError(`Unexpected character at index ${f}`);l===-1?l=f:i||(i=!0),n=!1}else if(s)if(ti[c]===1)l===-1&&(l=f);else if(c===34&&l!==-1)s=!1,u=f;else if(c===92)n=!0;else throw new SyntaxError(`Unexpected character at index ${f}`);else if(c===34&&t.charCodeAt(f-1)===61)s=!0;else if(u===-1&&ti[c]===1)l===-1&&(l=f);else if(l!==-1&&(c===32||c===9))u===-1&&(u=f);else if(c===59||c===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${f}`);u===-1&&(u=f);let p=t.slice(l,u);i&&(p=p.replace(/\\/g,""),i=!1),lt(r,a,p),c===44&&(lt(e,o,r),r=Object.create(null),o=void 0),a=void 0,l=u=-1}else throw new SyntaxError(`Unexpected character at index ${f}`);if(l===-1||s||c===32||c===9)throw new SyntaxError("Unexpected end of input");u===-1&&(u=f);let h=t.slice(l,u);return o===void 0?lt(e,h,r):(a===void 0?lt(r,h,!0):i?lt(r,a,h.replace(/\\/g,"")):lt(r,a,h),lt(e,o,r)),e}function Xv(t){return Object.keys(t).map(e=>{let r=t[e];return Array.isArray(r)||(r=[r]),r.map(i=>[e].concat(Object.keys(i).map(n=>{let s=i[n];return Array.isArray(s)||(s=[s]),s.map(o=>o===!0?n:`${n}=${o}`).join("; ")})).join("; ")).join(", ")}).join(", ")}Hf.exports={format:Xv,parse:Zv}});var ro=x((sy,Qf)=>{"use strict";var Qv=require("events"),Jv=require("https"),eg=require("http"),Gf=require("net"),tg=require("tls"),{randomBytes:rg,createHash:ig}=require("crypto"),{Readable:ny}=require("stream"),{URL:Xs}=require("url"),It=Xr(),ng=Ws(),sg=Ys(),{BINARY_TYPES:Vf,EMPTY_BUFFER:Wi,GUID:og,kForOnEventAttribute:Qs,kListener:ag,kStatusCode:lg,kWebSocket:Ve,NOOP:zf}=kt(),{EventTarget:{addEventListener:cg,removeEventListener:ug}}=qf(),{format:fg,parse:hg}=Zs(),{toBuffer:pg}=Yr(),dt=["CONNECTING","OPEN","CLOSING","CLOSED"],dg=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,Js=[8,13],mg=30*1e3,J=class extends Qv{constructor(e,r,i){super();this._binaryType=Vf[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=Wi,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=J.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,r===void 0?r=[]:Array.isArray(r)||(typeof r=="object"&&r!==null?(i=r,r=[]):r=[r]),Wf(this,e,r,i)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){!Vf.includes(e)||(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,r,i){let n=new ng({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation});this._sender=new sg(e,this._extensions,i.generateMask),this._receiver=n,this._socket=e,n[Ve]=this,e[Ve]=this,n.on("conclude",_g),n.on("drain",xg),n.on("error",yg),n.on("message",bg),n.on("ping",wg),n.on("pong",Eg),e.setTimeout(0),e.setNoDelay(),r.length>0&&e.unshift(r),e.on("close",Kf),e.on("data",Yi),e.on("end",Zf),e.on("error",Xf),this._readyState=J.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=J.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[It.extensionName]&&this._extensions[It.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=J.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,r){if(this.readyState!==J.CLOSED){if(this.readyState===J.CONNECTING){let i="WebSocket was closed before the connection was established";return et(this,this._req,i)}if(this.readyState===J.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=J.CLOSING,this._sender.close(e,r,!this._isServer,i=>{i||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),mg)}}pause(){this.readyState===J.CONNECTING||this.readyState===J.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,r,i){if(this.readyState===J.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(i=e,e=r=void 0):typeof r=="function"&&(i=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==J.OPEN){to(this,e,i);return}r===void 0&&(r=!this._isServer),this._sender.ping(e||Wi,r,i)}pong(e,r,i){if(this.readyState===J.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(i=e,e=r=void 0):typeof r=="function"&&(i=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==J.OPEN){to(this,e,i);return}r===void 0&&(r=!this._isServer),this._sender.pong(e||Wi,r,i)}resume(){this.readyState===J.CONNECTING||this.readyState===J.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,r,i){if(this.readyState===J.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"&&(i=r,r={}),typeof e=="number"&&(e=e.toString()),this.readyState!==J.OPEN){to(this,e,i);return}let n={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...r};this._extensions[It.extensionName]||(n.compress=!1),this._sender.send(e||Wi,n,i)}terminate(){if(this.readyState!==J.CLOSED){if(this.readyState===J.CONNECTING){let e="WebSocket was closed before the connection was established";return et(this,this._req,e)}this._socket&&(this._readyState=J.CLOSING,this._socket.destroy())}}};Object.defineProperty(J,"CONNECTING",{enumerable:!0,value:dt.indexOf("CONNECTING")});Object.defineProperty(J.prototype,"CONNECTING",{enumerable:!0,value:dt.indexOf("CONNECTING")});Object.defineProperty(J,"OPEN",{enumerable:!0,value:dt.indexOf("OPEN")});Object.defineProperty(J.prototype,"OPEN",{enumerable:!0,value:dt.indexOf("OPEN")});Object.defineProperty(J,"CLOSING",{enumerable:!0,value:dt.indexOf("CLOSING")});Object.defineProperty(J.prototype,"CLOSING",{enumerable:!0,value:dt.indexOf("CLOSING")});Object.defineProperty(J,"CLOSED",{enumerable:!0,value:dt.indexOf("CLOSED")});Object.defineProperty(J.prototype,"CLOSED",{enumerable:!0,value:dt.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(t=>{Object.defineProperty(J.prototype,t,{enumerable:!0})});["open","error","close","message"].forEach(t=>{Object.defineProperty(J.prototype,`on${t}`,{enumerable:!0,get(){for(let e of this.listeners(t))if(e[Qs])return e[ag];return null},set(e){for(let r of this.listeners(t))if(r[Qs]){this.removeListener(t,r);break}typeof e=="function"&&this.addEventListener(t,e,{[Qs]:!0})}})});J.prototype.addEventListener=cg;J.prototype.removeEventListener=ug;Qf.exports=J;function Wf(t,e,r,i){let n={protocolVersion:Js[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...i,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0};if(!Js.includes(n.protocolVersion))throw new RangeError(`Unsupported protocol version: ${n.protocolVersion} (supported versions: ${Js.join(", ")})`);let s;if(e instanceof Xs)s=e,t._url=e.href;else{try{s=new Xs(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}t._url=e}let o=s.protocol==="wss:",a=s.protocol==="ws+unix:",l;if(s.protocol!=="ws:"&&!o&&!a?l=`The URL's protocol must be one of "ws:", "wss:", or "ws+unix:"`:a&&!s.pathname?l="The URL's pathname is empty":s.hash&&(l="The URL contains a fragment identifier"),l){let m=new SyntaxError(l);if(t._redirects===0)throw m;eo(t,m);return}let c=o?443:80,u=rg(16).toString("base64"),f=o?Jv.get:eg.get,h=new Set,p;if(n.createConnection=o?gg:vg,n.defaultPort=n.defaultPort||c,n.port=s.port||c,n.host=s.hostname.startsWith("[")?s.hostname.slice(1,-1):s.hostname,n.headers={"Sec-WebSocket-Version":n.protocolVersion,"Sec-WebSocket-Key":u,Connection:"Upgrade",Upgrade:"websocket",...n.headers},n.path=s.pathname+s.search,n.timeout=n.handshakeTimeout,n.perMessageDeflate&&(p=new It(n.perMessageDeflate!==!0?n.perMessageDeflate:{},!1,n.maxPayload),n.headers["Sec-WebSocket-Extensions"]=fg({[It.extensionName]:p.offer()})),r.length){for(let m of r){if(typeof m!="string"||!dg.test(m)||h.has(m))throw new SyntaxError("An invalid or duplicated subprotocol was specified");h.add(m)}n.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(n.origin&&(n.protocolVersion<13?n.headers["Sec-WebSocket-Origin"]=n.origin:n.headers.Origin=n.origin),(s.username||s.password)&&(n.auth=`${s.username}:${s.password}`),a){let m=n.path.split(":");n.socketPath=m[0],n.path=m[1]}let d=t._req=f(n);n.timeout&&d.on("timeout",()=>{et(t,d,"Opening handshake has timed out")}),d.on("error",m=>{d===null||d.aborted||(d=t._req=null,eo(t,m))}),d.on("response",m=>{let v=m.headers.location,y=m.statusCode;if(v&&n.followRedirects&&y>=300&&y<400){if(++t._redirects>n.maxRedirects){et(t,d,"Maximum redirects exceeded");return}d.abort();let O;try{O=new Xs(v,e)}catch{let S=new SyntaxError(`Invalid URL: ${v}`);eo(t,S);return}Wf(t,O,r,i)}else t.emit("unexpected-response",d,m)||et(t,d,`Unexpected server response: ${m.statusCode}`)}),d.on("upgrade",(m,v,y)=>{if(t.emit("upgrade",m),t.readyState!==J.CONNECTING)return;d=t._req=null;let O=ig("sha1").update(u+og).digest("base64");if(m.headers["sec-websocket-accept"]!==O){et(t,v,"Invalid Sec-WebSocket-Accept header");return}let w=m.headers["sec-websocket-protocol"],S;if(w!==void 0?h.size?h.has(w)||(S="Server sent an invalid subprotocol"):S="Server sent a subprotocol but none was requested":h.size&&(S="Server sent no subprotocol"),S){et(t,v,S);return}w&&(t._protocol=w);let b=m.headers["sec-websocket-extensions"];if(b!==void 0){if(!p){et(t,v,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let V;try{V=hg(b)}catch{et(t,v,"Invalid Sec-WebSocket-Extensions header");return}let C=Object.keys(V);if(C.length!==1||C[0]!==It.extensionName){et(t,v,"Server indicated an extension that was not requested");return}try{p.accept(V[It.extensionName])}catch{et(t,v,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[It.extensionName]=p}t.setSocket(v,y,{generateMask:n.generateMask,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation})})}function eo(t,e){t._readyState=J.CLOSING,t.emit("error",e),t.emitClose()}function vg(t){return t.path=t.socketPath,Gf.connect(t)}function gg(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=Gf.isIP(t.host)?"":t.host),tg.connect(t)}function et(t,e,r){t._readyState=J.CLOSING;let i=new Error(r);Error.captureStackTrace(i,et),e.setHeader?(e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),e.once("abort",t.emitClose.bind(t)),t.emit("error",i)):(e.destroy(i),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function to(t,e,r){if(e){let i=pg(e).length;t._socket?t._sender._bufferedBytes+=i:t._bufferedAmount+=i}if(r){let i=new Error(`WebSocket is not open: readyState ${t.readyState} (${dt[t.readyState]})`);r(i)}}function _g(t,e){let r=this[Ve];r._closeFrameReceived=!0,r._closeMessage=e,r._closeCode=t,r._socket[Ve]!==void 0&&(r._socket.removeListener("data",Yi),process.nextTick(Yf,r._socket),t===1005?r.close():r.close(t,e))}function xg(){let t=this[Ve];t.isPaused||t._socket.resume()}function yg(t){let e=this[Ve];e._socket[Ve]!==void 0&&(e._socket.removeListener("data",Yi),process.nextTick(Yf,e._socket),e.close(t[lg])),e.emit("error",t)}function $f(){this[Ve].emitClose()}function bg(t,e){this[Ve].emit("message",t,e)}function wg(t){let e=this[Ve];e.pong(t,!e._isServer,zf),e.emit("ping",t)}function Eg(t){this[Ve].emit("pong",t)}function Yf(t){t.resume()}function Kf(){let t=this[Ve];this.removeListener("close",Kf),this.removeListener("data",Yi),this.removeListener("end",Zf),t._readyState=J.CLOSING;let e;!this._readableState.endEmitted&&!t._closeFrameReceived&&!t._receiver._writableState.errorEmitted&&(e=t._socket.read())!==null&&t._receiver.write(e),t._receiver.end(),this[Ve]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",$f),t._receiver.on("finish",$f))}function Yi(t){this[Ve]._receiver.write(t)||this.pause()}function Zf(){let t=this[Ve];t._readyState=J.CLOSING,t._receiver.end(),this.end()}function Xf(){let t=this[Ve];this.removeListener("error",Xf),this.on("error",zf),t&&(t._readyState=J.CLOSING,this.destroy())}});var eh=x((oy,Jf)=>{"use strict";var{tokenChars:Sg}=Qr();function kg(t){let e=new Set,r=-1,i=-1,n=0;for(n;n<t.length;n++){let o=t.charCodeAt(n);if(i===-1&&Sg[o]===1)r===-1&&(r=n);else if(n!==0&&(o===32||o===9))i===-1&&r!==-1&&(i=n);else if(o===44){if(r===-1)throw new SyntaxError(`Unexpected character at index ${n}`);i===-1&&(i=n);let a=t.slice(r,i);if(e.has(a))throw new SyntaxError(`The "${a}" subprotocol is duplicated`);e.add(a),r=i=-1}else throw new SyntaxError(`Unexpected character at index ${n}`)}if(r===-1||i!==-1)throw new SyntaxError("Unexpected end of input");let s=t.slice(r,n);if(e.has(s))throw new SyntaxError(`The "${s}" subprotocol is duplicated`);return e.add(s),e}Jf.exports={parse:kg}});var ah=x((uy,oh)=>{"use strict";var Cg=require("events"),Ki=require("http"),ay=require("https"),ly=require("net"),cy=require("tls"),{createHash:Og}=require("crypto"),th=Zs(),Wt=Xr(),Ig=eh(),Tg=ro(),{GUID:Ag,kWebSocket:Rg}=kt(),Bg=/^[+/0-9A-Za-z]{22}==$/,rh=0,ih=1,nh=2,sh=class extends Cg{constructor(e,r){super();if(e={maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=Ki.createServer((i,n)=>{let s=Ki.STATUS_CODES[426];n.writeHead(426,{"Content-Length":s.length,"Content-Type":"text/plain"}),n.end(s)}),this._server.listen(e.port,e.host,e.backlog,r)):e.server&&(this._server=e.server),this._server){let i=this.emit.bind(this,"connection");this._removeListeners=Lg(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(n,s,o)=>{this.handleUpgrade(n,s,o,i)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=rh}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===nh){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(ri,this);return}if(e&&this.once("close",e),this._state!==ih)if(this._state=ih,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(ri,this):process.nextTick(ri,this);else{let r=this._server;this._removeListeners(),this._removeListeners=this._server=null,r.close(()=>{ri(this)})}}shouldHandle(e){if(this.options.path){let r=e.url.indexOf("?");if((r!==-1?e.url.slice(0,r):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,r,i,n){r.on("error",io);let s=e.headers["sec-websocket-key"]!==void 0?e.headers["sec-websocket-key"]:!1,o=+e.headers["sec-websocket-version"];if(e.method!=="GET"||e.headers.upgrade.toLowerCase()!=="websocket"||!s||!Bg.test(s)||o!==8&&o!==13||!this.shouldHandle(e))return Er(r,400);let a=e.headers["sec-websocket-protocol"],l=new Set;if(a!==void 0)try{l=Ig.parse(a)}catch{return Er(r,400)}let c=e.headers["sec-websocket-extensions"],u={};if(this.options.perMessageDeflate&&c!==void 0){let f=new Wt(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let h=th.parse(c);h[Wt.extensionName]&&(f.accept(h[Wt.extensionName]),u[Wt.extensionName]=f)}catch{return Er(r,400)}}if(this.options.verifyClient){let f={origin:e.headers[`${o===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(f,(h,p,d,m)=>{if(!h)return Er(r,p||401,d,m);this.completeUpgrade(u,s,l,e,r,i,n)});return}if(!this.options.verifyClient(f))return Er(r,401)}this.completeUpgrade(u,s,l,e,r,i,n)}completeUpgrade(e,r,i,n,s,o,a){if(!s.readable||!s.writable)return s.destroy();if(s[Rg])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>rh)return Er(s,503);let l=Og("sha1").update(r+Ag).digest("base64"),c=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${l}`],u=new Tg(null);if(i.size){let f=this.options.handleProtocols?this.options.handleProtocols(i,n):i.values().next().value;f&&(c.push(`Sec-WebSocket-Protocol: ${f}`),u._protocol=f)}if(e[Wt.extensionName]){let f=e[Wt.extensionName].params,h=th.format({[Wt.extensionName]:[f]});c.push(`Sec-WebSocket-Extensions: ${h}`),u._extensions=e}this.emit("headers",c,n),s.write(c.concat(`\r
`).join(`\r
`)),s.removeListener("error",io),u.setSocket(s,o,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(u),u.on("close",()=>{this.clients.delete(u),this._shouldEmitClose&&!this.clients.size&&process.nextTick(ri,this)})),a(u,n)}};oh.exports=sh;function Lg(t,e){for(let r of Object.keys(e))t.on(r,e[r]);return function(){for(let i of Object.keys(e))t.removeListener(i,e[i])}}function ri(t){t._state=nh,t.emit("close")}function io(){this.destroy()}function Er(t,e,r,i){t.writable&&(r=r||Ki.STATUS_CODES[e],i={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...i},t.write(`HTTP/1.1 ${e} ${Ki.STATUS_CODES[e]}\r
`+Object.keys(i).map(n=>`${n}: ${i[n]}`).join(`\r
`)+`\r
\r
`+r)),t.removeListener("error",io),t.destroy()}});var Kg={};Rh(Kg,{HttpsProxyAgent:()=>bh.HttpsProxyAgent,PNG:()=>wh.PNG,SocksProxyAgent:()=>Sh.SocksProxyAgent,StackUtils:()=>$g,colors:()=>Pg,debug:()=>Fg,getProxyForUrl:()=>yh.getProxyForUrl,jpegjs:()=>Mg,lockfile:()=>Ug,mime:()=>Dg,minimatch:()=>jg,ms:()=>qg,program:()=>Eh.program,progress:()=>Hg,rimraf:()=>Vg,ws:()=>Gg,wsReceiver:()=>Wg,wsSender:()=>Yg,wsServer:()=>zg});module.exports=Bh(Kg);var uh=Te(Yo()),fh=Te(er()),yh=Te(sa()),bh=Te(ma()),hh=Te(wa()),ph=Te(el()),dh=Te(ll()),mh=Te(Dr()),vh=Te(Ji()),wh=Te(Ec()),Eh=Te(jc()),gh=Te(Gc()),_h=Te(Su()),Sh=Te(zu()),xh=Te(Qu());var Ng=Te(rf(),1),no=Te(Ws(),1),so=Te(Ys(),1),lh=Te(ro(),1),oo=Te(ah(),1);var ch=lh.default;var Pg=uh.default,Fg=fh.default,Mg=hh.default,Ug=ph.default,Dg=dh.default,jg=mh.default,qg=vh.default,Hg=gh.default,Vg=_h.default,$g=xh.default,Gg=ch,zg=oo.default,Wg=no.default,Yg=so.default;0&&(module.exports={HttpsProxyAgent,PNG,SocksProxyAgent,StackUtils,colors,debug,getProxyForUrl,jpegjs,lockfile,mime,minimatch,ms,program,progress,rimraf,ws,wsReceiver,wsSender,wsServer});
/*!
 * node-progress
 * Copyright(c) 2011 TJ Holowaychuk <tj@vision-media.ca>
 * MIT Licensed
 */
